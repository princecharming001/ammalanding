function Rv(s,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(s,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function Fm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ov(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var a=s.default;if(typeof a=="function"){var r=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var c=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(r,l,c.get?c:{enumerable:!0,get:function(){return s[l]}})}),r}var Vc={exports:{}},wi={};var P0;function kv(){if(P0)return wi;P0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:s,type:l,key:h,ref:c!==void 0?c:null,props:u}}return wi.Fragment=a,wi.jsx=r,wi.jsxs=r,wi}var I0;function Nv(){return I0||(I0=1,Vc.exports=kv()),Vc.exports}var f=Nv(),$c={exports:{}},ge={};var V0;function zv(){if(V0)return ge;V0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function q(A,I,Q){this.props=A,this.context=I,this.refs=j,this.updater=Q||E}q.prototype.isReactComponent={},q.prototype.setState=function(A,I){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,I,"setState")},q.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=q.prototype;function L(A,I,Q){this.props=A,this.context=I,this.refs=j,this.updater=Q||E}var K=L.prototype=new F;K.constructor=L,k(K,q.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function te(){}var O={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function Z(A,I,Q){var ee=Q.ref;return{$$typeof:s,type:A,key:I,ref:ee!==void 0?ee:null,props:Q}}function _e(A,I){return Z(A.type,I,A.props)}function we(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function ke(A){var I={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Q){return I[Q]})}var Me=/\/+/g;function Te(A,I){return typeof A=="object"&&A!==null&&A.key!=null?ke(""+A.key):I.toString(36)}function Ce(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(te,te):(A.status="pending",A.then(function(I){A.status==="pending"&&(A.status="fulfilled",A.value=I)},function(I){A.status==="pending"&&(A.status="rejected",A.reason=I)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function M(A,I,Q,ee,fe){var B=typeof A;(B==="undefined"||B==="boolean")&&(A=null);var le=!1;if(A===null)le=!0;else switch(B){case"bigint":case"string":case"number":le=!0;break;case"object":switch(A.$$typeof){case s:case a:le=!0;break;case b:return le=A._init,M(le(A._payload),I,Q,ee,fe)}}if(le)return fe=fe(A),le=ee===""?"."+Te(A,0):ee,ne(fe)?(Q="",le!=null&&(Q=le.replace(Me,"$&/")+"/"),M(fe,I,Q,"",function(oe){return oe})):fe!=null&&(we(fe)&&(fe=_e(fe,Q+(fe.key==null||A&&A.key===fe.key?"":(""+fe.key).replace(Me,"$&/")+"/")+le)),I.push(fe)),1;le=0;var pe=ee===""?".":ee+":";if(ne(A))for(var $=0;$<A.length;$++)ee=A[$],B=pe+Te(ee,$),le+=M(ee,I,Q,B,fe);else if($=w(A),typeof $=="function")for(A=$.call(A),$=0;!(ee=A.next()).done;)ee=ee.value,B=pe+Te(ee,$++),le+=M(ee,I,Q,B,fe);else if(B==="object"){if(typeof A.then=="function")return M(Ce(A),I,Q,ee,fe);throw I=String(A),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(A,I,Q){if(A==null)return A;var ee=[],fe=0;return M(A,ee,"","",function(B){return I.call(Q,B,fe++)}),ee}function D(A){if(A._status===-1){var I=A._result;I=I(),I.then(function(Q){(A._status===0||A._status===-1)&&(A._status=1,A._result=Q)},function(Q){(A._status===0||A._status===-1)&&(A._status=2,A._result=Q)}),A._status===-1&&(A._status=0,A._result=I)}if(A._status===1)return A._result.default;throw A._result}var X=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},J={map:W,forEach:function(A,I,Q){W(A,function(){I.apply(this,arguments)},Q)},count:function(A){var I=0;return W(A,function(){I++}),I},toArray:function(A){return W(A,function(I){return I})||[]},only:function(A){if(!we(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ge.Activity=_,ge.Children=J,ge.Component=q,ge.Fragment=r,ge.Profiler=c,ge.PureComponent=L,ge.StrictMode=l,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(A,I,Q){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=k({},A.props),fe=A.key;if(I!=null)for(B in I.key!==void 0&&(fe=""+I.key),I)!ae.call(I,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&I.ref===void 0||(ee[B]=I[B]);var B=arguments.length-2;if(B===1)ee.children=Q;else if(1<B){for(var le=Array(B),pe=0;pe<B;pe++)le[pe]=arguments[pe+2];ee.children=le}return Z(A.type,fe,ee)},ge.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},ge.createElement=function(A,I,Q){var ee,fe={},B=null;if(I!=null)for(ee in I.key!==void 0&&(B=""+I.key),I)ae.call(I,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=I[ee]);var le=arguments.length-2;if(le===1)fe.children=Q;else if(1<le){for(var pe=Array(le),$=0;$<le;$++)pe[$]=arguments[$+2];fe.children=pe}if(A&&A.defaultProps)for(ee in le=A.defaultProps,le)fe[ee]===void 0&&(fe[ee]=le[ee]);return Z(A,B,fe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:m,render:A}},ge.isValidElement=we,ge.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:D}},ge.memo=function(A,I){return{$$typeof:y,type:A,compare:I===void 0?null:I}},ge.startTransition=function(A){var I=O.T,Q={};O.T=Q;try{var ee=A(),fe=O.S;fe!==null&&fe(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(te,X)}catch(B){X(B)}finally{I!==null&&Q.types!==null&&(I.types=Q.types),O.T=I}},ge.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ge.use=function(A){return O.H.use(A)},ge.useActionState=function(A,I,Q){return O.H.useActionState(A,I,Q)},ge.useCallback=function(A,I){return O.H.useCallback(A,I)},ge.useContext=function(A){return O.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,I){return O.H.useDeferredValue(A,I)},ge.useEffect=function(A,I){return O.H.useEffect(A,I)},ge.useEffectEvent=function(A){return O.H.useEffectEvent(A)},ge.useId=function(){return O.H.useId()},ge.useImperativeHandle=function(A,I,Q){return O.H.useImperativeHandle(A,I,Q)},ge.useInsertionEffect=function(A,I){return O.H.useInsertionEffect(A,I)},ge.useLayoutEffect=function(A,I){return O.H.useLayoutEffect(A,I)},ge.useMemo=function(A,I){return O.H.useMemo(A,I)},ge.useOptimistic=function(A,I){return O.H.useOptimistic(A,I)},ge.useReducer=function(A,I,Q){return O.H.useReducer(A,I,Q)},ge.useRef=function(A){return O.H.useRef(A)},ge.useState=function(A){return O.H.useState(A)},ge.useSyncExternalStore=function(A,I,Q){return O.H.useSyncExternalStore(A,I,Q)},ge.useTransition=function(){return O.H.useTransition()},ge.version="19.2.0",ge}var $0;function Au(){return $0||($0=1,$c.exports=zv()),$c.exports}var C=Au();const Cn=Fm(C);var Gc={exports:{}},Si={},Yc={exports:{}},Kc={};var G0;function Dv(){return G0||(G0=1,(function(s){function a(M,W){var D=M.length;M.push(W);e:for(;0<D;){var X=D-1>>>1,J=M[X];if(0<c(J,W))M[X]=W,M[D]=J,D=X;else break e}}function r(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var W=M[0],D=M.pop();if(D!==W){M[0]=D;e:for(var X=0,J=M.length,A=J>>>1;X<A;){var I=2*(X+1)-1,Q=M[I],ee=I+1,fe=M[ee];if(0>c(Q,D))ee<J&&0>c(fe,Q)?(M[X]=fe,M[ee]=D,X=ee):(M[X]=Q,M[I]=D,X=I);else if(ee<J&&0>c(fe,D))M[X]=fe,M[ee]=D,X=ee;else break e}}return W}function c(M,W){var D=M.sortIndex-W.sortIndex;return D!==0?D:M.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,_=null,S=3,w=!1,E=!1,k=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function K(M){for(var W=r(y);W!==null;){if(W.callback===null)l(y);else if(W.startTime<=M)l(y),W.sortIndex=W.expirationTime,a(p,W);else break;W=r(y)}}function ne(M){if(k=!1,K(M),!E)if(r(p)!==null)E=!0,te||(te=!0,ke());else{var W=r(y);W!==null&&Ce(ne,W.startTime-M)}}var te=!1,O=-1,ae=5,Z=-1;function _e(){return j?!0:!(s.unstable_now()-Z<ae)}function we(){if(j=!1,te){var M=s.unstable_now();Z=M;var W=!0;try{e:{E=!1,k&&(k=!1,F(O),O=-1),w=!0;var D=S;try{t:{for(K(M),_=r(p);_!==null&&!(_.expirationTime>M&&_e());){var X=_.callback;if(typeof X=="function"){_.callback=null,S=_.priorityLevel;var J=X(_.expirationTime<=M);if(M=s.unstable_now(),typeof J=="function"){_.callback=J,K(M),W=!0;break t}_===r(p)&&l(p),K(M)}else l(p);_=r(p)}if(_!==null)W=!0;else{var A=r(y);A!==null&&Ce(ne,A.startTime-M),W=!1}}break e}finally{_=null,S=D,w=!1}W=void 0}}finally{W?ke():te=!1}}}var ke;if(typeof L=="function")ke=function(){L(we)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Te=Me.port2;Me.port1.onmessage=we,ke=function(){Te.postMessage(null)}}else ke=function(){q(we,0)};function Ce(M,W){O=q(function(){M(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(M){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var D=S;S=W;try{return M()}finally{S=D}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=S;S=M;try{return W()}finally{S=D}},s.unstable_scheduleCallback=function(M,W,D){var X=s.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?X+D:X):D=X,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,M={id:b++,callback:W,priorityLevel:M,startTime:D,expirationTime:J,sortIndex:-1},D>X?(M.sortIndex=D,a(y,M),r(p)===null&&M===r(y)&&(k?(F(O),O=-1):k=!0,Ce(ne,D-X))):(M.sortIndex=J,a(p,M),E||w||(E=!0,te||(te=!0,ke()))),M},s.unstable_shouldYield=_e,s.unstable_wrapCallback=function(M){var W=S;return function(){var D=S;S=W;try{return M.apply(this,arguments)}finally{S=D}}}})(Kc)),Kc}var Y0;function Uv(){return Y0||(Y0=1,Yc.exports=Dv()),Yc.exports}var Wc={exports:{}},mt={};var K0;function Mv(){if(K0)return mt;K0=1;var s=Au();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,y,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:p,containerInfo:y,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return u(p,y,null,b)},mt.flushSync=function(p){var y=h.T,b=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=y,l.p=b,l.d.f()}},mt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},mt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},mt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,_=m(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):b==="script"&&l.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},mt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,_=m(b,y.crossOrigin);l.d.L(p,b,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},mt.requestFormReset=function(p){l.d.r(p)},mt.unstable_batchedUpdates=function(p,y){return p(y)},mt.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var W0;function Lv(){if(W0)return Wc.exports;W0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Wc.exports=Mv(),Wc.exports}var J0;function Bv(){if(J0)return Si;J0=1;var s=Uv(),a=Au(),r=Lv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return p(o),e;if(d===i)return p(o),t;d=d.sibling}throw Error(l(188))}if(n.return!==i.return)n=o,i=d;else{for(var g=!1,v=o.child;v;){if(v===n){g=!0,n=o,i=d;break}if(v===i){g=!0,i=o,n=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===n){g=!0,n=d,i=o;break}if(v===i){g=!0,i=d,n=o;break}v=v.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),L=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function Te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case q:return"Profiler";case j:return"StrictMode";case ne:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case L:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:Te(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return Te(e(t))}catch{}}return null}var Ce=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},X=[],J=-1;function A(e){return{current:e}}function I(e){0>J||(e.current=X[J],X[J]=null,J--)}function Q(e,t){J++,X[J]=e.current,e.current=t}var ee=A(null),fe=A(null),B=A(null),le=A(null);function pe(e,t){switch(Q(B,t),Q(fe,e),Q(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?d0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=d0(t),e=h0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(ee),Q(ee,e)}function $(){I(ee),I(fe),I(B)}function oe(e){e.memoizedState!==null&&Q(le,e);var t=ee.current,n=h0(t,e.type);t!==n&&(Q(fe,e),Q(ee,n))}function de(e){fe.current===e&&(I(ee),I(fe)),le.current===e&&(I(le),yi._currentValue=D)}var Y,qe;function ft(e){if(Y===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||"",qe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+e+qe}var jl=!1;function Tl(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var U=H}Reflect.construct(e,[],G)}else{try{G.call()}catch(H){U=H}e.call(G.prototype)}}else{try{throw Error()}catch(H){U=H}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var x=g.split(`
`),z=v.split(`
`);for(o=i=0;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(i===x.length||o===z.length)for(i=x.length-1,o=z.length-1;1<=i&&0<=o&&x[i]!==z[o];)o--;for(;1<=i&&0<=o;i--,o--)if(x[i]!==z[o]){if(i!==1||o!==1)do if(i--,o--,0>o||x[i]!==z[o]){var P=`
`+x[i].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=i&&0<=o);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ft(n):""}function sg(e,t){switch(e.tag){case 26:case 27:case 5:return ft(e.type);case 16:return ft("Lazy");case 13:return e.child!==t&&t!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return Tl(e.type,!1);case 11:return Tl(e.type.render,!1);case 1:return Tl(e.type,!0);case 31:return ft("Activity");default:return""}}function Fu(e){try{var t="",n=null;do t+=sg(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Cl=Object.prototype.hasOwnProperty,Rl=s.unstable_scheduleCallback,Ol=s.unstable_cancelCallback,lg=s.unstable_shouldYield,og=s.unstable_requestPaint,At=s.unstable_now,cg=s.unstable_getCurrentPriorityLevel,Pu=s.unstable_ImmediatePriority,Iu=s.unstable_UserBlockingPriority,Li=s.unstable_NormalPriority,ug=s.unstable_LowPriority,Vu=s.unstable_IdlePriority,dg=s.log,hg=s.unstable_setDisableYieldValue,Rr=null,Et=null;function Nn(e){if(typeof dg=="function"&&hg(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Rr,e)}catch{}}var jt=Math.clz32?Math.clz32:pg,fg=Math.log,mg=Math.LN2;function pg(e){return e>>>=0,e===0?32:31-(fg(e)/mg|0)|0}var Bi=256,Hi=262144,qi=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~d,i!==0?o=sa(i):(g&=v,g!==0?o=sa(g):n||(n=v&~e,n!==0&&(o=sa(n))))):(v=i&~d,v!==0?o=sa(v):g!==0?o=sa(g):n||(n=i&~e,n!==0&&(o=sa(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function Or(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var e=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yg(e,t,n,i,o,d){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(n=g&~n;0<n;){var P=31-jt(n),G=1<<P;v[P]=0,x[P]=-1;var U=z[P];if(U!==null)for(z[P]=null,P=0;P<U.length;P++){var H=U[P];H!==null&&(H.lane&=-536870913)}n&=~G}i!==0&&Gu(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Gu(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-jt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-jt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Ku(e,t){var n=t&-t;return n=(n&42)!==0?1:Nl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Nl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:U0(e.type))}function Ju(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var zn=Math.random().toString(36).slice(2),lt="__reactFiber$"+zn,yt="__reactProps$"+zn,ka="__reactContainer$"+zn,Dl="__reactEvents$"+zn,vg="__reactListeners$"+zn,bg="__reactHandles$"+zn,Qu="__reactResources$"+zn,Nr="__reactMarker$"+zn;function Ul(e){delete e[lt],delete e[yt],delete e[Dl],delete e[vg],delete e[bg]}function Na(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ka]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=b0(e);e!==null;){if(n=e[lt])return n;e=b0(e)}return t}e=n,n=e.parentNode}return null}function za(e){if(e=e[lt]||e[ka]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Da(e){var t=e[Qu];return t||(t=e[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Nr]=!0}var Xu=new Set,Zu={};function la(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Zu[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var _g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},td={};function wg(e){return Cl.call(td,e)?!0:Cl.call(ed,e)?!1:_g.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Pi(e,t,n){if(wg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ii(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function cn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ml(e){if(!e._valueTracker){var t=nd(e)?"checked":"value";e._valueTracker=Sg(e,t,""+e[t])}}function ad(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=nd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xg=/[\n"\\]/g;function Lt(e){return e.replace(xg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ll(e,t,n,i,o,d,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Bl(e,g,Mt(t)):n!=null?Bl(e,g,Mt(n)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Mt(v):e.removeAttribute("name")}function rd(e,t,n,i,o,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Ml(e);return}n=n!=null?""+Mt(n):"",t=t!=null?""+Mt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ml(e)}function Bl(e,t,n){t==="number"&&Vi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function id(e,t,n){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mt(n):""}function sd(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(Ce(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Mt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ml(e)}function La(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Ag.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function od(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&ld(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&ld(e,d,t[d])}function Hl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(e){return jg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var ql=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Ha=null;function cd(e){var t=za(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ll(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[yt]||null;if(!o)throw Error(l(90));Ll(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ad(i)}break e;case"textarea":id(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var Pl=!1;function ud(e,t,n){if(Pl)return e(t,n);Pl=!0;try{var i=e(t);return i}finally{if(Pl=!1,(Ba!==null||Ha!==null)&&(Ns(),Ba&&(t=Ba,e=Ha,Ha=Ba=null,cd(t),e)))for(t=0;t<e.length;t++)cd(e[t])}}function Dr(e,t){var n=e.stateNode;if(n===null)return null;var i=n[yt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(dn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Il=!1}var Dn=null,Vl=null,Gi=null;function dd(){if(Gi)return Gi;var e,t=Vl,n=t.length,i,o="value"in Dn?Dn.value:Dn.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===o[d-i];i++);return Gi=o.slice(e,1<i?1-i:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function hd(){return!1}function vt(e){function t(n,i,o,d,g){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:hd,this.isPropagationStopped=hd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=vt(oa),Mr=_({},oa,{view:0,detail:0}),Tg=vt(Mr),$l,Gl,Lr,Ji=_({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?($l=e.screenX-Lr.screenX,Gl=e.screenY-Lr.screenY):Gl=$l=0,Lr=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),fd=vt(Ji),Cg=_({},Ji,{dataTransfer:0}),Rg=vt(Cg),Og=_({},Mr,{relatedTarget:0}),Yl=vt(Og),kg=_({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=vt(kg),zg=_({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dg=vt(zg),Ug=_({},oa,{data:0}),md=vt(Ug),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bg[e])?!!t[e]:!1}function Kl(){return Hg}var qg=_({},Mr,{key:function(e){if(e.key){var t=Mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fg=vt(qg),Pg=_({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=vt(Pg),Ig=_({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Vg=vt(Ig),$g=_({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gg=vt($g),Yg=_({},Ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=vt(Yg),Wg=_({},oa,{newState:0,oldState:0}),Jg=vt(Wg),Qg=[9,13,27,32],Wl=dn&&"CompositionEvent"in window,Br=null;dn&&"documentMode"in document&&(Br=document.documentMode);var Xg=dn&&"TextEvent"in window&&!Br,gd=dn&&(!Wl||Br&&8<Br&&11>=Br),yd=" ",vd=!1;function bd(e,t){switch(e){case"keyup":return Qg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function Zg(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(vd=!0,yd);case"textInput":return e=t.data,e===yd&&vd?null:e;default:return null}}function ey(e,t){if(qa)return e==="compositionend"||!Wl&&bd(e,t)?(e=dd(),Gi=Vl=Dn=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gd&&t.locale!=="ko"?null:t.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ty[e.type]:t==="textarea"}function Sd(e,t,n,i){Ba?Ha?Ha.push(i):Ha=[i]:Ba=i,t=Hs(t,"onChange"),0<t.length&&(n=new Wi("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hr=null,qr=null;function ny(e){i0(e,0)}function Qi(e){var t=zr(e);if(ad(t))return e}function xd(e,t){if(e==="change")return t}var Ad=!1;if(dn){var Jl;if(dn){var Ql="oninput"in document;if(!Ql){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Ql=typeof Ed.oninput=="function"}Jl=Ql}else Jl=!1;Ad=Jl&&(!document.documentMode||9<document.documentMode)}function jd(){Hr&&(Hr.detachEvent("onpropertychange",Td),qr=Hr=null)}function Td(e){if(e.propertyName==="value"&&Qi(qr)){var t=[];Sd(t,qr,e,Fl(e)),ud(ny,t)}}function ay(e,t,n){e==="focusin"?(jd(),Hr=t,qr=n,Hr.attachEvent("onpropertychange",Td)):e==="focusout"&&jd()}function ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(qr)}function iy(e,t){if(e==="click")return Qi(t)}function sy(e,t){if(e==="input"||e==="change")return Qi(t)}function ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:ly;function Fr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Cl.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var n=Cd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vi(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oy=dn&&"documentMode"in document&&11>=document.documentMode,Fa=null,Zl=null,Pr=null,eo=!1;function Nd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eo||Fa==null||Fa!==Vi(i)||(i=Fa,"selectionStart"in i&&Xl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Pr&&Fr(Pr,i)||(Pr=i,i=Hs(Zl,"onSelect"),0<i.length&&(t=new Wi("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Fa)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},to={},zd={};dn&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ua(e){if(to[e])return to[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zd)return to[e]=t[n];return e}var Dd=ua("animationend"),Ud=ua("animationiteration"),Md=ua("animationstart"),cy=ua("transitionrun"),uy=ua("transitionstart"),dy=ua("transitioncancel"),Ld=ua("transitionend"),Bd=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Kt(e,t){Bd.set(e,t),la(t,[e])}var Xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ia=0,ao=0;function Zi(){for(var e=Ia,t=ao=Ia=0;t<e;){var n=Bt[t];Bt[t++]=null;var i=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}d!==0&&Hd(n,o,d)}}function es(e,t,n,i){Bt[Ia++]=e,Bt[Ia++]=t,Bt[Ia++]=n,Bt[Ia++]=i,ao|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function ro(e,t,n,i){return es(e,t,n,i),ts(e)}function da(e,t){return es(e,null,null,t),ts(e)}function Hd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,i=d.alternate,i!==null&&(i.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-jt(n),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),d):null}function ts(e){if(50<ui)throw ui=0,mc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function hy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,i){return new hy(e,t,n,i)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ns(e,t,n,i,o,d){var g=0;if(i=e,typeof e=="function")io(e)&&(g=1);else if(typeof e=="string")g=yv(e,n,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Ct(31,n,t,o),e.elementType=Z,e.lanes=d,e;case k:return ha(n.children,o,d,t);case j:g=8,o|=24;break;case q:return e=Ct(12,n,t,o|2),e.elementType=q,e.lanes=d,e;case ne:return e=Ct(13,n,t,o),e.elementType=ne,e.lanes=d,e;case te:return e=Ct(19,n,t,o),e.elementType=te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:g=10;break e;case F:g=9;break e;case K:g=11;break e;case O:g=14;break e;case ae:g=16,i=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ct(g,n,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function ha(e,t,n,i){return e=Ct(7,e,i,t),e.lanes=n,e}function so(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Fd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function lo(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pd=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=Pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Fu(t)},Pd.set(e,t),t)}return{value:e,source:t,stack:Fu(t)}}var $a=[],Ga=0,as=null,Ir=0,qt=[],Ft=0,Un=null,tn=1,nn="";function fn(e,t){$a[Ga++]=Ir,$a[Ga++]=as,as=e,Ir=t}function Id(e,t,n){qt[Ft++]=tn,qt[Ft++]=nn,qt[Ft++]=Un,Un=e;var i=tn;e=nn;var o=32-jt(i)-1;i&=~(1<<o),n+=1;var d=32-jt(t)+o;if(30<d){var g=o-o%5;d=(i&(1<<g)-1).toString(32),i>>=g,o-=g,tn=1<<32-jt(t)+o|n<<o|i,nn=d+e}else tn=1<<d|n<<o|i,nn=e}function oo(e){e.return!==null&&(fn(e,1),Id(e,1,0))}function co(e){for(;e===as;)as=$a[--Ga],$a[Ga]=null,Ir=$a[--Ga],$a[Ga]=null;for(;e===Un;)Un=qt[--Ft],qt[Ft]=null,nn=qt[--Ft],qt[Ft]=null,tn=qt[--Ft],qt[Ft]=null}function Vd(e,t){qt[Ft++]=tn,qt[Ft++]=nn,qt[Ft++]=Un,tn=t.id,nn=t.overflow,Un=e}var ot=null,Ie=null,je=!1,Mn=null,Pt=!1,uo=Error(l(519));function Ln(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vr(Ht(t,e)),uo}function $d(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[lt]=e,t[yt]=i,n){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(n=0;n<hi.length;n++)xe(hi[n],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),rd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),sd(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||c0(t.textContent,n)?(i.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),i.onScroll!=null&&xe("scroll",t),i.onScrollEnd!=null&&xe("scrollend",t),i.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Ln(e,!0)}function Gd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ot=ot.return}}function Ya(e){if(e!==ot)return!1;if(!je)return Gd(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rc(e.type,e.memoizedProps)),n=!n),n&&Ie&&Ln(e),Gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ie=v0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ie=v0(e)}else t===27?(t=Ie,Qn(e.type)?(e=Dc,Dc=null,Ie=e):Ie=t):Ie=ot?Vt(e.stateNode.nextSibling):null;return!0}function fa(){Ie=ot=null,je=!1}function ho(){var e=Mn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Mn=null),e}function Vr(e){Mn===null?Mn=[e]:Mn.push(e)}var fo=A(null),ma=null,mn=null;function Bn(e,t,n){Q(fo,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=fo.current,I(fo)}function mo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function po(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=o;for(var x=0;x<t.length;x++)if(v.context===t[x]){d.lanes|=n,v=d.alternate,v!==null&&(v.lanes|=n),mo(d.return,n,e),i||(g=null);break e}d=v.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=n,d=g.alternate,d!==null&&(d.lanes|=n),mo(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Ka(e,t,n,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var v=o.type;Tt(o.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(o===le.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}o=o.return}e!==null&&po(t,e,n,i),t.flags|=262144}function rs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pa(e){ma=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Yd(ma,e)}function is(e,t){return ma===null&&pa(e),Yd(e,t)}function Yd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},mn===null){if(e===null)throw Error(l(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return n}var fy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},my=s.unstable_scheduleCallback,py=s.unstable_NormalPriority,Xe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function go(){return{controller:new fy,data:new Map,refCount:0}}function $r(e){e.refCount--,e.refCount===0&&my(py,function(){e.controller.abort()})}var Gr=null,yo=0,Wa=0,Ja=null;function gy(e,t){if(Gr===null){var n=Gr=[];yo=0,Wa=_c(),Ja={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yo++,t.then(Kd,Kd),t}function Kd(){if(--yo===0&&Gr!==null){Ja!==null&&(Ja.status="fulfilled");var e=Gr;Gr=null,Wa=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Wd=M.S;M.S=function(e,t){zf=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gy(e,t),Wd!==null&&Wd(e,t)};var ga=A(null);function vo(){var e=ga.current;return e!==null?e:Fe.pooledCache}function ss(e,t){t===null?Q(ga,ga.current):Q(ga,t.pool)}function Jd(){var e=vo();return e===null?null:{parent:Xe._currentValue,pool:e}}var Qa=Error(l(460)),bo=Error(l(474)),ls=Error(l(542)),os={then:function(){}};function Qd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e}throw va=t,Qa}}function ya(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,Qa):n}}var va=null;function Zd(){if(va===null)throw Error(l(459));var e=va;return va=null,e}function eh(e){if(e===Qa||e===ls)throw Error(l(483))}var Xa=null,Yr=0;function cs(e){var t=Yr;return Yr+=1,Xa===null&&(Xa=[]),Xd(Xa,e,t)}function Kr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function us(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function th(e){function t(R,T){if(e){var N=R.deletions;N===null?(R.deletions=[T],R.flags|=16):N.push(T)}}function n(R,T){if(!e)return null;for(;T!==null;)t(R,T),T=T.sibling;return null}function i(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function o(R,T){return R=hn(R,T),R.index=0,R.sibling=null,R}function d(R,T,N){return R.index=N,e?(N=R.alternate,N!==null?(N=N.index,N<T?(R.flags|=67108866,T):N):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function v(R,T,N,V){return T===null||T.tag!==6?(T=so(N,R.mode,V),T.return=R,T):(T=o(T,N),T.return=R,T)}function x(R,T,N,V){var ue=N.type;return ue===k?P(R,T,N.props.children,V,N.key):T!==null&&(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&ya(ue)===T.type)?(T=o(T,N.props),Kr(T,N),T.return=R,T):(T=ns(N.type,N.key,N.props,null,R.mode,V),Kr(T,N),T.return=R,T)}function z(R,T,N,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=lo(N,R.mode,V),T.return=R,T):(T=o(T,N.children||[]),T.return=R,T)}function P(R,T,N,V,ue){return T===null||T.tag!==7?(T=ha(N,R.mode,V,ue),T.return=R,T):(T=o(T,N),T.return=R,T)}function G(R,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=so(""+T,R.mode,N),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return N=ns(T.type,T.key,T.props,null,R.mode,N),Kr(N,T),N.return=R,N;case E:return T=lo(T,R.mode,N),T.return=R,T;case ae:return T=ya(T),G(R,T,N)}if(Ce(T)||ke(T))return T=ha(T,R.mode,N,null),T.return=R,T;if(typeof T.then=="function")return G(R,cs(T),N);if(T.$$typeof===L)return G(R,is(R,T),N);us(R,T)}return null}function U(R,T,N,V){var ue=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ue!==null?null:v(R,T,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return N.key===ue?x(R,T,N,V):null;case E:return N.key===ue?z(R,T,N,V):null;case ae:return N=ya(N),U(R,T,N,V)}if(Ce(N)||ke(N))return ue!==null?null:P(R,T,N,V,null);if(typeof N.then=="function")return U(R,T,cs(N),V);if(N.$$typeof===L)return U(R,T,is(R,N),V);us(R,N)}return null}function H(R,T,N,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(N)||null,v(T,R,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return R=R.get(V.key===null?N:V.key)||null,x(T,R,V,ue);case E:return R=R.get(V.key===null?N:V.key)||null,z(T,R,V,ue);case ae:return V=ya(V),H(R,T,N,V,ue)}if(Ce(V)||ke(V))return R=R.get(N)||null,P(T,R,V,ue,null);if(typeof V.then=="function")return H(R,T,N,cs(V),ue);if(V.$$typeof===L)return H(R,T,N,is(T,V),ue);us(T,V)}return null}function re(R,T,N,V){for(var ue=null,Re=null,ie=T,ve=T=0,Ee=null;ie!==null&&ve<N.length;ve++){ie.index>ve?(Ee=ie,ie=null):Ee=ie.sibling;var Oe=U(R,ie,N[ve],V);if(Oe===null){ie===null&&(ie=Ee);break}e&&ie&&Oe.alternate===null&&t(R,ie),T=d(Oe,T,ve),Re===null?ue=Oe:Re.sibling=Oe,Re=Oe,ie=Ee}if(ve===N.length)return n(R,ie),je&&fn(R,ve),ue;if(ie===null){for(;ve<N.length;ve++)ie=G(R,N[ve],V),ie!==null&&(T=d(ie,T,ve),Re===null?ue=ie:Re.sibling=ie,Re=ie);return je&&fn(R,ve),ue}for(ie=i(ie);ve<N.length;ve++)Ee=H(ie,R,ve,N[ve],V),Ee!==null&&(e&&Ee.alternate!==null&&ie.delete(Ee.key===null?ve:Ee.key),T=d(Ee,T,ve),Re===null?ue=Ee:Re.sibling=Ee,Re=Ee);return e&&ie.forEach(function(na){return t(R,na)}),je&&fn(R,ve),ue}function he(R,T,N,V){if(N==null)throw Error(l(151));for(var ue=null,Re=null,ie=T,ve=T=0,Ee=null,Oe=N.next();ie!==null&&!Oe.done;ve++,Oe=N.next()){ie.index>ve?(Ee=ie,ie=null):Ee=ie.sibling;var na=U(R,ie,Oe.value,V);if(na===null){ie===null&&(ie=Ee);break}e&&ie&&na.alternate===null&&t(R,ie),T=d(na,T,ve),Re===null?ue=na:Re.sibling=na,Re=na,ie=Ee}if(Oe.done)return n(R,ie),je&&fn(R,ve),ue;if(ie===null){for(;!Oe.done;ve++,Oe=N.next())Oe=G(R,Oe.value,V),Oe!==null&&(T=d(Oe,T,ve),Re===null?ue=Oe:Re.sibling=Oe,Re=Oe);return je&&fn(R,ve),ue}for(ie=i(ie);!Oe.done;ve++,Oe=N.next())Oe=H(ie,R,ve,Oe.value,V),Oe!==null&&(e&&Oe.alternate!==null&&ie.delete(Oe.key===null?ve:Oe.key),T=d(Oe,T,ve),Re===null?ue=Oe:Re.sibling=Oe,Re=Oe);return e&&ie.forEach(function(Cv){return t(R,Cv)}),je&&fn(R,ve),ue}function He(R,T,N,V){if(typeof N=="object"&&N!==null&&N.type===k&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case w:e:{for(var ue=N.key;T!==null;){if(T.key===ue){if(ue=N.type,ue===k){if(T.tag===7){n(R,T.sibling),V=o(T,N.props.children),V.return=R,R=V;break e}}else if(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ae&&ya(ue)===T.type){n(R,T.sibling),V=o(T,N.props),Kr(V,N),V.return=R,R=V;break e}n(R,T);break}else t(R,T);T=T.sibling}N.type===k?(V=ha(N.props.children,R.mode,V,N.key),V.return=R,R=V):(V=ns(N.type,N.key,N.props,null,R.mode,V),Kr(V,N),V.return=R,R=V)}return g(R);case E:e:{for(ue=N.key;T!==null;){if(T.key===ue)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(R,T.sibling),V=o(T,N.children||[]),V.return=R,R=V;break e}else{n(R,T);break}else t(R,T);T=T.sibling}V=lo(N,R.mode,V),V.return=R,R=V}return g(R);case ae:return N=ya(N),He(R,T,N,V)}if(Ce(N))return re(R,T,N,V);if(ke(N)){if(ue=ke(N),typeof ue!="function")throw Error(l(150));return N=ue.call(N),he(R,T,N,V)}if(typeof N.then=="function")return He(R,T,cs(N),V);if(N.$$typeof===L)return He(R,T,is(R,N),V);us(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(n(R,T.sibling),V=o(T,N),V.return=R,R=V):(n(R,T),V=so(N,R.mode,V),V.return=R,R=V),g(R)):n(R,T)}return function(R,T,N,V){try{Yr=0;var ue=He(R,T,N,V);return Xa=null,ue}catch(ie){if(ie===Qa||ie===ls)throw ie;var Re=Ct(29,ie,null,R.mode);return Re.lanes=V,Re.return=R,Re}finally{}}}var ba=th(!0),nh=th(!1),Hn=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ne&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ts(e),Hd(e,null,n),t}return es(e,i,t,n),ts(e)}function Wr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yu(e,n)}}function So(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xo=!1;function Jr(){if(xo){var e=Ja;if(e!==null)throw e}}function Qr(e,t,n,i){xo=!1;var o=e.updateQueue;Hn=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var x=v,z=x.next;x.next=null,g===null?d=z:g.next=z,g=x;var P=e.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=z:v.next=z,P.lastBaseUpdate=x))}if(d!==null){var G=o.baseState;g=0,P=z=x=null,v=d;do{var U=v.lane&-536870913,H=U!==v.lane;if(H?(Ae&U)===U:(i&U)===U){U!==0&&U===Wa&&(xo=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var re=e,he=v;U=t;var He=n;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){G=re.call(He,G,U);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,U=typeof re=="function"?re.call(He,G,U):re,U==null)break e;G=_({},G,U);break e;case 2:Hn=!0}}U=v.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=o.callbacks,H===null?o.callbacks=[U]:H.push(U))}else H={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(z=P=H,x=G):P=P.next=H,g|=U;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;H=v,v=H.next,H.next=null,o.lastBaseUpdate=H,o.shared.pending=null}}while(!0);P===null&&(x=G),o.baseState=x,o.firstBaseUpdate=z,o.lastBaseUpdate=P,d===null&&(o.shared.lanes=0),Gn|=g,e.lanes=g,e.memoizedState=G}}function ah(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function rh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ah(n[e],t)}var Za=A(null),ds=A(0);function ih(e,t){e=An,Q(ds,e),Q(Za,t),An=e|t.baseLanes}function Ao(){Q(ds,An),Q(Za,Za.current)}function Eo(){An=ds.current,I(Za),I(ds)}var Rt=A(null),It=null;function Pn(e){var t=e.alternate;Q(Je,Je.current&1),Q(Rt,e),It===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(It=e)}function jo(e){Q(Je,Je.current),Q(Rt,e),It===null&&(It=e)}function sh(e){e.tag===22?(Q(Je,Je.current),Q(Rt,e),It===null&&(It=e)):In()}function In(){Q(Je,Je.current),Q(Rt,Rt.current)}function Ot(e){I(Rt),It===e&&(It=null),I(Je)}var Je=A(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Nc(n)||zc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gn=0,ye=null,Le=null,Ze=null,fs=!1,er=!1,_a=!1,ms=0,Xr=0,tr=null,vy=0;function Ke(){throw Error(l(321))}function To(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Co(e,t,n,i,o,d){return gn=d,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Ih:Io,_a=!1,d=n(i,o),_a=!1,er&&(d=oh(t,n,i,o)),lh(e),d}function lh(e){M.H=ti;var t=Le!==null&&Le.next!==null;if(gn=0,Ze=Le=ye=null,fs=!1,Xr=0,tr=null,t)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&rs(e)&&(et=!0))}function oh(e,t,n,i){ye=e;var o=0;do{if(er&&(tr=null),Xr=0,er=!1,25<=o)throw Error(l(301));if(o+=1,Ze=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Vh,d=t(n,i)}while(er);return d}function by(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Zr(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ye.flags|=1024),t}function Ro(){var e=ms!==0;return ms=0,e}function Oo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ko(e){if(fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fs=!1}gn=0,Ze=Le=ye=null,er=!1,Xr=ms=0,tr=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ye.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(Le===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ze===null?ye.memoizedState:Ze.next;if(t!==null)Ze=t,Le=e;else{if(e===null)throw ye.alternate===null?Error(l(467)):Error(l(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ze===null?ye.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(e){var t=Xr;return Xr+=1,tr===null&&(tr=[]),e=Xd(tr,e,t),t=ye,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Ih:Io),e}function gs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zr(e);if(e.$$typeof===L)return ct(e)}throw Error(l(438,String(e)))}function No(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ps(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=_e;return t.index++,n}function yn(e,t){return typeof t=="function"?t(e):t}function ys(e){var t=Qe();return zo(t,Le,e)}function zo(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var v=g=null,x=null,z=t,P=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(Ae&G)===G:(gn&G)===G){var U=z.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===Wa&&(P=!0);else if((gn&U)===U){z=z.next,U===Wa&&(P=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(v=x=G,g=d):x=x.next=G,ye.lanes|=U,Gn|=U;G=z.action,_a&&n(d,G),d=z.hasEagerState?z.eagerState:n(d,G)}else U={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(v=x=U,g=d):x=x.next=U,ye.lanes|=G,Gn|=G;z=z.next}while(z!==null&&z!==t);if(x===null?g=d:x.next=v,!Tt(d,e.memoizedState)&&(et=!0,P&&(n=Ja,n!==null)))throw n;e.memoizedState=d,e.baseState=g,e.baseQueue=x,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Do(e){var t=Qe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Tt(d,t.memoizedState)||(et=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,i]}function ch(e,t,n){var i=ye,o=Qe(),d=je;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Tt((Le||o).memoizedState,n);if(g&&(o.memoizedState=n,et=!0),o=o.queue,Lo(hh.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||Ze!==null&&Ze.memoizedState.tag&1){if(i.flags|=2048,nr(9,{destroy:void 0},dh.bind(null,i,o,n,t),null),Fe===null)throw Error(l(349));d||(gn&127)!==0||uh(i,t,n)}return n}function uh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=ps(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dh(e,t,n,i){t.value=n,t.getSnapshot=i,fh(t)&&mh(e)}function hh(e,t,n){return n(function(){fh(t)&&mh(e)})}function fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function mh(e){var t=da(e,2);t!==null&&xt(t,e,2)}function Uo(e){var t=gt();if(typeof e=="function"){var n=e;if(e=n(),_a){Nn(!0);try{n()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function ph(e,t,n,i){return e.baseState=n,zo(e,Le,typeof i=="function"?i:yn)}function _y(e,t,n,i,o){if(_s(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};M.T!==null?n(!0):d.isTransition=!1,i(d),n=t.pending,n===null?(d.next=t.pending=d,gh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function gh(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=M.T,g={};M.T=g;try{var v=n(o,i),x=M.S;x!==null&&x(g,v),yh(e,t,v)}catch(z){Mo(e,t,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),M.T=d}}else try{d=n(o,i),yh(e,t,d)}catch(z){Mo(e,t,z)}}function yh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){vh(e,t,i)},function(i){return Mo(e,t,i)}):vh(e,t,n)}function vh(e,t,n){t.status="fulfilled",t.value=n,bh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,gh(e,n)))}function Mo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,bh(t),t=t.next;while(t!==i)}e.action=null}function bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _h(e,t){return t}function wh(e,t){if(je){var n=Fe.formState;if(n!==null){e:{var i=ye;if(je){if(Ie){t:{for(var o=Ie,d=Pt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ie=Vt(o.nextSibling),i=o.data==="F!";break e}}Ln(i)}i=!1}i&&(t=n[0])}}return n=gt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},n.queue=i,n=qh.bind(null,ye,i),i.dispatch=n,i=Uo(!1),d=Po.bind(null,ye,!1,i.queue),i=gt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=_y.bind(null,ye,o,d,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Sh(e){var t=Qe();return xh(t,Le,e)}function xh(e,t,n){if(t=zo(e,t,_h)[0],e=ys(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Zr(t)}catch(g){throw g===Qa?ls:g}else i=t;t=Qe();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,nr(9,{destroy:void 0},wy.bind(null,o,n),null)),[i,d,e]}function wy(e,t){e.action=t}function Ah(e){var t=Qe(),n=Le;if(n!==null)return xh(t,n,e);Qe(),t=t.memoizedState,n=Qe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function nr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ye.updateQueue,t===null&&(t=ps(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Eh(){return Qe().memoizedState}function vs(e,t,n,i){var o=gt();ye.flags|=e,o.memoizedState=nr(1|t,{destroy:void 0},n,i===void 0?null:i)}function bs(e,t,n,i){var o=Qe();i=i===void 0?null:i;var d=o.memoizedState.inst;Le!==null&&i!==null&&To(i,Le.memoizedState.deps)?o.memoizedState=nr(t,d,n,i):(ye.flags|=e,o.memoizedState=nr(1|t,d,n,i))}function jh(e,t){vs(8390656,8,e,t)}function Lo(e,t){bs(2048,8,e,t)}function Sy(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=ps(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Th(e){var t=Qe().memoizedState;return Sy({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ch(e,t){return bs(4,2,e,t)}function Rh(e,t){return bs(4,4,e,t)}function Oh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kh(e,t,n){n=n!=null?n.concat([e]):null,bs(4,4,Oh.bind(null,t,e),n)}function Bo(){}function Nh(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&To(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zh(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&To(t,i[1]))return i[0];if(i=e(),_a){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i}function Ho(e,t,n){return n===void 0||(gn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Uf(),ye.lanes|=e,Gn|=e,n)}function Dh(e,t,n,i){return Tt(n,t)?n:Za.current!==null?(e=Ho(e,n,i),Tt(e,t)||(et=!0),e):(gn&42)===0||(gn&1073741824)!==0&&(Ae&261930)===0?(et=!0,e.memoizedState=n):(e=Uf(),ye.lanes|=e,Gn|=e,t)}function Uh(e,t,n,i,o){var d=W.p;W.p=d!==0&&8>d?d:8;var g=M.T,v={};M.T=v,Po(e,!1,t,n);try{var x=o(),z=M.S;if(z!==null&&z(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=yy(x,i);ei(e,t,P,zt(e))}else ei(e,t,i,zt(e))}catch(G){ei(e,t,{then:function(){},status:"rejected",reason:G},zt())}finally{W.p=d,g!==null&&v.types!==null&&(g.types=v.types),M.T=g}}function xy(){}function qo(e,t,n,i){if(e.tag!==5)throw Error(l(476));var o=Mh(e).queue;Uh(e,o,t,D,n===null?xy:function(){return Lh(e),n(i)})}function Mh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:D},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lh(e){var t=Mh(e);t.next===null&&(t=e.alternate.memoizedState),ei(e,t.next.queue,{},zt())}function Fo(){return ct(yi)}function Bh(){return Qe().memoizedState}function Hh(){return Qe().memoizedState}function Ay(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=zt();e=qn(n);var i=Fn(t,e,n);i!==null&&(xt(i,t,n),Wr(i,t,n)),t={cache:go()},e.payload=t;return}t=t.return}}function Ey(e,t,n){var i=zt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_s(e)?Fh(t,n):(n=ro(e,t,n,i),n!==null&&(xt(n,e,i),Ph(n,t,i)))}function qh(e,t,n){var i=zt();ei(e,t,n,i)}function ei(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_s(e))Fh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,v=d(g,n);if(o.hasEagerState=!0,o.eagerState=v,Tt(v,g))return es(e,t,o,0),Fe===null&&Zi(),!1}catch{}finally{}if(n=ro(e,t,o,i),n!==null)return xt(n,e,i),Ph(n,t,i),!0}return!1}function Po(e,t,n,i){if(i={lane:2,revertLane:_c(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},_s(e)){if(t)throw Error(l(479))}else t=ro(e,n,i,2),t!==null&&xt(t,e,2)}function _s(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Fh(e,t){er=fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ph(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yu(e,n)}}var ti={readContext:ct,use:gs,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ti.useEffectEvent=Ke;var Ih={readContext:ct,use:gs,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:jh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vs(4194308,4,Oh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=gt();t=t===void 0?null:t;var i=e();if(_a){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=gt();if(n!==void 0){var o=n(t);if(_a){Nn(!0);try{n(t)}finally{Nn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Ey.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,n=qh.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bo,useDeferredValue:function(e,t){var n=gt();return Ho(n,e,t)},useTransition:function(){var e=Uo(!1);return e=Uh.bind(null,ye,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ye,o=gt();if(je){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Fe===null)throw Error(l(349));(Ae&127)!==0||uh(i,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,jh(hh.bind(null,i,d,e),[e]),i.flags|=2048,nr(9,{destroy:void 0},dh.bind(null,i,d,n,t),null),n},useId:function(){var e=gt(),t=Fe.identifierPrefix;if(je){var n=nn,i=tn;n=(i&~(1<<32-jt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ms++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:wh,useActionState:wh,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Po.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:No,useCacheRefresh:function(){return gt().memoizedState=Ay.bind(null,ye)},useEffectEvent:function(e){var t=gt(),n={impl:e};return t.memoizedState=n,function(){if((Ne&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Io={readContext:ct,use:gs,useCallback:Nh,useContext:ct,useEffect:Lo,useImperativeHandle:kh,useInsertionEffect:Ch,useLayoutEffect:Rh,useMemo:zh,useReducer:ys,useRef:Eh,useState:function(){return ys(yn)},useDebugValue:Bo,useDeferredValue:function(e,t){var n=Qe();return Dh(n,Le.memoizedState,e,t)},useTransition:function(){var e=ys(yn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:ch,useId:Bh,useHostTransitionStatus:Fo,useFormState:Sh,useActionState:Sh,useOptimistic:function(e,t){var n=Qe();return ph(n,Le,e,t)},useMemoCache:No,useCacheRefresh:Hh};Io.useEffectEvent=Th;var Vh={readContext:ct,use:gs,useCallback:Nh,useContext:ct,useEffect:Lo,useImperativeHandle:kh,useInsertionEffect:Ch,useLayoutEffect:Rh,useMemo:zh,useReducer:Do,useRef:Eh,useState:function(){return Do(yn)},useDebugValue:Bo,useDeferredValue:function(e,t){var n=Qe();return Le===null?Ho(n,e,t):Dh(n,Le.memoizedState,e,t)},useTransition:function(){var e=Do(yn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:ch,useId:Bh,useHostTransitionStatus:Fo,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var n=Qe();return Le!==null?ph(n,Le,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:No,useCacheRefresh:Hh};Vh.useEffectEvent=Th;function Vo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $o={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=zt(),o=qn(i);o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,i),t!==null&&(xt(t,e,i),Wr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=zt(),o=qn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,i),t!==null&&(xt(t,e,i),Wr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),i=qn(n);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,n),t!==null&&(xt(t,e,n),Wr(t,e,n))}};function $h(e,t,n,i,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,i)||!Fr(o,d):!0}function Gh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&$o.enqueueReplaceState(t,t.state,null)}function wa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Yh(e){Xi(e)}function Kh(e){console.error(e)}function Wh(e){Xi(e)}function ws(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Jh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Go(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Qh(e){return e=qn(e),e.tag=3,e}function Xh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){Jh(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Jh(t,n,i),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function jy(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ka(t,n,o,!0),n=Rt.current,n!==null){switch(n.tag){case 31:case 13:return It===null?zs():n.alternate===null&&We===0&&(We=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===os?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),yc(e,i,o)),!1;case 22:return n.flags|=65536,i===os?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),yc(e,i,o)),!1}throw Error(l(435,n.tag))}return yc(e,i,o),zs(),!1}if(je)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==uo&&(e=Error(l(422),{cause:i}),Vr(Ht(e,n)))):(i!==uo&&(t=Error(l(423),{cause:i}),Vr(Ht(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Ht(i,n),o=Go(e.stateNode,i,o),So(e,o),We!==4&&(We=2)),!1;var d=Error(l(520),{cause:i});if(d=Ht(d,n),ci===null?ci=[d]:ci.push(d),We!==4&&(We=2),t===null)return!0;i=Ht(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Go(n.stateNode,i,e),So(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yn===null||!Yn.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Qh(o),Xh(o,e,n,i),So(n,o),!1}n=n.return}while(n!==null);return!1}var Yo=Error(l(461)),et=!1;function ut(e,t,n,i){t.child=e===null?nh(t,null,n,i):ba(t,e.child,n,i)}function Zh(e,t,n,i,o){n=n.render;var d=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return pa(t),i=Co(e,t,n,g,d,o),v=Ro(),e!==null&&!et?(Oo(e,t,o),vn(e,t,o)):(je&&v&&oo(t),t.flags|=1,ut(e,t,i,o),t.child)}function ef(e,t,n,i,o){if(e===null){var d=n.type;return typeof d=="function"&&!io(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,tf(e,t,d,i,o)):(e=ns(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!tc(e,o)){var g=d.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(g,i)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=hn(d,i),e.ref=t.ref,e.return=t,t.child=e}function tf(e,t,n,i,o){if(e!==null){var d=e.memoizedProps;if(Fr(d,i)&&e.ref===t.ref)if(et=!1,t.pendingProps=i=d,tc(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,vn(e,t,o)}return Ko(e,t,n,i,o)}function nf(e,t,n,i){var o=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~d}else i=0,t.child=null;return af(e,t,d,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ss(t,d!==null?d.cachePool:null),d!==null?ih(t,d):Ao(),sh(t);else return i=t.lanes=536870912,af(e,t,d!==null?d.baseLanes|n:n,n,i)}else d!==null?(ss(t,d.cachePool),ih(t,d),In(),t.memoizedState=null):(e!==null&&ss(t,null),Ao(),In());return ut(e,t,o,n),t.child}function ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function af(e,t,n,i,o){var d=vo();return d=d===null?null:{parent:Xe._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&ss(t,null),Ao(),sh(t),e!==null&&Ka(e,t,i,!0),t.childLanes=o,null}function Ss(e,t){return t=As({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rf(e,t,n){return ba(t,e.child,null,n),e=Ss(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function Ty(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(i.mode==="hidden")return e=Ss(t,i),t.lanes=536870912,ni(null,e);if(jo(t),(e=Ie)?(e=y0(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Fd(e),n.return=t,t.child=n,ot=t,Ie=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return Ss(t,i)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(jo(t),o)if(t.flags&256)t.flags&=-257,t=rf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(et||Ka(e,t,n,!1),o=(n&e.childLanes)!==0,et||o){if(i=Fe,i!==null&&(g=Ku(i,n),g!==0&&g!==d.retryLane))throw d.retryLane=g,da(e,g),xt(i,e,g),Yo;zs(),t=rf(e,t,n)}else e=d.treeContext,Ie=Vt(g.nextSibling),ot=t,je=!0,Mn=null,Pt=!1,e!==null&&Vd(t,e),t=Ss(t,i),t.flags|=4096;return t}return e=hn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ko(e,t,n,i,o){return pa(t),n=Co(e,t,n,i,void 0,o),i=Ro(),e!==null&&!et?(Oo(e,t,o),vn(e,t,o)):(je&&i&&oo(t),t.flags|=1,ut(e,t,n,o),t.child)}function sf(e,t,n,i,o,d){return pa(t),t.updateQueue=null,n=oh(t,i,n,o),lh(e),i=Ro(),e!==null&&!et?(Oo(e,t,d),vn(e,t,d)):(je&&i&&oo(t),t.flags|=1,ut(e,t,n,d),t.child)}function lf(e,t,n,i,o){if(pa(t),t.stateNode===null){var d=Va,g=n.contextType;typeof g=="object"&&g!==null&&(d=ct(g)),d=new n(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$o,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},_o(t),g=n.contextType,d.context=typeof g=="object"&&g!==null?ct(g):Va,d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Vo(t,n,g,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&$o.enqueueReplaceState(d,d.state,null),Qr(t,i,d,o),Jr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var v=t.memoizedProps,x=wa(n,v);d.props=x;var z=d.context,P=n.contextType;g=Va,typeof P=="object"&&P!==null&&(g=ct(P));var G=n.getDerivedStateFromProps;P=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||z!==g)&&Gh(t,d,i,g),Hn=!1;var U=t.memoizedState;d.state=U,Qr(t,i,d,o),Jr(),z=t.memoizedState,v||U!==z||Hn?(typeof G=="function"&&(Vo(t,n,G,i),z=t.memoizedState),(x=Hn||$h(t,n,x,i,U,z,g))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=z),d.props=i,d.state=z,d.context=g,i=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,wo(e,t),g=t.memoizedProps,P=wa(n,g),d.props=P,G=t.pendingProps,U=d.context,z=n.contextType,x=Va,typeof z=="object"&&z!==null&&(x=ct(z)),v=n.getDerivedStateFromProps,(z=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==G||U!==x)&&Gh(t,d,i,x),Hn=!1,U=t.memoizedState,d.state=U,Qr(t,i,d,o),Jr();var H=t.memoizedState;g!==G||U!==H||Hn||e!==null&&e.dependencies!==null&&rs(e.dependencies)?(typeof v=="function"&&(Vo(t,n,v,i),H=t.memoizedState),(P=Hn||$h(t,n,P,i,U,H,x)||e!==null&&e.dependencies!==null&&rs(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,H,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,H,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),d.props=i,d.state=H,d.context=x,i=P):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,xs(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=ba(t,e.child,null,o),t.child=ba(t,null,n,o)):ut(e,t,n,o),t.memoizedState=d.state,e=t.child):e=vn(e,t,o),e}function of(e,t,n,i){return fa(),t.flags|=256,ut(e,t,n,i),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:Jd()}}function Qo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Nt),e}function cf(e,t,n){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Pn(t):In(),(e=Ie)?(e=y0(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Fd(e),n.return=t,t.child=n,ot=t,Ie=null)):e=null,e===null)throw Ln(t);return zc(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,o?(In(),o=t.mode,v=As({mode:"hidden",children:v},o),i=ha(i,o,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Jo(n),i.childLanes=Qo(e,g,n),t.memoizedState=Wo,ni(null,i)):(Pn(t),Xo(t,v))}var x=e.memoizedState;if(x!==null&&(v=x.dehydrated,v!==null)){if(d)t.flags&256?(Pn(t),t.flags&=-257,t=Zo(e,t,n)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),v=i.fallback,o=t.mode,i=As({mode:"visible",children:i.children},o),v=ha(v,o,n,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,ba(t,e.child,null,n),i=t.child,i.memoizedState=Jo(n),i.childLanes=Qo(e,g,n),t.memoizedState=Wo,t=ni(null,i));else if(Pn(t),zc(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var z=g.dgst;g=z,i=Error(l(419)),i.stack="",i.digest=g,Vr({value:i,source:null,stack:null}),t=Zo(e,t,n)}else if(et||Ka(e,t,n,!1),g=(n&e.childLanes)!==0,et||g){if(g=Fe,g!==null&&(i=Ku(g,n),i!==0&&i!==x.retryLane))throw x.retryLane=i,da(e,i),xt(g,e,i),Yo;Nc(v)||zs(),t=Zo(e,t,n)}else Nc(v)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ie=Vt(v.nextSibling),ot=t,je=!0,Mn=null,Pt=!1,e!==null&&Vd(t,e),t=Xo(t,i.children),t.flags|=4096);return t}return o?(In(),v=i.fallback,o=t.mode,x=e.child,z=x.sibling,i=hn(x,{mode:"hidden",children:i.children}),i.subtreeFlags=x.subtreeFlags&65011712,z!==null?v=hn(z,v):(v=ha(v,o,n,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,ni(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Jo(n):(o=v.cachePool,o!==null?(x=Xe._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=Jd(),v={baseLanes:v.baseLanes|n,cachePool:o}),i.memoizedState=v,i.childLanes=Qo(e,g,n),t.memoizedState=Wo,ni(e.child,i)):(Pn(t),n=e.child,e=n.sibling,n=hn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Xo(e,t){return t=As({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function As(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Zo(e,t,n){return ba(t,e.child,null,n),e=Xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),mo(e.return,t,n)}function ec(e,t,n,i,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=n,g.tailMode=o,g.treeForkCount=d)}function df(e,t,n){var i=t.pendingProps,o=i.revealOrder,d=i.tail;i=i.children;var g=Je.current,v=(g&2)!==0;if(v?(g=g&1|2,t.flags|=128):g&=1,Q(Je,g),ut(e,t,i,n),i=je?Ir:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uf(e,n,t);else if(e.tag===19)uf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ec(t,!1,o,n,d,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ec(t,!0,n,null,d,i);break;case"together":ec(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ka(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rs(e)))}function Cy(e,t,n){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),Bn(t,Xe,e.memoizedState.cache),fa();break;case 27:case 5:oe(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Pn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?cf(e,t,n):(Pn(t),e=vn(e,t,n),e!==null?e.sibling:null);Pn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ka(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return df(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Je,Je.current),i)break;return null;case 22:return t.lanes=0,nf(e,t,n,t.pendingProps);case 24:Bn(t,Xe,e.memoizedState.cache)}return vn(e,t,n)}function hf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!tc(e,n)&&(t.flags&128)===0)return et=!1,Cy(e,t,n);et=(e.flags&131072)!==0}else et=!1,je&&(t.flags&1048576)!==0&&Id(t,Ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ya(t.elementType),t.type=e,typeof e=="function")io(e)?(i=wa(e,i),t.tag=1,t=lf(null,t,e,i,n)):(t.tag=0,t=Ko(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=Zh(null,t,e,i,n);break e}else if(o===O){t.tag=14,t=ef(null,t,e,i,n);break e}}throw t=Te(e)||e,Error(l(306,t,""))}}return t;case 0:return Ko(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=wa(i,t.pendingProps),lf(e,t,i,o,n);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,wo(e,t),Qr(t,i,null,n);var g=t.memoizedState;if(i=g.cache,Bn(t,Xe,i),i!==d.cache&&po(t,[Xe],n,!0),Jr(),i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=of(e,t,i,n);break e}else if(i!==o){o=Ht(Error(l(424)),t),Vr(o),t=of(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=Vt(e.firstChild),ot=t,je=!0,Mn=null,Pt=!0,n=nh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fa(),i===o){t=vn(e,t,n);break e}ut(e,t,i,n)}t=t.child}return t;case 26:return xs(e,t),e===null?(n=x0(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,i=qs(B.current).createElement(n),i[lt]=t,i[yt]=e,dt(i,n,e),it(i),t.stateNode=i):t.memoizedState=x0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),e===null&&je&&(i=t.stateNode=_0(t.type,t.pendingProps,B.current),ot=t,Pt=!0,o=Ie,Qn(t.type)?(Dc=o,Ie=Vt(i.firstChild)):Ie=o),ut(e,t,t.pendingProps.children,n),xs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=i=Ie)&&(i=rv(i,t.type,t.pendingProps,Pt),i!==null?(t.stateNode=i,ot=t,Ie=Vt(i.firstChild),Pt=!1,o=!0):o=!1),o||Ln(t)),oe(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,i=d.children,Rc(o,d)?i=null:g!==null&&Rc(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Co(e,t,by,null,null,n),yi._currentValue=o),xs(e,t),ut(e,t,i,n),t.child;case 6:return e===null&&je&&((e=n=Ie)&&(n=iv(n,t.pendingProps,Pt),n!==null?(t.stateNode=n,ot=t,Ie=null,e=!0):e=!1),e||Ln(t)),null;case 13:return cf(e,t,n);case 4:return pe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ba(t,null,i,n):ut(e,t,i,n),t.child;case 11:return Zh(e,t,t.type,t.pendingProps,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Bn(t,t.type,i.value),ut(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,pa(t),o=ct(o),i=i(o),t.flags|=1,ut(e,t,i,n),t.child;case 14:return ef(e,t,t.type,t.pendingProps,n);case 15:return tf(e,t,t.type,t.pendingProps,n);case 19:return df(e,t,n);case 31:return Ty(e,t,n);case 22:return nf(e,t,n,t.pendingProps);case 24:return pa(t),i=ct(Xe),e===null?(o=vo(),o===null&&(o=Fe,d=go(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:i,cache:o},_o(t),Bn(t,Xe,o)):((e.lanes&n)!==0&&(wo(e,t),Qr(t,null,null,n),Jr()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Bn(t,Xe,i)):(i=d.cache,Bn(t,Xe,i),i!==o.cache&&po(t,[Xe],n,!0))),ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function bn(e){e.flags|=4}function nc(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Hf())e.flags|=8192;else throw va=os,bo}else e.flags&=-16777217}function ff(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C0(t))if(Hf())e.flags|=8192;else throw va=os,bo}function Es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$u():536870912,e.lanes|=t,sr|=t)}function ai(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ry(e,t,n){var i=t.pendingProps;switch(co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(Xe),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ho())),Ve(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(bn(t),d!==null?(Ve(t),ff(t,d)):(Ve(t),nc(t,o,null,i,n))):d?d!==e.memoizedState?(bn(t),Ve(t),ff(t,d)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&bn(t),Ve(t),nc(t,o,e,i,n)),null;case 27:if(de(t),n=B.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=ee.current,Ya(t)?$d(t):(e=_0(o,i,n),t.stateNode=e,bn(t))}return Ve(t),null;case 5:if(de(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(d=ee.current,Ya(t))$d(t);else{var g=qs(B.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?g.createElement(o,{is:i.is}):g.createElement(o)}}d[lt]=t,d[yt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(dt(d,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&bn(t)}}return Ve(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=B.current,Ya(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=ot,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||c0(e.nodeValue,n)),e||Ln(t,!0)}else e=qs(e).createTextNode(i),e[lt]=t,t.stateNode=e}return Ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ya(t),n!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else n=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ve(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ya(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Es(t,t.updateQueue),Ve(t),null);case 4:return $(),e===null&&Ac(t.stateNode.containerInfo),Ve(t),null;case 10:return pn(t.type),Ve(t),null;case 19:if(I(Je),i=t.memoizedState,i===null)return Ve(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)ai(i,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=hs(e),d!==null){for(t.flags|=128,ai(i,!1),e=d.updateQueue,t.updateQueue=e,Es(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)qd(n,e),n=n.sibling;return Q(Je,Je.current&1|2),je&&fn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&At()>Os&&(t.flags|=128,o=!0,ai(i,!1),t.lanes=4194304)}else{if(!o)if(e=hs(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Es(t,e),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!je)return Ve(t),null}else 2*At()-i.renderingStartTime>Os&&n!==536870912&&(t.flags|=128,o=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,n=Je.current,Q(Je,o?n&1|2:n&1),je&&fn(t,i.treeForkCount),e):(Ve(t),null);case 22:case 23:return Ot(t),Eo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Es(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&I(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(Xe),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Oy(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Xe),$(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Je),null;case 4:return $(),null;case 10:return pn(t.type),null;case 22:case 23:return Ot(t),Eo(),e!==null&&I(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Xe),null;case 25:return null;default:return null}}function mf(e,t){switch(co(t),t.tag){case 3:pn(Xe),$();break;case 26:case 27:case 5:de(t);break;case 4:$();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:I(Je);break;case 10:pn(t.type);break;case 22:case 23:Ot(t),Eo(),e!==null&&I(ga);break;case 24:pn(Xe)}}function ri(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var d=n.create,g=n.inst;i=d(),g.destroy=i}n=n.next}while(n!==o)}}catch(v){Ue(t,t.return,v)}}function Vn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,o=t;var x=n,z=v;try{z()}catch(P){Ue(o,x,P)}}}i=i.next}while(i!==d)}}catch(P){Ue(t,t.return,P)}}function pf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{rh(t,n)}catch(i){Ue(e,e.return,i)}}}function gf(e,t,n){n.props=wa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ue(e,t,i)}}function ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Ue(e,t,o)}}function an(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ue(e,t,o)}else n.current=null}function yf(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Ue(e,e.return,o)}}function ac(e,t,n){try{var i=e.stateNode;Xy(i,e.type,n,t),i[yt]=t}catch(o){Ue(e,e.return,o)}}function vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}function js(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}function bf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);dt(t,i,n),t[lt]=e,t[yt]=n}catch(d){Ue(e,e.return,d)}}var _n=!1,tt=!1,sc=!1,_f=typeof WeakSet=="function"?WeakSet:Set,st=null;function ky(e,t){if(e=e.containerInfo,Tc=Ys,e=kd(e),Xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var g=0,v=-1,x=-1,z=0,P=0,G=e,U=null;t:for(;;){for(var H;G!==n||o!==0&&G.nodeType!==3||(v=g+o),G!==d||i!==0&&G.nodeType!==3||(x=g+i),G.nodeType===3&&(g+=G.nodeValue.length),(H=G.firstChild)!==null;)U=G,G=H;for(;;){if(G===e)break t;if(U===n&&++z===o&&(v=g),U===d&&++P===i&&(x=g),(H=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=H}n=v===-1||x===-1?null:{start:v,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cc={focusedElem:e,selectionRange:n},Ys=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,i=n.stateNode;try{var re=wa(n.type,o);e=i.getSnapshotBeforeUpdate(re,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ue(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)kc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function wf(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n),i&4&&ri(5,n);break;case 1:if(Sn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Ue(n,n.return,g)}else{var o=wa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ue(n,n.return,g)}}i&64&&pf(n),i&512&&ii(n,n.return);break;case 3:if(Sn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{rh(e,t)}catch(g){Ue(n,n.return,g)}}break;case 27:t===null&&i&4&&bf(n);case 26:case 5:Sn(e,n),t===null&&i&4&&yf(n),i&512&&ii(n,n.return);break;case 12:Sn(e,n);break;case 31:Sn(e,n),i&4&&Af(e,n);break;case 13:Sn(e,n),i&4&&Ef(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=qy.bind(null,n),sv(e,n))));break;case 22:if(i=n.memoizedState!==null||_n,!i){t=t!==null&&t.memoizedState!==null||tt,o=_n;var d=tt;_n=i,(tt=t)&&!d?xn(e,n,(n.subtreeFlags&8772)!==0):Sn(e,n),_n=o,tt=d}break;case 30:break;default:Sn(e,n)}}function Sf(e){var t=e.alternate;t!==null&&(e.alternate=null,Sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ul(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,bt=!1;function wn(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Rr,n)}catch{}switch(n.tag){case 26:tt||an(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||an(n,t);var i=$e,o=bt;Qn(n.type)&&($e=n.stateNode,bt=!1),wn(e,t,n),mi(n.stateNode),$e=i,bt=o;break;case 5:tt||an(n,t);case 6:if(i=$e,o=bt,$e=null,wn(e,t,n),$e=i,bt=o,$e!==null)if(bt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(d){Ue(n,t,d)}else try{$e.removeChild(n.stateNode)}catch(d){Ue(n,t,d)}break;case 18:$e!==null&&(bt?(e=$e,p0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mr(e)):p0($e,n.stateNode));break;case 4:i=$e,o=bt,$e=n.stateNode.containerInfo,bt=!0,wn(e,t,n),$e=i,bt=o;break;case 0:case 11:case 14:case 15:Vn(2,n,t),tt||Vn(4,n,t),wn(e,t,n);break;case 1:tt||(an(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&gf(n,t,i)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:tt=(i=tt)||n.memoizedState!==null,wn(e,t,n),tt=i;break;default:wn(e,t,n)}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(n){Ue(t,t.return,n)}}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(n){Ue(t,t.return,n)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _f),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _f),t;default:throw Error(l(435,e.tag))}}function Ts(e,t){var n=Ny(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Fy.bind(null,e,i);i.then(o,o)}})}function _t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],d=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Qn(v.type)){$e=v.stateNode,bt=!1;break e}break;case 5:$e=v.stateNode,bt=!1;break e;case 3:case 4:$e=v.stateNode.containerInfo,bt=!0;break e}v=v.return}if($e===null)throw Error(l(160));xf(d,g,o),$e=null,bt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jf(t,e),t=t.sibling}var Wt=null;function jf(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),wt(e),i&4&&(Vn(3,e,e.return),ri(3,e),Vn(5,e,e.return));break;case 1:_t(t,e),wt(e),i&512&&(tt||n===null||an(n,n.return)),i&64&&_n&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Wt;if(_t(t,e),wt(e),i&512&&(tt||n===null||an(n,n.return)),i&4){var d=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Nr]||d[lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),dt(d,i,n),d[lt]=e,it(d),i=d;break e;case"link":var g=j0("link","href",o).get(i+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}d=o.createElement(i),dt(d,i,n),o.head.appendChild(d);break;case"meta":if(g=j0("meta","content",o).get(i+(n.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}d=o.createElement(i),dt(d,i,n),o.head.appendChild(d);break;default:throw Error(l(468,i))}d[lt]=e,it(d),i=d}e.stateNode=i}else T0(o,e.type,e.stateNode);else e.stateNode=E0(o,i,e.memoizedProps);else d!==i?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,i===null?T0(o,e.type,e.stateNode):E0(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ac(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),wt(e),i&512&&(tt||n===null||an(n,n.return)),n!==null&&i&4&&ac(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),wt(e),i&512&&(tt||n===null||an(n,n.return)),e.flags&32){o=e.stateNode;try{La(o,"")}catch(re){Ue(e,e.return,re)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,ac(e,o,n!==null?n.memoizedProps:o)),i&1024&&(sc=!0);break;case 6:if(_t(t,e),wt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(re){Ue(e,e.return,re)}}break;case 3:if(Is=null,o=Wt,Wt=Fs(t.containerInfo),_t(t,e),Wt=o,wt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(re){Ue(e,e.return,re)}sc&&(sc=!1,Tf(e));break;case 4:i=Wt,Wt=Fs(e.stateNode.containerInfo),_t(t,e),wt(e),Wt=i;break;case 12:_t(t,e),wt(e);break;case 31:_t(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ts(e,i)));break;case 13:_t(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Rs=At()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ts(e,i)));break;case 22:o=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,z=_n,P=tt;if(_n=z||o,tt=P||x,_t(t,e),tt=P,_n=z,wt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||x||_n||tt||Sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(d=x.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=x.stateNode;var G=x.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(re){Ue(x,x.return,re)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(re){Ue(x,x.return,re)}}}else if(t.tag===18){if(n===null){x=t;try{var H=x.stateNode;o?g0(H,!0):g0(x.stateNode,!1)}catch(re){Ue(x,x.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ts(e,n))));break;case 19:_t(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ts(e,i)));break;case 30:break;case 21:break;default:_t(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(vf(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,d=rc(e);js(e,d,o);break;case 5:var g=n.stateNode;n.flags&32&&(La(g,""),n.flags&=-33);var v=rc(e);js(e,v,g);break;case 3:case 4:var x=n.stateNode.containerInfo,z=rc(e);ic(e,z,x);break;default:throw Error(l(161))}}catch(P){Ue(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wf(e,t.alternate,t),t=t.sibling}function Sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),Sa(t);break;case 1:an(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gf(t,t.return,n),Sa(t);break;case 27:mi(t.stateNode);case 26:case 5:an(t,t.return),Sa(t);break;case 22:t.memoizedState===null&&Sa(t);break;case 30:Sa(t);break;default:Sa(t)}e=e.sibling}}function xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:xn(o,d,n),ri(4,d);break;case 1:if(xn(o,d,n),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Ue(i,i.return,z)}if(i=d,o=i.updateQueue,o!==null){var v=i.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)ah(x[o],v)}catch(z){Ue(i,i.return,z)}}n&&g&64&&pf(d),ii(d,d.return);break;case 27:bf(d);case 26:case 5:xn(o,d,n),n&&i===null&&g&4&&yf(d),ii(d,d.return);break;case 12:xn(o,d,n);break;case 31:xn(o,d,n),n&&g&4&&Af(o,d);break;case 13:xn(o,d,n),n&&g&4&&Ef(o,d);break;case 22:d.memoizedState===null&&xn(o,d,n),ii(d,d.return);break;case 30:break;default:xn(o,d,n)}t=t.sibling}}function lc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$r(n))}function oc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$r(e))}function Jt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cf(e,t,n,i),t=t.sibling}function Cf(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,n,i),o&2048&&ri(9,t);break;case 1:Jt(e,t,n,i);break;case 3:Jt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$r(e)));break;case 12:if(o&2048){Jt(e,t,n,i),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ue(t,t.return,x)}}else Jt(e,t,n,i);break;case 31:Jt(e,t,n,i);break;case 13:Jt(e,t,n,i);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Jt(e,t,n,i):si(e,t):d._visibility&2?Jt(e,t,n,i):(d._visibility|=2,ar(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&lc(g,t);break;case 24:Jt(e,t,n,i),o&2048&&oc(t.alternate,t);break;default:Jt(e,t,n,i)}}function ar(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,v=n,x=i,z=g.flags;switch(g.tag){case 0:case 11:case 15:ar(d,g,v,x,o),ri(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?ar(d,g,v,x,o):si(d,g):(P._visibility|=2,ar(d,g,v,x,o)),o&&z&2048&&lc(g.alternate,g);break;case 24:ar(d,g,v,x,o),o&&z&2048&&oc(g.alternate,g);break;default:ar(d,g,v,x,o)}t=t.sibling}}function si(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:si(n,i),o&2048&&lc(i.alternate,i);break;case 24:si(n,i),o&2048&&oc(i.alternate,i);break;default:si(n,i)}t=t.sibling}}var li=8192;function rr(e,t,n){if(e.subtreeFlags&li)for(e=e.child;e!==null;)Rf(e,t,n),e=e.sibling}function Rf(e,t,n){switch(e.tag){case 26:rr(e,t,n),e.flags&li&&e.memoizedState!==null&&vv(n,Wt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,n);break;case 3:case 4:var i=Wt;Wt=Fs(e.stateNode.containerInfo),rr(e,t,n),Wt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=li,li=16777216,rr(e,t,n),li=i):rr(e,t,n));break;default:rr(e,t,n)}}function Of(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,Nf(i,e)}Of(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kf(e),e=e.sibling}function kf(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cs(e)):oi(e);break;default:oi(e)}}function Cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,Nf(i,e)}Of(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),Cs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Cs(t));break;default:Cs(t)}e=e.sibling}}function Nf(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$r(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,st=i;else e:for(n=e;st!==null;){i=st;var o=i.sibling,d=i.return;if(Sf(i),i===n){st=null;break e}if(o!==null){o.return=d,st=o;break e}st=d}}}var zy={getCacheForType:function(e){var t=ct(Xe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ct(Xe).controller.signal}},Dy=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Fe=null,Se=null,Ae=0,De=0,kt=null,$n=!1,ir=!1,cc=!1,An=0,We=0,Gn=0,xa=0,uc=0,Nt=0,sr=0,ci=null,St=null,dc=!1,Rs=0,zf=0,Os=1/0,ks=null,Yn=null,at=0,Kn=null,lr=null,En=0,hc=0,fc=null,Df=null,ui=0,mc=null;function zt(){return(Ne&2)!==0&&Ae!==0?Ae&-Ae:M.T!==null?_c():Wu()}function Uf(){if(Nt===0)if((Ae&536870912)===0||je){var e=Hi;Hi<<=1,(Hi&3932160)===0&&(Hi=262144),Nt=e}else Nt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Nt}function xt(e,t,n){(e===Fe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(or(e,0),Wn(e,Ae,Nt,!1)),kr(e,n),((Ne&2)===0||e!==Fe)&&(e===Fe&&((Ne&2)===0&&(xa|=n),We===4&&Wn(e,Ae,Nt,!1)),rn(e))}function Mf(e,t,n){if((Ne&6)!==0)throw Error(l(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Or(e,t),o=i?Ly(e,t):gc(e,t,!0),d=i;do{if(o===0){ir&&!i&&Wn(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Uy(n)){o=gc(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;o=ci;var x=v.current.memoizedState.isDehydrated;if(x&&(or(v,g).flags|=256),g=gc(v,g,!1),g!==2){if(cc&&!x){v.errorRecoveryDisabledLanes|=d,xa|=d,o=4;break e}d=St,St=o,d!==null&&(St===null?St=d:St.push.apply(St,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){or(e,0),Wn(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Wn(i,t,Nt,!$n);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Rs+300-At(),10<o)){if(Wn(i,t,Nt,!$n),Fi(i,0,!0)!==0)break e;En=t,i.timeoutHandle=f0(Lf.bind(null,i,n,St,ks,dc,t,Nt,xa,sr,$n,d,"Throttled",-0,0),o);break e}Lf(i,n,St,ks,dc,t,Nt,xa,sr,$n,d,null,-0,0)}}break}while(!0);rn(e)}function Lf(e,t,n,i,o,d,g,v,x,z,P,G,U,H){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Rf(t,d,G);var re=(d&62914560)===d?Rs-At():(d&4194048)===d?zf-At():0;if(re=bv(G,re),re!==null){En=d,e.cancelPendingCommit=re($f.bind(null,e,t,d,n,i,o,g,v,x,P,G,null,U,H)),Wn(e,d,g,!z);return}}$f(e,t,d,n,i,o,g,v,x)}function Uy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],d=o.getSnapshot;o=o.value;try{if(!Tt(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,n,i){t&=~uc,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-jt(o),g=1<<d;i[d]=-1,o&=~g}n!==0&&Gu(e,n,t)}function Ns(){return(Ne&6)===0?(di(0),!1):!0}function pc(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,mn=ma=null,ko(e),Xa=null,Yr=0,e=Se;for(;e!==null;)mf(e.alternate,e),e=e.return;Se=null}}function or(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,tv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,pc(),Fe=e,Se=n=hn(e.current,null),Ae=t,De=0,kt=null,$n=!1,ir=Or(e,t),cc=!1,sr=Nt=uc=xa=Gn=We=0,St=ci=null,dc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-jt(i),d=1<<o;t|=e[o],i&=~d}return An=t,Zi(),n}function Bf(e,t){ye=null,M.H=ti,t===Qa||t===ls?(t=Zd(),De=3):t===bo?(t=Zd(),De=4):De=t===Yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Se===null&&(We=1,ws(e,Ht(t,e.current)))}function Hf(){var e=Rt.current;return e===null?!0:(Ae&4194048)===Ae?It===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===It:!1}function qf(){var e=M.H;return M.H=ti,e===null?ti:e}function Ff(){var e=M.A;return M.A=zy,e}function zs(){We=4,$n||(Ae&4194048)!==Ae&&Rt.current!==null||(ir=!0),(Gn&134217727)===0&&(xa&134217727)===0||Fe===null||Wn(Fe,Ae,Nt,!1)}function gc(e,t,n){var i=Ne;Ne|=2;var o=qf(),d=Ff();(Fe!==e||Ae!==t)&&(ks=null,or(e,t)),t=!1;var g=We;e:do try{if(De!==0&&Se!==null){var v=Se,x=kt;switch(De){case 8:pc(),g=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var z=De;if(De=0,kt=null,cr(e,v,x,z),n&&ir){g=0;break e}break;default:z=De,De=0,kt=null,cr(e,v,x,z)}}My(),g=We;break}catch(P){Bf(e,P)}while(!0);return t&&e.shellSuspendCounter++,mn=ma=null,Ne=i,M.H=o,M.A=d,Se===null&&(Fe=null,Ae=0,Zi()),g}function My(){for(;Se!==null;)Pf(Se)}function Ly(e,t){var n=Ne;Ne|=2;var i=qf(),o=Ff();Fe!==e||Ae!==t?(ks=null,Os=At()+500,or(e,t)):ir=Or(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var d=kt;t:switch(De){case 1:De=0,kt=null,cr(e,t,d,1);break;case 2:case 9:if(Qd(d)){De=0,kt=null,If(t);break}t=function(){De!==2&&De!==9||Fe!==e||(De=7),rn(e)},d.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Qd(d)?(De=0,kt=null,If(t)):(De=0,kt=null,cr(e,t,d,7));break;case 5:var g=null;switch(Se.tag){case 26:g=Se.memoizedState;case 5:case 27:var v=Se;if(g?C0(g):v.stateNode.complete){De=0,kt=null;var x=v.sibling;if(x!==null)Se=x;else{var z=v.return;z!==null?(Se=z,Ds(z)):Se=null}break t}}De=0,kt=null,cr(e,t,d,5);break;case 6:De=0,kt=null,cr(e,t,d,6);break;case 8:pc(),We=6;break e;default:throw Error(l(462))}}By();break}catch(P){Bf(e,P)}while(!0);return mn=ma=null,M.H=i,M.A=o,Ne=n,Se!==null?0:(Fe=null,Ae=0,Zi(),We)}function By(){for(;Se!==null&&!lg();)Pf(Se)}function Pf(e){var t=hf(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?Ds(e):Se=t}function If(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=sf(n,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=sf(n,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:ko(t);default:mf(n,t),t=Se=qd(t,An),t=hf(n,t,An)}e.memoizedProps=e.pendingProps,t===null?Ds(e):Se=t}function cr(e,t,n,i){mn=ma=null,ko(t),Xa=null,Yr=0;var o=t.return;try{if(jy(e,o,t,n,Ae)){We=1,ws(e,Ht(n,e.current)),Se=null;return}}catch(d){if(o!==null)throw Se=o,d;We=1,ws(e,Ht(n,e.current)),Se=null;return}t.flags&32768?(je||i===1?e=!0:ir||(Ae&536870912)!==0?e=!1:($n=e=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Vf(t,e)):Ds(t)}function Ds(e){var t=e;do{if((t.flags&32768)!==0){Vf(t,$n);return}e=t.return;var n=Ry(t.alternate,t,An);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);We===0&&(We=5)}function Vf(e,t){do{var n=Oy(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);We=6,Se=null}function $f(e,t,n,i,o,d,g,v,x){e.cancelPendingCommit=null;do Us();while(at!==0);if((Ne&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=ao,yg(e,n,d,g,v,x),e===Fe&&(Se=Fe=null,Ae=0),lr=t,Kn=e,En=n,hc=d,fc=o,Df=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Py(Li,function(){return Jf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,o=W.p,W.p=2,g=Ne,Ne|=4;try{ky(e,t,n)}finally{Ne=g,W.p=o,M.T=i}}at=1,Gf(),Yf(),Kf()}}function Gf(){if(at===1){at=0;var e=Kn,t=lr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var i=W.p;W.p=2;var o=Ne;Ne|=4;try{jf(t,e);var d=Cc,g=kd(e.containerInfo),v=d.focusedElem,x=d.selectionRange;if(g!==v&&v&&v.ownerDocument&&Od(v.ownerDocument.documentElement,v)){if(x!==null&&Xl(v)){var z=x.start,P=x.end;if(P===void 0&&(P=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(P,v.value.length);else{var G=v.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var H=U.getSelection(),re=v.textContent.length,he=Math.min(x.start,re),He=x.end===void 0?he:Math.min(x.end,re);!H.extend&&he>He&&(g=He,He=he,he=g);var R=Rd(v,he),T=Rd(v,He);if(R&&T&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==T.node||H.focusOffset!==T.offset)){var N=G.createRange();N.setStart(R.node,R.offset),H.removeAllRanges(),he>He?(H.addRange(N),H.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),H.addRange(N))}}}}for(G=[],H=v;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var V=G[v];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Ys=!!Tc,Cc=Tc=null}finally{Ne=o,W.p=i,M.T=n}}e.current=t,at=2}}function Yf(){if(at===2){at=0;var e=Kn,t=lr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var i=W.p;W.p=2;var o=Ne;Ne|=4;try{wf(e,t.alternate,t)}finally{Ne=o,W.p=i,M.T=n}}at=3}}function Kf(){if(at===4||at===3){at=0,og();var e=Kn,t=lr,n=En,i=Df;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,lr=Kn=null,Wf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Yn=null),zl(n),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Rr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,o=W.p,W.p=2,M.T=null;try{for(var d=e.onRecoverableError,g=0;g<i.length;g++){var v=i[g];d(v.value,{componentStack:v.stack})}}finally{M.T=t,W.p=o}}(En&3)!==0&&Us(),rn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===mc?ui++:(ui=0,mc=e):ui=0,di(0)}}function Wf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$r(t)))}function Us(){return Gf(),Yf(),Kf(),Jf()}function Jf(){if(at!==5)return!1;var e=Kn,t=hc;hc=0;var n=zl(En),i=M.T,o=W.p;try{W.p=32>n?32:n,M.T=null,n=fc,fc=null;var d=Kn,g=En;if(at=0,lr=Kn=null,En=0,(Ne&6)!==0)throw Error(l(331));var v=Ne;if(Ne|=4,kf(d.current),Cf(d,d.current,g,n),Ne=v,di(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Rr,d)}catch{}return!0}finally{W.p=o,M.T=i,Wf(e,t)}}function Qf(e,t,n){t=Ht(n,t),t=Go(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(kr(e,2),rn(e))}function Ue(e,t,n){if(e.tag===3)Qf(e,e,n);else for(;t!==null;){if(t.tag===3){Qf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yn===null||!Yn.has(i))){e=Ht(n,e),n=Qh(2),i=Fn(t,n,2),i!==null&&(Xh(n,i,t,e),kr(i,2),rn(i));break}}t=t.return}}function yc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Dy;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(cc=!0,o.add(n),e=Hy.bind(null,e,t,n),t.then(e,e))}function Hy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Ae&n)===n&&(We===4||We===3&&(Ae&62914560)===Ae&&300>At()-Rs?(Ne&2)===0&&or(e,0):uc|=n,sr===Ae&&(sr=0)),rn(e)}function Xf(e,t){t===0&&(t=$u()),e=da(e,t),e!==null&&(kr(e,t),rn(e))}function qy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xf(e,n)}function Fy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Xf(e,n)}function Py(e,t){return Rl(e,t)}var Ms=null,ur=null,vc=!1,Ls=!1,bc=!1,Jn=0;function rn(e){e!==ur&&e.next===null&&(ur===null?Ms=ur=e:ur=ur.next=e),Ls=!0,vc||(vc=!0,Vy())}function di(e,t){if(!bc&&Ls){bc=!0;do for(var n=!1,i=Ms;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var g=i.suspendedLanes,v=i.pingedLanes;d=(1<<31-jt(42|e)+1)-1,d&=o&~(g&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,n0(i,d))}else d=Ae,d=Fi(i,i===Fe?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Or(i,d)||(n=!0,n0(i,d));i=i.next}while(n);bc=!1}}function Iy(){Zf()}function Zf(){Ls=vc=!1;var e=0;Jn!==0&&ev()&&(e=Jn);for(var t=At(),n=null,i=Ms;i!==null;){var o=i.next,d=e0(i,t);d===0?(i.next=null,n===null?Ms=o:n.next=o,o===null&&(ur=n)):(n=i,(e!==0||(d&3)!==0)&&(Ls=!0)),i=o}at!==0&&at!==5||di(e),Jn!==0&&(Jn=0)}function e0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-jt(d),v=1<<g,x=o[g];x===-1?((v&n)===0||(v&i)!==0)&&(o[g]=gg(v,t)):x<=t&&(e.expiredLanes|=v),d&=~v}if(t=Fe,n=Ae,n=Fi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ol(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Or(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ol(i),zl(n)){case 2:case 8:n=Iu;break;case 32:n=Li;break;case 268435456:n=Vu;break;default:n=Li}return i=t0.bind(null,e),n=Rl(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ol(i),e.callbackPriority=2,e.callbackNode=null,2}function t0(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var i=Ae;return i=Fi(e,e===Fe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Mf(e,i,t),e0(e,At()),e.callbackNode!=null&&e.callbackNode===n?t0.bind(null,e):null)}function n0(e,t){if(Us())return null;Mf(e,t,!0)}function Vy(){nv(function(){(Ne&6)!==0?Rl(Pu,Iy):Zf()})}function _c(){if(Jn===0){var e=Wa;e===0&&(e=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Jn=e}return Jn}function a0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$i(""+e)}function r0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function $y(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var d=a0((o[yt]||null).action),g=i.submitter;g&&(t=(t=g[yt]||null)?a0(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var v=new Wi("action","action",null,i,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Jn!==0){var x=g?r0(o,g):new FormData(o);qo(n,{pending:!0,data:x,method:o.method,action:d},null,x)}}else typeof d=="function"&&(v.preventDefault(),x=g?r0(o,g):new FormData(o),qo(n,{pending:!0,data:x,method:o.method,action:d},d,x))},currentTarget:o}]})}}for(var wc=0;wc<no.length;wc++){var Sc=no[wc],Gy=Sc.toLowerCase(),Yy=Sc[0].toUpperCase()+Sc.slice(1);Kt(Gy,"on"+Yy)}Kt(Dd,"onAnimationEnd"),Kt(Ud,"onAnimationIteration"),Kt(Md,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(cy,"onTransitionRun"),Kt(uy,"onTransitionStart"),Kt(dy,"onTransitionCancel"),Kt(Ld,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hi));function i0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],x=v.instance,z=v.currentTarget;if(v=v.listener,x!==d&&o.isPropagationStopped())break e;d=v,o.currentTarget=z;try{d(o)}catch(P){Xi(P)}o.currentTarget=null,d=x}else for(g=0;g<i.length;g++){if(v=i[g],x=v.instance,z=v.currentTarget,v=v.listener,x!==d&&o.isPropagationStopped())break e;d=v,o.currentTarget=z;try{d(o)}catch(P){Xi(P)}o.currentTarget=null,d=x}}}}function xe(e,t){var n=t[Dl];n===void 0&&(n=t[Dl]=new Set);var i=e+"__bubble";n.has(i)||(s0(t,e,2,!1),n.add(i))}function xc(e,t,n){var i=0;t&&(i|=4),s0(n,e,i,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Bs]){e[Bs]=!0,Xu.forEach(function(n){n!=="selectionchange"&&(Ky.has(n)||xc(n,!1,e),xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,xc("selectionchange",!1,t))}}function s0(e,t,n,i){switch(U0(t)){case 2:var o=Sv;break;case 8:o=xv;break;default:o=Hc}n=o.bind(null,t,n,e),o=void 0,!Il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ec(e,t,n,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===o)break;if(g===4)for(g=i.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;v!==null;){if(g=Na(v),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){i=d=g;continue e}v=v.parentNode}}i=i.return}ud(function(){var z=d,P=Fl(n),G=[];e:{var U=Bd.get(e);if(U!==void 0){var H=Wi,re=e;switch(e){case"keypress":if(Yi(n)===0)break e;case"keydown":case"keyup":H=Fg;break;case"focusin":re="focus",H=Yl;break;case"focusout":re="blur",H=Yl;break;case"beforeblur":case"afterblur":H=Yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Vg;break;case Dd:case Ud:case Md:H=Ng;break;case Ld:H=Gg;break;case"scroll":case"scrollend":H=Tg;break;case"wheel":H=Kg;break;case"copy":case"cut":case"paste":H=Dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=pd;break;case"toggle":case"beforetoggle":H=Jg}var he=(t&4)!==0,He=!he&&(e==="scroll"||e==="scrollend"),R=he?U!==null?U+"Capture":null:U;he=[];for(var T=z,N;T!==null;){var V=T;if(N=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||N===null||R===null||(V=Dr(T,R),V!=null&&he.push(fi(T,V,N))),He)break;T=T.return}0<he.length&&(U=new H(U,re,null,n,P),G.push({event:U,listeners:he}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&n!==ql&&(re=n.relatedTarget||n.fromElement)&&(Na(re)||re[ka]))break e;if((H||U)&&(U=P.window===P?P:(U=P.ownerDocument)?U.defaultView||U.parentWindow:window,H?(re=n.relatedTarget||n.toElement,H=z,re=re?Na(re):null,re!==null&&(He=u(re),he=re.tag,re!==He||he!==5&&he!==27&&he!==6)&&(re=null)):(H=null,re=z),H!==re)){if(he=fd,V="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(he=pd,V="onPointerLeave",R="onPointerEnter",T="pointer"),He=H==null?U:zr(H),N=re==null?U:zr(re),U=new he(V,T+"leave",H,n,P),U.target=He,U.relatedTarget=N,V=null,Na(P)===z&&(he=new he(R,T+"enter",re,n,P),he.target=N,he.relatedTarget=He,V=he),He=V,H&&re)t:{for(he=Wy,R=H,T=re,N=0,V=R;V;V=he(V))N++;V=0;for(var ue=T;ue;ue=he(ue))V++;for(;0<N-V;)R=he(R),N--;for(;0<V-N;)T=he(T),V--;for(;N--;){if(R===T||T!==null&&R===T.alternate){he=R;break t}R=he(R),T=he(T)}he=null}else he=null;H!==null&&l0(G,U,H,he,!1),re!==null&&He!==null&&l0(G,He,re,he,!0)}}e:{if(U=z?zr(z):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Re=xd;else if(wd(U))if(Ad)Re=sy;else{Re=ry;var ie=ay}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?z&&Hl(z.elementType)&&(Re=xd):Re=iy;if(Re&&(Re=Re(e,z))){Sd(G,Re,n,P);break e}ie&&ie(e,U,z),e==="focusout"&&z&&U.type==="number"&&z.memoizedProps.value!=null&&Bl(U,"number",U.value)}switch(ie=z?zr(z):window,e){case"focusin":(wd(ie)||ie.contentEditable==="true")&&(Fa=ie,Zl=z,Pr=null);break;case"focusout":Pr=Zl=Fa=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Nd(G,n,P);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":Nd(G,n,P)}var ve;if(Wl)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else qa?bd(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(gd&&n.locale!=="ko"&&(qa||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&qa&&(ve=dd()):(Dn=P,Vl="value"in Dn?Dn.value:Dn.textContent,qa=!0)),ie=Hs(z,Ee),0<ie.length&&(Ee=new md(Ee,e,null,n,P),G.push({event:Ee,listeners:ie}),ve?Ee.data=ve:(ve=_d(n),ve!==null&&(Ee.data=ve)))),(ve=Xg?Zg(e,n):ey(e,n))&&(Ee=Hs(z,"onBeforeInput"),0<Ee.length&&(ie=new md("onBeforeInput","beforeinput",null,n,P),G.push({event:ie,listeners:Ee}),ie.data=ve)),$y(G,e,z,n,P)}i0(G,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hs(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Dr(e,n),o!=null&&i.unshift(fi(e,o,d)),o=Dr(e,t),o!=null&&i.push(fi(e,o,d))),e.tag===3)return i;e=e.return}return[]}function Wy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l0(e,t,n,i,o){for(var d=t._reactName,g=[];n!==null&&n!==i;){var v=n,x=v.alternate,z=v.stateNode;if(v=v.tag,x!==null&&x===i)break;v!==5&&v!==26&&v!==27||z===null||(x=z,o?(z=Dr(n,d),z!=null&&g.unshift(fi(n,z,x))):o||(z=Dr(n,d),z!=null&&g.push(fi(n,z,x)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Jy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function o0(e){return(typeof e=="string"?e:""+e).replace(Jy,`
`).replace(Qy,"")}function c0(e,t){return t=o0(t),o0(e)===t}function Be(e,t,n,i,o,d){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||La(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&La(e,""+i);break;case"className":Ii(e,"class",i);break;case"tabIndex":Ii(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(e,n,i);break;case"style":od(e,i,d);break;case"data":if(t!=="object"){Ii(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=$i(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Be(e,t,"name",o.name,o,null),Be(e,t,"formEncType",o.formEncType,o,null),Be(e,t,"formMethod",o.formMethod,o,null),Be(e,t,"formTarget",o.formTarget,o,null)):(Be(e,t,"encType",o.encType,o,null),Be(e,t,"method",o.method,o,null),Be(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=$i(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=un);break;case"onScroll":i!=null&&xe("scroll",e);break;case"onScrollEnd":i!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=$i(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Pi(e,"popover",i);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Pi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Eg.get(n)||n,Pi(e,n,i))}}function jc(e,t,n,i,o,d){switch(n){case"style":od(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?La(e,i):(typeof i=="number"||typeof i=="bigint")&&La(e,""+i);break;case"onScroll":i!=null&&xe("scroll",e);break;case"onScrollEnd":i!=null&&xe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[yt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Pi(e,n,i)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var i=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var g=n[d];if(g!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Be(e,t,d,g,n,null)}}o&&Be(e,t,"srcSet",n.srcSet,n,null),i&&Be(e,t,"src",n.src,n,null);return;case"input":xe("invalid",e);var v=d=g=o=null,x=null,z=null;for(i in n)if(n.hasOwnProperty(i)){var P=n[i];if(P!=null)switch(i){case"name":o=P;break;case"type":g=P;break;case"checked":x=P;break;case"defaultChecked":z=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:Be(e,t,i,P,n,null)}}rd(e,d,v,x,z,g,o,!1);return;case"select":xe("invalid",e),i=g=d=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:Be(e,t,o,v,n,null)}t=d,n=g,e.multiple=!!i,t!=null?Ma(e,!!i,t,!1):n!=null&&Ma(e,!!i,n,!0);return;case"textarea":xe("invalid",e),d=o=i=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":o=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Be(e,t,g,v,n,null)}sd(e,i,o,d);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(i=n[x],i!=null))switch(x){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Be(e,t,x,i,n,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(i=0;i<hi.length;i++)xe(hi[i],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in n)if(n.hasOwnProperty(z)&&(i=n[z],i!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Be(e,t,z,i,n,null)}return;default:if(Hl(t)){for(P in n)n.hasOwnProperty(P)&&(i=n[P],i!==void 0&&jc(e,t,P,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Be(e,t,v,i,n,null))}function Xy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,v=null,x=null,z=null,P=null;for(H in n){var G=n[H];if(n.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=G;default:i.hasOwnProperty(H)||Be(e,t,H,null,i,G)}}for(var U in i){var H=i[U];if(G=n[U],i.hasOwnProperty(U)&&(H!=null||G!=null))switch(U){case"type":d=H;break;case"name":o=H;break;case"checked":z=H;break;case"defaultChecked":P=H;break;case"value":g=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:H!==G&&Be(e,t,U,H,i,G)}}Ll(e,g,v,x,z,P,d,o);return;case"select":H=g=v=U=null;for(d in n)if(x=n[d],n.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":H=x;default:i.hasOwnProperty(d)||Be(e,t,d,null,i,x)}for(o in i)if(d=i[o],x=n[o],i.hasOwnProperty(o)&&(d!=null||x!=null))switch(o){case"value":U=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==x&&Be(e,t,o,d,i,x)}t=v,n=g,i=H,U!=null?Ma(e,!!n,U,!1):!!i!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":H=U=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,t,v,null,i,o)}for(g in i)if(o=i[g],d=n[g],i.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":U=o;break;case"defaultValue":H=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Be(e,t,g,o,i,d)}id(e,U,H);return;case"option":for(var re in n)if(U=n[re],n.hasOwnProperty(re)&&U!=null&&!i.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Be(e,t,re,null,i,U)}for(x in i)if(U=i[x],H=n[x],i.hasOwnProperty(x)&&U!==H&&(U!=null||H!=null))switch(x){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Be(e,t,x,U,i,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)U=n[he],n.hasOwnProperty(he)&&U!=null&&!i.hasOwnProperty(he)&&Be(e,t,he,null,i,U);for(z in i)if(U=i[z],H=n[z],i.hasOwnProperty(z)&&U!==H&&(U!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:Be(e,t,z,U,i,H)}return;default:if(Hl(t)){for(var He in n)U=n[He],n.hasOwnProperty(He)&&U!==void 0&&!i.hasOwnProperty(He)&&jc(e,t,He,void 0,i,U);for(P in i)U=i[P],H=n[P],!i.hasOwnProperty(P)||U===H||U===void 0&&H===void 0||jc(e,t,P,U,i,H);return}}for(var R in n)U=n[R],n.hasOwnProperty(R)&&U!=null&&!i.hasOwnProperty(R)&&Be(e,t,R,null,i,U);for(G in i)U=i[G],H=n[G],!i.hasOwnProperty(G)||U===H||U==null&&H==null||Be(e,t,G,U,i,H)}function u0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],d=o.transferSize,g=o.initiatorType,v=o.duration;if(d&&v&&u0(g)){for(g=0,v=o.responseEnd,i+=1;i<n.length;i++){var x=n[i],z=x.startTime;if(z>v)break;var P=x.transferSize,G=x.initiatorType;P&&u0(G)&&(x=x.responseEnd,g+=P*(x<v?1:(v-z)/(x-z)))}if(--i,t+=8*(d+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tc=null,Cc=null;function qs(e){return e.nodeType===9?e:e.ownerDocument}function d0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oc=null;function ev(){var e=window.event;return e&&e.type==="popstate"?e===Oc?!1:(Oc=e,!0):(Oc=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(e){return m0.resolve(null).then(e).catch(av)}:f0;function av(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function p0(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),mr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")mi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,mi(n);for(var d=n.firstChild;d;){var g=d.nextSibling,v=d.nodeName;d[Nr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}else n==="body"&&mi(e.ownerDocument.body);n=o}while(n);mr(t)}function g0(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kc(n),Ul(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function rv(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Nr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function iv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function y0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$?"||e.data==="$~"}function zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Dc=null;function v0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function b0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function _0(e,t,n){switch(t=qs(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ul(e)}var $t=new Map,w0=new Set;function Fs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=W.d;W.d={f:lv,r:ov,D:cv,C:uv,L:dv,m:hv,X:mv,S:fv,M:pv};function lv(){var e=jn.f(),t=Ns();return e||t}function ov(e){var t=za(e);t!==null&&t.tag===5&&t.type==="form"?Lh(t):jn.r(e)}var dr=typeof document>"u"?null:document;function S0(e,t,n){var i=dr;if(i&&typeof t=="string"&&t){var o=Lt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),w0.has(o)||(w0.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),dt(t,"link",e),it(t),i.head.appendChild(t)))}}function cv(e){jn.D(e),S0("dns-prefetch",e,null)}function uv(e,t){jn.C(e,t),S0("preconnect",e,t)}function dv(e,t,n){jn.L(e,t,n);var i=dr;if(i&&e&&t){var o='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Lt(n.imageSizes)+'"]')):o+='[href="'+Lt(e)+'"]';var d=o;switch(t){case"style":d=hr(e);break;case"script":d=fr(e)}$t.has(d)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$t.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(pi(d))||t==="script"&&i.querySelector(gi(d))||(t=i.createElement("link"),dt(t,"link",e),it(t),i.head.appendChild(t)))}}function hv(e,t){jn.m(e,t);var n=dr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Lt(i)+'"][href="'+Lt(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fr(e)}if(!$t.has(d)&&(e=_({rel:"modulepreload",href:e},t),$t.set(d,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gi(d)))return}i=n.createElement("link"),dt(i,"link",e),it(i),n.head.appendChild(i)}}}function fv(e,t,n){jn.S(e,t,n);var i=dr;if(i&&e){var o=Da(i).hoistableStyles,d=hr(e);t=t||"default";var g=o.get(d);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(pi(d)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$t.get(d))&&Uc(e,n);var x=g=i.createElement("link");it(x),dt(x,"link",e),x._p=new Promise(function(z,P){x.onload=z,x.onerror=P}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ps(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},o.set(d,g)}}}function mv(e,t){jn.X(e,t);var n=dr;if(n&&e){var i=Da(n).hoistableScripts,o=fr(e),d=i.get(o);d||(d=n.querySelector(gi(o)),d||(e=_({src:e,async:!0},t),(t=$t.get(o))&&Mc(e,t),d=n.createElement("script"),it(d),dt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function pv(e,t){jn.M(e,t);var n=dr;if(n&&e){var i=Da(n).hoistableScripts,o=fr(e),d=i.get(o);d||(d=n.querySelector(gi(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&Mc(e,t),d=n.createElement("script"),it(d),dt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function x0(e,t,n,i){var o=(o=B.current)?Fs(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hr(n.href),n=Da(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hr(n.href);var d=Da(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(pi(e)))&&!d._p&&(g.instance=d,g.state.loading=5),$t.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$t.set(e,n),d||gv(o,e,n,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fr(n),n=Da(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function hr(e){return'href="'+Lt(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function A0(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function gv(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),dt(t,"link",n),it(t),e.head.appendChild(t))}function fr(e){return'[src="'+Lt(e)+'"]'}function gi(e){return"script[async]"+e}function E0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(i)return t.instance=i,it(i),i;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),it(i),dt(i,"style",o),Ps(i,n.precedence,e),t.instance=i;case"stylesheet":o=hr(n.href);var d=e.querySelector(pi(o));if(d)return t.state.loading|=4,t.instance=d,it(d),d;i=A0(n),(o=$t.get(o))&&Uc(i,o),d=(e.ownerDocument||e).createElement("link"),it(d);var g=d;return g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),dt(d,"link",i),t.state.loading|=4,Ps(d,n.precedence,e),t.instance=d;case"script":return d=fr(n.src),(o=e.querySelector(gi(d)))?(t.instance=o,it(o),o):(i=n,(o=$t.get(d))&&(i=_({},n),Mc(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),dt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ps(i,n.precedence,e));return t.instance}function Ps(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)d=v;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Is=null;function j0(e,t,n){if(Is===null){var i=new Map,o=Is=new Map;o.set(n,i)}else o=Is,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[Nr]||d[lt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(d):i.set(g,[d])}}return i}function T0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function C0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vv(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=hr(i.href),d=t.querySelector(pi(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,it(d);return}d=t.ownerDocument||t,i=A0(i),(o=$t.get(o))&&Uc(i,o),d=d.createElement("link"),it(d);var g=d;g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),dt(d,"link",i),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Vs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Lc=0;function bv(e,t){return e.stylesheets&&e.count===0&&Gs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Gs(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Lc===0&&(Lc=62500*Zy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gs(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Lc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Vs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $s=null;function Gs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$s=new Map,t.forEach(_v,e),$s=null,Vs.call(e))}function _v(e,t){if(!(t.state.loading&4)){var n=$s.get(e);if(n)var i=n.get(null);else{n=new Map,$s.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),d=n.get(g)||i,d===i&&n.set(null,o),n.set(g,o),this.count++,i=Vs.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var yi={$$typeof:L,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function wv(e,t,n,i,o,d,g,v,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.hiddenUpdates=kl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function R0(e,t,n,i,o,d,g,v,x,z,P,G){return e=new wv(e,t,n,g,x,z,P,G,v),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=go(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:n,cache:t},_o(d),e}function O0(e){return e?(e=Va,e):Va}function k0(e,t,n,i,o,d){o=O0(o),i.context===null?i.context=o:i.pendingContext=o,i=qn(t),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=Fn(e,i,t),n!==null&&(xt(n,e,t),Wr(n,e,t))}function N0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bc(e,t){N0(e,t),(e=e.alternate)&&N0(e,t)}function z0(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&xt(t,e,67108864),Bc(e,67108864)}}function D0(e){if(e.tag===13||e.tag===31){var t=zt();t=Nl(t);var n=da(e,t);n!==null&&xt(n,e,t),Bc(e,t)}}var Ys=!0;function Sv(e,t,n,i){var o=M.T;M.T=null;var d=W.p;try{W.p=2,Hc(e,t,n,i)}finally{W.p=d,M.T=o}}function xv(e,t,n,i){var o=M.T;M.T=null;var d=W.p;try{W.p=8,Hc(e,t,n,i)}finally{W.p=d,M.T=o}}function Hc(e,t,n,i){if(Ys){var o=qc(i);if(o===null)Ec(e,t,i,Ks,n),M0(e,i);else if(Ev(o,e,t,n,i))i.stopPropagation();else if(M0(e,i),t&4&&-1<Av.indexOf(e)){for(;o!==null;){var d=za(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=sa(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var x=1<<31-jt(g);v.entanglements[1]|=x,g&=~x}rn(d),(Ne&6)===0&&(Os=At()+500,di(0))}}break;case 31:case 13:v=da(d,2),v!==null&&xt(v,d,2),Ns(),Bc(d,2)}if(d=qc(i),d===null&&Ec(e,t,i,Ks,n),d===o)break;o=d}o!==null&&i.stopPropagation()}else Ec(e,t,i,null,n)}}function qc(e){return e=Fl(e),Fc(e)}var Ks=null;function Fc(e){if(Ks=null,e=Na(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ks=e,null}function U0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cg()){case Pu:return 2;case Iu:return 8;case Li:case ug:return 32;case Vu:return 268435456;default:return 32}default:return 32}}var Pc=!1,Xn=null,Zn=null,ea=null,vi=new Map,bi=new Map,ta=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(t.pointerId)}}function _i(e,t,n,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=za(t),t!==null&&z0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ev(e,t,n,i,o){switch(t){case"focusin":return Xn=_i(Xn,e,t,n,i,o),!0;case"dragenter":return Zn=_i(Zn,e,t,n,i,o),!0;case"mouseover":return ea=_i(ea,e,t,n,i,o),!0;case"pointerover":var d=o.pointerId;return vi.set(d,_i(vi.get(d)||null,e,t,n,i,o)),!0;case"gotpointercapture":return d=o.pointerId,bi.set(d,_i(bi.get(d)||null,e,t,n,i,o)),!0}return!1}function L0(e){var t=Na(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Ju(e.priority,function(){D0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Ju(e.priority,function(){D0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ql=i,n.target.dispatchEvent(i),ql=null}else return t=za(n),t!==null&&z0(t),e.blockedOn=n,!1;t.shift()}return!0}function B0(e,t,n){Ws(e)&&n.delete(t)}function jv(){Pc=!1,Xn!==null&&Ws(Xn)&&(Xn=null),Zn!==null&&Ws(Zn)&&(Zn=null),ea!==null&&Ws(ea)&&(ea=null),vi.forEach(B0),bi.forEach(B0)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Pc||(Pc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jv)))}var Qs=null;function H0(e){Qs!==e&&(Qs=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qs===e&&(Qs=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Fc(i||n)===null)continue;break}var d=za(n);d!==null&&(e.splice(t,3),t-=3,qo(d,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function mr(e){function t(x){return Js(x,e)}Xn!==null&&Js(Xn,e),Zn!==null&&Js(Zn,e),ea!==null&&Js(ea,e),vi.forEach(t),bi.forEach(t);for(var n=0;n<ta.length;n++){var i=ta[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)L0(n),n.blockedOn===null&&ta.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],g=o[yt]||null;if(typeof d=="function")g||H0(n);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[yt]||null)v=g.formAction;else if(Fc(o)!==null)continue}else v=g.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),H0(n)}}}function q0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ic(e){this._internalRoot=e}Xs.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=zt();k0(n,i,e,t,null,null)},Xs.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;k0(e.current,2,null,e,null,null),Ns(),t[ka]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ta.length&&t!==0&&t<ta[n].priority;n++);ta.splice(n,0,e),n===0&&L0(e)}};var F0=a.version;if(F0!=="19.2.0")throw Error(l(527,F0,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Tv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Rr=Zs.inject(Tv),Et=Zs}catch{}}return Si.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,i="",o=Yh,d=Kh,g=Wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=R0(e,1,!1,null,null,n,i,null,o,d,g,q0),e[ka]=t.current,Ac(e),new Ic(t)},Si.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var i=!1,o="",d=Yh,g=Kh,v=Wh,x=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=R0(e,1,!0,t,n??null,i,o,x,d,g,v,q0),t.context=O0(null),n=t.current,i=zt(),i=Nl(i),o=qn(i),o.callback=null,Fn(n,o,i),n=i,t.current.lanes=n,kr(t,n),rn(t),e[ka]=t.current,Ac(e),new Xs(t)},Si.version="19.2.0",Si}var Q0;function Hv(){if(Q0)return Gc.exports;Q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Gc.exports=Bv(),Gc.exports}var qv=Hv();var X0="popstate";function Fv(s={}){function a(l,c){let{pathname:u,search:h,hash:m}=l.location;return lu("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){return typeof c=="string"?c:Ci(c)}return Iv(a,r,null,s)}function Ye(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Yt(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Pv(){return Math.random().toString(36).substring(2,10)}function Z0(s,a){return{usr:s.state,key:s.key,idx:a}}function lu(s,a,r=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Er(a):a,state:r,key:a&&a.key||l||Pv()}}function Ci({pathname:s="/",search:a="",hash:r=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Er(s){let a={};if(s){let r=s.indexOf("#");r>=0&&(a.hash=s.substring(r),s=s.substring(0,r));let l=s.indexOf("?");l>=0&&(a.search=s.substring(l),s=s.substring(0,l)),s&&(a.pathname=s)}return a}function Iv(s,a,r,l={}){let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,m="POP",p=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function _(){m="POP";let j=b(),q=j==null?null:j-y;y=j,p&&p({action:m,location:k.location,delta:q})}function S(j,q){m="PUSH";let F=lu(k.location,j,q);y=b()+1;let L=Z0(F,y),K=k.createHref(F);try{h.pushState(L,"",K)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;c.location.assign(K)}u&&p&&p({action:m,location:k.location,delta:1})}function w(j,q){m="REPLACE";let F=lu(k.location,j,q);y=b();let L=Z0(F,y),K=k.createHref(F);h.replaceState(L,"",K),u&&p&&p({action:m,location:k.location,delta:0})}function E(j){return Vv(j)}let k={get action(){return m},get location(){return s(c,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(X0,_),p=j,()=>{c.removeEventListener(X0,_),p=null}},createHref(j){return a(c,j)},createURL:E,encodeLocation(j){let q=E(j);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:w,go(j){return h.go(j)}};return k}function Vv(s,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(r,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Ci(s);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Pm(s,a,r="/"){return $v(s,a,r,!1)}function $v(s,a,r,l){let c=typeof a=="string"?Er(a):a,u=On(c.pathname||"/",r);if(u==null)return null;let h=Im(s);Gv(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=ab(u);m=tb(h[p],y,l)}return m}function Im(s,a=[],r=[],l="",c=!1){let u=(h,m,p=c,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&p)return;Ye(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let _=Rn([l,b.relativePath]),S=r.concat(b);h.children&&h.children.length>0&&(Ye(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Im(h.children,a,S,_,p)),!(h.path==null&&!h.index)&&a.push({path:_,score:Zv(_,h.index),routesMeta:S})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Vm(h.path))u(h,m,!0,p)}),a}function Vm(s){let a=s.split("/");if(a.length===0)return[];let[r,...l]=a,c=r.endsWith("?"),u=r.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=Vm(l.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function Gv(s){s.sort((a,r)=>a.score!==r.score?r.score-a.score:eb(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Yv=/^:[\w-]+$/,Kv=3,Wv=2,Jv=1,Qv=10,Xv=-2,em=s=>s==="*";function Zv(s,a){let r=s.split("/"),l=r.length;return r.some(em)&&(l+=Xv),a&&(l+=Wv),r.filter(c=>!em(c)).reduce((c,u)=>c+(Yv.test(u)?Kv:u===""?Jv:Qv),l)}function eb(s,a){return s.length===a.length&&s.slice(0,-1).every((l,c)=>l===a[c])?s[s.length-1]-a[a.length-1]:0}function tb(s,a,r=!1){let{routesMeta:l}=s,c={},u="/",h=[];for(let m=0;m<l.length;++m){let p=l[m],y=m===l.length-1,b=u==="/"?a:a.slice(u.length)||"/",_=ml({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),S=p.route;if(!_&&y&&r&&!l[l.length-1].route.index&&(_=ml({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(c,_.params),h.push({params:c,pathname:Rn([u,_.pathname]),pathnameBase:ob(Rn([u,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(u=Rn([u,_.pathnameBase]))}return h}function ml(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=nb(s.path,s.caseSensitive,s.end),c=a.match(r);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:l.reduce((y,{paramName:b,isOptional:_},S)=>{if(b==="*"){let E=m[S]||"";h=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=m[S];return _&&!w?y[b]=void 0:y[b]=(w||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:s}}function nb(s,a=!1,r=!0){Yt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function ab(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Yt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function On(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}var rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ib=s=>rb.test(s);function sb(s,a="/"){let{pathname:r,search:l="",hash:c=""}=typeof s=="string"?Er(s):s,u;if(r)if(ib(r))u=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),Yt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?u=tm(r.substring(1),"/"):u=tm(r,a)}else u=a;return{pathname:u,search:cb(l),hash:ub(c)}}function tm(s,a){let r=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Jc(s,a,r,l){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lb(s){return s.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function $m(s){let a=lb(s);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function Gm(s,a,r,l=!1){let c;typeof s=="string"?c=Er(s):(c={...s},Ye(!c.pathname||!c.pathname.includes("?"),Jc("?","pathname","search",c)),Ye(!c.pathname||!c.pathname.includes("#"),Jc("#","pathname","hash",c)),Ye(!c.search||!c.search.includes("#"),Jc("#","search","hash",c)));let u=s===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=r;else{let _=a.length-1;if(!l&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),_-=1;c.pathname=S.join("/")}m=_>=0?a[_]:"/"}let p=sb(c,m),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var Rn=s=>s.join("/").replace(/\/\/+/g,"/"),ob=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),cb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ub=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function db(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ym=["POST","PUT","PATCH","DELETE"];new Set(Ym);var hb=["GET",...Ym];new Set(hb);var jr=C.createContext(null);jr.displayName="DataRouter";var Sl=C.createContext(null);Sl.displayName="DataRouterState";C.createContext(!1);var Km=C.createContext({isTransitioning:!1});Km.displayName="ViewTransition";var fb=C.createContext(new Map);fb.displayName="Fetchers";var mb=C.createContext(null);mb.displayName="Await";var ln=C.createContext(null);ln.displayName="Navigation";var Ni=C.createContext(null);Ni.displayName="Location";var kn=C.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Eu=C.createContext(null);Eu.displayName="RouteError";function pb(s,{relative:a}={}){Ye(zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=C.useContext(ln),{hash:c,pathname:u,search:h}=Di(s,{relative:a}),m=u;return r!=="/"&&(m=u==="/"?r:Rn([r,u])),l.createHref({pathname:m,search:h,hash:c})}function zi(){return C.useContext(Ni)!=null}function on(){return Ye(zi(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ni).location}var Wm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jm(s){C.useContext(ln).static||C.useLayoutEffect(s)}function en(){let{isDataRoute:s}=C.useContext(kn);return s?Cb():gb()}function gb(){Ye(zi(),"useNavigate() may be used only in the context of a <Router> component.");let s=C.useContext(jr),{basename:a,navigator:r}=C.useContext(ln),{matches:l}=C.useContext(kn),{pathname:c}=on(),u=JSON.stringify($m(l)),h=C.useRef(!1);return Jm(()=>{h.current=!0}),C.useCallback((p,y={})=>{if(Yt(h.current,Wm),!h.current)return;if(typeof p=="number"){r.go(p);return}let b=Gm(p,JSON.parse(u),c,y.relative==="path");s==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:Rn([a,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[a,r,u,c,s])}C.createContext(null);function Di(s,{relative:a}={}){let{matches:r}=C.useContext(kn),{pathname:l}=on(),c=JSON.stringify($m(r));return C.useMemo(()=>Gm(s,JSON.parse(c),l,a==="path"),[s,c,l,a])}function yb(s,a){return Qm(s,a)}function Qm(s,a,r,l,c){Ye(zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(ln),{matches:h}=C.useContext(kn),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",_=m&&m.route;{let F=_&&_.path||"";Xm(y,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let S=on(),w;if(a){let F=typeof a=="string"?Er(a):a;Ye(b==="/"||F.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=S;let E=w.pathname||"/",k=E;if(b!=="/"){let F=b.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=Pm(s,{pathname:k});Yt(_||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Yt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Sb(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:Rn([b,u.encodeLocation?u.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?b:Rn([b,u.encodeLocation?u.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),h,r,l,c);return a&&q?C.createElement(Ni.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},q):q}function vb(){let s=Tb(),a=db(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},a),r?C.createElement("pre",{style:c},r):null,h)}var bb=C.createElement(vb,null),_b=class extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?C.createElement(kn.Provider,{value:this.props.routeContext},C.createElement(Eu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wb({routeContext:s,match:a,children:r}){let l=C.useContext(jr);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),C.createElement(kn.Provider,{value:s},r)}function Sb(s,a=[],r=null,l=null,c=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,h=r?.errors;if(h!=null){let b=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Ye(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(r)for(let b=0;b<u.length;b++){let _=u[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=b),_.route.id){let{loaderData:S,errors:w}=r,E=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||E){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=r&&l?(b,_)=>{l(b,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:_})}:void 0;return u.reduceRight((b,_,S)=>{let w,E=!1,k=null,j=null;r&&(w=h&&_.route.id?h[_.route.id]:void 0,k=_.route.errorElement||bb,m&&(p<0&&S===0?(Xm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):p===S&&(E=!0,j=_.route.hydrateFallbackElement||null)));let q=a.concat(u.slice(0,S+1)),F=()=>{let L;return w?L=k:E?L=j:_.route.Component?L=C.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=b,C.createElement(wb,{match:_,routeContext:{outlet:b,matches:q,isDataRoute:r!=null},children:L})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?C.createElement(_b,{location:r.location,revalidation:r.revalidation,component:k,error:w,children:F(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:y}):F()},null)}function ju(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(s){let a=C.useContext(jr);return Ye(a,ju(s)),a}function Ab(s){let a=C.useContext(Sl);return Ye(a,ju(s)),a}function Eb(s){let a=C.useContext(kn);return Ye(a,ju(s)),a}function Tu(s){let a=Eb(s),r=a.matches[a.matches.length-1];return Ye(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function jb(){return Tu("useRouteId")}function Tb(){let s=C.useContext(Eu),a=Ab("useRouteError"),r=Tu("useRouteError");return s!==void 0?s:a.errors?.[r]}function Cb(){let{router:s}=xb("useNavigate"),a=Tu("useNavigate"),r=C.useRef(!1);return Jm(()=>{r.current=!0}),C.useCallback(async(c,u={})=>{Yt(r.current,Wm),r.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:a,...u}))},[s,a])}var nm={};function Xm(s,a,r){!a&&!nm[s]&&(nm[s]=!0,Yt(!1,r))}C.memo(Rb);function Rb({routes:s,future:a,state:r,unstable_onError:l}){return Qm(s,void 0,r,l,a)}function sn(s){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ob({basename:s="/",children:a=null,location:r,navigationType:l="POP",navigator:c,static:u=!1}){Ye(!zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof r=="string"&&(r=Er(r));let{pathname:p="/",search:y="",hash:b="",state:_=null,key:S="default"}=r,w=C.useMemo(()=>{let E=On(p,h);return E==null?null:{location:{pathname:E,search:y,hash:b,state:_,key:S},navigationType:l}},[h,p,y,b,_,S,l]);return Yt(w!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(ln.Provider,{value:m},C.createElement(Ni.Provider,{children:a,value:w}))}function kb({children:s,location:a}){return yb(ou(s),a)}function ou(s,a=[]){let r=[];return C.Children.forEach(s,(l,c)=>{if(!C.isValidElement(l))return;let u=[...a,c];if(l.type===C.Fragment){r.push.apply(r,ou(l.props.children,u));return}Ye(l.type===sn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=ou(l.props.children,u)),r.push(h)}),r}var dl="get",hl="application/x-www-form-urlencoded";function xl(s){return s!=null&&typeof s.tagName=="string"}function Nb(s){return xl(s)&&s.tagName.toLowerCase()==="button"}function zb(s){return xl(s)&&s.tagName.toLowerCase()==="form"}function Db(s){return xl(s)&&s.tagName.toLowerCase()==="input"}function Ub(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Mb(s,a){return s.button===0&&(!a||a==="_self")&&!Ub(s)}function cu(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,r)=>{let l=s[r];return a.concat(Array.isArray(l)?l.map(c=>[r,c]):[[r,l]])},[]))}function Lb(s,a){let r=cu(s);return a&&a.forEach((l,c)=>{r.has(c)||a.getAll(c).forEach(u=>{r.append(c,u)})}),r}var el=null;function Bb(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var Hb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qc(s){return s!=null&&!Hb.has(s)?(Yt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):s}function qb(s,a){let r,l,c,u,h;if(zb(s)){let m=s.getAttribute("action");l=m?On(m,a):null,r=s.getAttribute("method")||dl,c=Qc(s.getAttribute("enctype"))||hl,u=new FormData(s)}else if(Nb(s)||Db(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(l=p?On(p,a):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||dl,c=Qc(s.getAttribute("formenctype"))||Qc(m.getAttribute("enctype"))||hl,u=new FormData(m,s),!Bb()){let{name:y,type:b,value:_}=s;if(b==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,_)}}else{if(xl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=dl,l=null,c=hl,h=s}return u&&c==="text/plain"&&(h=u,u=void 0),{action:l,method:r.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cu(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Fb(s,a,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${r}`:a&&On(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function Pb(s,a){if(s.id in a)return a[s.id];try{let r=await import(s.module);return a[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ib(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Vb(s,a,r){let l=await Promise.all(s.map(async c=>{let u=a.routes[c.route.id];if(u){let h=await Pb(u,r);return h.links?h.links():[]}return[]}));return Kb(l.flat(1).filter(Ib).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function am(s,a,r,l,c,u){let h=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return u==="assets"?a.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?a.filter((p,y)=>{let b=l.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $b(s,a,{includeHydrateFallback:r}={}){return Gb(s.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Gb(s){return[...new Set(s)]}function Yb(s){let a={},r=Object.keys(s).sort();for(let l of r)a[l]=s[l];return a}function Kb(s,a){let r=new Set;return new Set(a),s.reduce((l,c)=>{let u=JSON.stringify(Yb(c));return r.has(u)||(r.add(u),l.push({key:u,link:c})),l},[])}function Zm(){let s=C.useContext(jr);return Cu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Wb(){let s=C.useContext(Sl);return Cu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ru=C.createContext(void 0);Ru.displayName="FrameworkContext";function ep(){let s=C.useContext(Ru);return Cu(s,"You must render this element inside a <HydratedRouter> element"),s}function Jb(s,a){let r=C.useContext(Ru),[l,c]=C.useState(!1),[u,h]=C.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:_}=a,S=C.useRef(null);C.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let k=q=>{q.forEach(F=>{h(F.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[s]),C.useEffect(()=>{if(l){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[l]);let w=()=>{c(!0)},E=()=>{c(!1),h(!1)};return r?s!=="intent"?[u,S,{}]:[u,S,{onFocus:xi(m,w),onBlur:xi(p,E),onMouseEnter:xi(y,w),onMouseLeave:xi(b,E),onTouchStart:xi(_,w)}]:[!1,S,{}]}function xi(s,a){return r=>{s&&s(r),r.defaultPrevented||a(r)}}function Qb({page:s,...a}){let{router:r}=Zm(),l=C.useMemo(()=>Pm(r.routes,s,r.basename),[r.routes,s,r.basename]);return l?C.createElement(Zb,{page:s,matches:l,...a}):null}function Xb(s){let{manifest:a,routeModules:r}=ep(),[l,c]=C.useState([]);return C.useEffect(()=>{let u=!1;return Vb(s,a,r).then(h=>{u||c(h)}),()=>{u=!0}},[s,a,r]),l}function Zb({page:s,matches:a,...r}){let l=on(),{manifest:c,routeModules:u}=ep(),{basename:h}=Zm(),{loaderData:m,matches:p}=Wb(),y=C.useMemo(()=>am(s,a,p,c,l,"data"),[s,a,p,c,l]),b=C.useMemo(()=>am(s,a,p,c,l,"assets"),[s,a,p,c,l]),_=C.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let E=new Set,k=!1;if(a.forEach(q=>{let F=c.routes[q.route.id];!F||!F.hasLoader||(!y.some(L=>L.route.id===q.route.id)&&q.route.id in m&&u[q.route.id]?.shouldRevalidate||F.hasClientLoader?k=!0:E.add(q.route.id))}),E.size===0)return[];let j=Fb(s,h,"data");return k&&E.size>0&&j.searchParams.set("_routes",a.filter(q=>E.has(q.route.id)).map(q=>q.route.id).join(",")),[j.pathname+j.search]},[h,m,l,c,y,a,s,u]),S=C.useMemo(()=>$b(b,c),[b,c]),w=Xb(b);return C.createElement(C.Fragment,null,_.map(E=>C.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),S.map(E=>C.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),w.map(({key:E,link:k})=>C.createElement("link",{key:E,nonce:r.nonce,...k})))}function e1(...s){return a=>{s.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var tp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tp&&(window.__reactRouterVersion="7.9.6")}catch{}function t1({basename:s,children:a,window:r}){let l=C.useRef();l.current==null&&(l.current=Fv({window:r,v5Compat:!0}));let c=l.current,[u,h]=C.useState({action:c.action,location:c.location}),m=C.useCallback(p=>{C.startTransition(()=>h(p))},[h]);return C.useLayoutEffect(()=>c.listen(m),[c,m]),C.createElement(Ob,{basename:s,children:a,location:u.location,navigationType:u.action,navigator:c})}var np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ap=C.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:b,viewTransition:_,...S},w){let{basename:E}=C.useContext(ln),k=typeof y=="string"&&np.test(y),j,q=!1;if(typeof y=="string"&&k&&(j=y,tp))try{let Z=new URL(window.location.href),_e=y.startsWith("//")?new URL(Z.protocol+y):new URL(y),we=On(_e.pathname,E);_e.origin===Z.origin&&we!=null?y=we+_e.search+_e.hash:q=!0}catch{Yt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=pb(y,{relative:c}),[L,K,ne]=Jb(l,S),te=i1(y,{replace:h,state:m,target:p,preventScrollReset:b,relative:c,viewTransition:_});function O(Z){a&&a(Z),Z.defaultPrevented||te(Z)}let ae=C.createElement("a",{...S,...ne,href:j||F,onClick:q||u?a:O,ref:e1(w,K),target:p,"data-discover":!k&&r==="render"?"true":void 0});return L&&!k?C.createElement(C.Fragment,null,ae,C.createElement(Qb,{page:F})):ae});ap.displayName="Link";var n1=C.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:m,children:p,...y},b){let _=Di(h,{relative:y.relative}),S=on(),w=C.useContext(Sl),{navigator:E,basename:k}=C.useContext(ln),j=w!=null&&d1(_)&&m===!0,q=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,F=S.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(F=F.toLowerCase(),L=L?L.toLowerCase():null,q=q.toLowerCase()),L&&k&&(L=On(L,k)||L);const K=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ne=F===q||!c&&F.startsWith(q)&&F.charAt(K)==="/",te=L!=null&&(L===q||!c&&L.startsWith(q)&&L.charAt(q.length)==="/"),O={isActive:ne,isPending:te,isTransitioning:j},ae=ne?a:void 0,Z;typeof l=="function"?Z=l(O):Z=[l,ne?"active":null,te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let _e=typeof u=="function"?u(O):u;return C.createElement(ap,{...y,"aria-current":ae,className:Z,ref:b,style:_e,to:h,viewTransition:m},typeof p=="function"?p(O):p)});n1.displayName="NavLink";var a1=C.forwardRef(({discover:s="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:c,state:u,method:h=dl,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:_,...S},w)=>{let E=c1(),k=u1(m,{relative:y}),j=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&np.test(m),F=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let K=L.nativeEvent.submitter,ne=K?.getAttribute("formmethod")||h;E(K||L.currentTarget,{fetcherKey:a,method:ne,navigate:r,replace:c,state:u,relative:y,preventScrollReset:b,viewTransition:_})};return C.createElement("form",{ref:w,method:j,action:k,onSubmit:l?p:F,...S,"data-discover":!q&&s==="render"?"true":void 0})});a1.displayName="Form";function r1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rp(s){let a=C.useContext(jr);return Ye(a,r1(s)),a}function i1(s,{target:a,replace:r,state:l,preventScrollReset:c,relative:u,viewTransition:h}={}){let m=en(),p=on(),y=Di(s,{relative:u});return C.useCallback(b=>{if(Mb(b,a)){b.preventDefault();let _=r!==void 0?r:Ci(p)===Ci(y);m(s,{replace:_,state:l,preventScrollReset:c,relative:u,viewTransition:h})}},[p,m,y,r,l,a,s,c,u,h])}function s1(s){Yt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=C.useRef(cu(s)),r=C.useRef(!1),l=on(),c=C.useMemo(()=>Lb(l.search,r.current?null:a.current),[l.search]),u=en(),h=C.useCallback((m,p)=>{const y=cu(typeof m=="function"?m(new URLSearchParams(c)):m);r.current=!0,u("?"+y,p)},[u,c]);return[c,h]}var l1=0,o1=()=>`__${String(++l1)}__`;function c1(){let{router:s}=rp("useSubmit"),{basename:a}=C.useContext(ln),r=jb();return C.useCallback(async(l,c={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=qb(l,a);if(c.navigate===!1){let b=c.fetcherKey||o1();await s.fetch(b,r,c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await s.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,r])}function u1(s,{relative:a}={}){let{basename:r}=C.useContext(ln),l=C.useContext(kn);Ye(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),u={...Di(s||".",{relative:a})},h=on();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Rn([r,u.pathname])),Ci(u)}function d1(s,{relative:a}={}){let r=C.useContext(Km);Ye(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=rp("useViewTransitionState"),c=Di(s,{relative:a});if(!r.isTransitioning)return!1;let u=On(r.currentLocation.pathname,l)||r.currentLocation.pathname,h=On(r.nextLocation.pathname,l)||r.nextLocation.pathname;return ml(c.pathname,h)!=null||ml(c.pathname,u)!=null}function h1(){const s=en(),a=r=>{r.preventDefault(),alert("Submission sent"),r.target.reset()};return f.jsxs("div",{className:"contact-page",children:[f.jsx("button",{className:"back-button",onClick:()=>s("/"),children:" Back to Home"}),f.jsxs("div",{className:"contact-container",children:[f.jsx("h1",{className:"contact-title",children:"Get in Touch"}),f.jsx("p",{className:"contact-subtitle",children:"We'd love to hear from you"}),f.jsxs("div",{className:"contact-content",children:[f.jsxs("div",{className:"contact-info",children:[f.jsx("h2",{children:"Contact Information"}),f.jsxs("div",{className:"info-item",children:[f.jsx("div",{className:"info-label",children:"Phone"}),f.jsx("a",{href:"tel:5103626544",className:"info-value",children:"(510) 362-6544"})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("div",{className:"info-label",children:"Email"}),f.jsx("a",{href:"mailto:ammacare@gmail.com",className:"info-value",children:"ammacare@gmail.com"})]})]}),f.jsxs("form",{className:"contact-form",onSubmit:a,children:[f.jsx("h2",{children:"Send us a message"}),f.jsx("input",{type:"text",placeholder:"Name",className:"contact-input",required:!0}),f.jsx("input",{type:"email",placeholder:"Email",className:"contact-input",required:!0}),f.jsx("input",{type:"text",placeholder:"Subject",className:"contact-input",required:!0}),f.jsx("textarea",{placeholder:"Message",rows:"5",className:"contact-textarea",required:!0}),f.jsx("button",{type:"submit",className:"contact-submit",children:"Submit"})]})]})]})]})}function f1(s={}){const{nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l}=s,[c,u]=C.useState(!1),h=C.useRef(r);h.current=r;const m=C.useRef(l);return m.current=l,C.useEffect(()=>{const p=document.createElement("script");return p.src="https://accounts.google.com/gsi/client",p.async=!0,p.defer=!0,p.nonce=a,p.onload=()=>{var y;u(!0),(y=h.current)===null||y===void 0||y.call(h)},p.onerror=()=>{var y;u(!1),(y=m.current)===null||y===void 0||y.call(m)},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[a]),c}const ip=C.createContext(null);function m1({clientId:s,nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l,children:c}){const u=f1({nonce:a,onScriptLoadSuccess:r,onScriptLoadError:l}),h=C.useMemo(()=>({clientId:s,scriptLoadedSuccessfully:u}),[s,u]);return Cn.createElement(ip.Provider,{value:h},c)}function p1(){const s=C.useContext(ip);if(!s)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return s}function g1(s){var a;return(a=s?.clientId)!==null&&a!==void 0?a:s?.client_id}const y1={large:40,medium:32,small:20};function rm({onSuccess:s,onError:a,useOneTap:r,promptMomentNotification:l,type:c="standard",theme:u="outline",size:h="large",text:m,shape:p,logo_alignment:y,width:b,locale:_,click_listener:S,containerProps:w,...E}){const k=C.useRef(null),{clientId:j,scriptLoadedSuccessfully:q}=p1(),F=C.useRef(s);F.current=s;const L=C.useRef(a);L.current=a;const K=C.useRef(l);return K.current=l,C.useEffect(()=>{var ne,te,O,ae,Z,_e,we,ke,Me;if(q)return(O=(te=(ne=window?.google)===null||ne===void 0?void 0:ne.accounts)===null||te===void 0?void 0:te.id)===null||O===void 0||O.initialize({client_id:j,callback:Te=>{var Ce;if(!Te?.credential)return(Ce=L.current)===null||Ce===void 0?void 0:Ce.call(L);const{credential:M,select_by:W}=Te;F.current({credential:M,clientId:g1(Te),select_by:W})},...E}),(_e=(Z=(ae=window?.google)===null||ae===void 0?void 0:ae.accounts)===null||Z===void 0?void 0:Z.id)===null||_e===void 0||_e.renderButton(k.current,{type:c,theme:u,size:h,text:m,shape:p,logo_alignment:y,width:b,locale:_,click_listener:S}),r&&((Me=(ke=(we=window?.google)===null||we===void 0?void 0:we.accounts)===null||ke===void 0?void 0:ke.id)===null||Me===void 0||Me.prompt(K.current)),()=>{var Te,Ce,M;r&&((M=(Ce=(Te=window?.google)===null||Te===void 0?void 0:Te.accounts)===null||Ce===void 0?void 0:Ce.id)===null||M===void 0||M.cancel())}},[j,q,r,c,u,h,m,p,y,b,_]),Cn.createElement("div",{...w,ref:k,style:{height:y1[h],...w?.style}})}class Ai extends Error{}Ai.prototype.name="InvalidTokenError";function v1(s){return decodeURIComponent(atob(s).replace(/(.)/g,(a,r)=>{let l=r.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function b1(s){let a=s.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return v1(a)}catch{return atob(a)}}function im(s,a){if(typeof s!="string")throw new Ai("Invalid token specified: must be a string");a||(a={});const r=a.header===!0?0:1,l=s.split(".")[r];if(typeof l!="string")throw new Ai(`Invalid token specified: missing part #${r+1}`);let c;try{c=b1(l)}catch(u){throw new Ai(`Invalid token specified: invalid base64 for part #${r+1} (${u.message})`)}try{return JSON.parse(c)}catch(u){throw new Ai(`Invalid token specified: invalid json for part #${r+1} (${u.message})`)}}var uu=function(s,a){return uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])},uu(s,a)};function sp(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");uu(s,a);function r(){this.constructor=s}s.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var pl=function(){return pl=Object.assign||function(a){for(var r,l=1,c=arguments.length;l<c;l++){r=arguments[l];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(a[u]=r[u])}return a},pl.apply(this,arguments)};function Tr(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(r[l[c]]=s[l[c]]);return r}function lp(s,a,r,l){var c=arguments.length,u=c<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,r):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,a,r,l);else for(var m=s.length-1;m>=0;m--)(h=s[m])&&(u=(c<3?h(u):c>3?h(a,r,u):h(a,r))||u);return c>3&&u&&Object.defineProperty(a,r,u),u}function op(s,a){return function(r,l){a(r,l,s)}}function cp(s,a,r,l,c,u){function h(q){if(q!==void 0&&typeof q!="function")throw new TypeError("Function expected");return q}for(var m=l.kind,p=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&s?l.static?s:s.prototype:null,b=a||(y?Object.getOwnPropertyDescriptor(y,l.name):{}),_,S=!1,w=r.length-1;w>=0;w--){var E={};for(var k in l)E[k]=k==="access"?{}:l[k];for(var k in l.access)E.access[k]=l.access[k];E.addInitializer=function(q){if(S)throw new TypeError("Cannot add initializers after decoration has completed");u.push(h(q||null))};var j=(0,r[w])(m==="accessor"?{get:b.get,set:b.set}:b[p],E);if(m==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(_=h(j.get))&&(b.get=_),(_=h(j.set))&&(b.set=_),(_=h(j.init))&&c.unshift(_)}else(_=h(j))&&(m==="field"?c.unshift(_):b[p]=_)}y&&Object.defineProperty(y,l.name,b),S=!0}function up(s,a,r){for(var l=arguments.length>2,c=0;c<a.length;c++)r=l?a[c].call(s,r):a[c].call(s);return l?r:void 0}function dp(s){return typeof s=="symbol"?s:"".concat(s)}function hp(s,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function fp(s,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,a)}function se(s,a,r,l){function c(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function m(b){try{y(l.next(b))}catch(_){h(_)}}function p(b){try{y(l.throw(b))}catch(_){h(_)}}function y(b){b.done?u(b.value):c(b.value).then(m,p)}y((l=l.apply(s,a||[])).next())})}function mp(s,a){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,c,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(b){return p([y,b])}}function p(y){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(r=0)),r;)try{if(l=1,c&&(u=y[0]&2?c.return:y[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,y[1])).done)return u;switch(c=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,c=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){r.label=y[1];break}if(y[0]===6&&r.label<u[1]){r.label=u[1],u=y;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(y);break}u[2]&&r.ops.pop(),r.trys.pop();continue}y=a.call(s,r)}catch(b){y=[6,b],c=0}finally{l=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Al=Object.create?(function(s,a,r,l){l===void 0&&(l=r);var c=Object.getOwnPropertyDescriptor(a,r);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(s,l,c)}):(function(s,a,r,l){l===void 0&&(l=r),s[l]=a[r]});function pp(s,a){for(var r in s)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&Al(a,s,r)}function gl(s){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&s[a],l=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ou(s,a){var r=typeof Symbol=="function"&&s[Symbol.iterator];if(!r)return s;var l=r.call(s),c,u=[],h;try{for(;(a===void 0||a-- >0)&&!(c=l.next()).done;)u.push(c.value)}catch(m){h={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(h)throw h.error}}return u}function gp(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(Ou(arguments[a]));return s}function yp(){for(var s=0,a=0,r=arguments.length;a<r;a++)s+=arguments[a].length;for(var l=Array(s),c=0,a=0;a<r;a++)for(var u=arguments[a],h=0,m=u.length;h<m;h++,c++)l[c]=u[h];return l}function vp(s,a,r){if(r||arguments.length===2)for(var l=0,c=a.length,u;l<c;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return s.concat(u||Array.prototype.slice.call(a))}function Ar(s){return this instanceof Ar?(this.v=s,this):new Ar(s)}function bp(s,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(s,a||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(w){return function(E){return Promise.resolve(E).then(w,_)}}function m(w,E){l[w]&&(c[w]=function(k){return new Promise(function(j,q){u.push([w,k,j,q])>1||p(w,k)})},E&&(c[w]=E(c[w])))}function p(w,E){try{y(l[w](E))}catch(k){S(u[0][3],k)}}function y(w){w.value instanceof Ar?Promise.resolve(w.value.v).then(b,_):S(u[0][2],w)}function b(w){p("next",w)}function _(w){p("throw",w)}function S(w,E){w(E),u.shift(),u.length&&p(u[0][0],u[0][1])}}function _p(s){var a,r;return a={},l("next"),l("throw",function(c){throw c}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(c,u){a[c]=s[c]?function(h){return(r=!r)?{value:Ar(s[c](h)),done:!1}:u?u(h):h}:u}}function wp(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s[Symbol.asyncIterator],r;return a?a.call(s):(s=typeof gl=="function"?gl(s):s[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(u){r[u]=s[u]&&function(h){return new Promise(function(m,p){h=s[u](h),c(m,p,h.done,h.value)})}}function c(u,h,m,p){Promise.resolve(p).then(function(y){u({value:y,done:m})},h)}}function Sp(s,a){return Object.defineProperty?Object.defineProperty(s,"raw",{value:a}):s.raw=a,s}var _1=Object.create?(function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}):function(s,a){s.default=a},du=function(s){return du=Object.getOwnPropertyNames||function(a){var r=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[r.length]=l);return r},du(s)};function xp(s){if(s&&s.__esModule)return s;var a={};if(s!=null)for(var r=du(s),l=0;l<r.length;l++)r[l]!=="default"&&Al(a,s,r[l]);return _1(a,s),a}function Ap(s){return s&&s.__esModule?s:{default:s}}function Ep(s,a,r,l){if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!l:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?l:r==="a"?l.call(s):l?l.value:a.get(s)}function jp(s,a,r,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!c:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(s,r):c?c.value=r:a.set(s,r),r}function Tp(s,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?a===s:s.has(a)}function Cp(s,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,c;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],r&&(c=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");c&&(l=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),s.stack.push({value:a,dispose:l,async:r})}else r&&s.stack.push({async:!0});return a}var w1=typeof SuppressedError=="function"?SuppressedError:function(s,a,r){var l=new Error(r);return l.name="SuppressedError",l.error=s,l.suppressed=a,l};function Rp(s){function a(u){s.error=s.hasError?new w1(u,s.error,"An error was suppressed during disposal."):u,s.hasError=!0}var r,l=0;function c(){for(;r=s.stack.pop();)try{if(!r.async&&l===1)return l=0,s.stack.push(r),Promise.resolve().then(c);if(r.dispose){var u=r.dispose.call(r.value);if(r.async)return l|=2,Promise.resolve(u).then(c,function(h){return a(h),c()})}else l|=1}catch(h){a(h)}if(l===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()}function Op(s,a){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,l,c,u,h){return l?a?".jsx":".js":c&&(!u||!h)?r:c+u+"."+h.toLowerCase()+"js"}):s}const S1={__extends:sp,__assign:pl,__rest:Tr,__decorate:lp,__param:op,__esDecorate:cp,__runInitializers:up,__propKey:dp,__setFunctionName:hp,__metadata:fp,__awaiter:se,__generator:mp,__createBinding:Al,__exportStar:pp,__values:gl,__read:Ou,__spread:gp,__spreadArrays:yp,__spreadArray:vp,__await:Ar,__asyncGenerator:bp,__asyncDelegator:_p,__asyncValues:wp,__makeTemplateObject:Sp,__importStar:xp,__importDefault:Ap,__classPrivateFieldGet:Ep,__classPrivateFieldSet:jp,__classPrivateFieldIn:Tp,__addDisposableResource:Cp,__disposeResources:Rp,__rewriteRelativeImportExtension:Op},x1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cp,get __assign(){return pl},__asyncDelegator:_p,__asyncGenerator:bp,__asyncValues:wp,__await:Ar,__awaiter:se,__classPrivateFieldGet:Ep,__classPrivateFieldIn:Tp,__classPrivateFieldSet:jp,__createBinding:Al,__decorate:lp,__disposeResources:Rp,__esDecorate:cp,__exportStar:pp,__extends:sp,__generator:mp,__importDefault:Ap,__importStar:xp,__makeTemplateObject:Sp,__metadata:fp,__param:op,__propKey:dp,__read:Ou,__rest:Tr,__rewriteRelativeImportExtension:Op,__runInitializers:up,__setFunctionName:hp,__spread:gp,__spreadArray:vp,__spreadArrays:yp,__values:gl,default:S1},Symbol.toStringTag,{value:"Module"})),A1=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class ku extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class E1 extends ku{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class sm extends ku{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class lm extends ku{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var hu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(hu||(hu={}));class j1{constructor(a,{headers:r={},customFetch:l,region:c=hu.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=A1(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return se(this,arguments,void 0,function*(r,l={}){var c;let u,h;try{const{headers:m,method:p,body:y,signal:b,timeout:_}=l;let S={},{region:w}=l;w||(w=this.region);const E=new URL(`${this.url}/${r}`);w&&w!=="any"&&(S["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let k;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",k=y):typeof y=="string"?(S["Content-Type"]="text/plain",k=y):typeof FormData<"u"&&y instanceof FormData?k=y:(S["Content-Type"]="application/json",k=JSON.stringify(y)):k=y;let j=b;_&&(h=new AbortController,u=setTimeout(()=>h.abort(),_),b?(j=h.signal,b.addEventListener("abort",()=>h.abort())):j=h.signal);const q=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:k,signal:j}).catch(ne=>{throw new E1(ne)}),F=q.headers.get("x-relay-error");if(F&&F==="true")throw new sm(q);if(!q.ok)throw new lm(q);let L=((c=q.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),K;return L==="application/json"?K=yield q.json():L==="application/octet-stream"||L==="application/pdf"?K=yield q.blob():L==="text/event-stream"?K=q:L==="multipart/form-data"?K=yield q.formData():K=yield q.text(),{data:K,error:null,response:q}}catch(m){return{data:null,error:m,response:m instanceof lm||m instanceof sm?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var pt={};const Cr=Ov(x1);var tl={},nl={},al={},rl={},il={},sl={},om;function kp(){if(om)return sl;om=1,Object.defineProperty(sl,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return sl.default=s,sl}var cm;function Np(){if(cm)return il;cm=1,Object.defineProperty(il,"__esModule",{value:!0});const a=Cr.__importDefault(kp());class r{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,b,_,S;let w=null,E=null,k=null,j=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ne=await p.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=ne:E=JSON.parse(ne))}const L=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),K=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");L&&K&&K.length>1&&(k=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,j=406,q="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const L=await p.text();try{w=JSON.parse(L),Array.isArray(w)&&p.status===404&&(E=[],w=null,j=200,q="OK")}catch{p.status===404&&L===""?(j=204,q="No Content"):w={message:L}}if(w&&this.isMaybeSingle&&(!((S=w?.details)===null||S===void 0)&&S.includes("0 rows"))&&(w=null,j=200,q="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:E,count:k,status:j,statusText:q}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,b,_;return{error:{message:`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=p?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return il.default=r,il}var um;function zp(){if(um)return rl;um=1,Object.defineProperty(rl,"__esModule",{value:!0});const a=Cr.__importDefault(Np());class r extends a.default{select(c){let u=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",b=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${b?`${b},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(y,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var b;const _=[c?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${S}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return rl.default=r,rl}var dm;function Nu(){if(dm)return al;dm=1,Object.defineProperty(al,"__esModule",{value:!0});const a=Cr.__importDefault(zp()),r=new RegExp("[,()]");class l extends a.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const m=Array.from(new Set(h)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:m,type:p}={}){let y="";p==="plain"?y="pl":p==="phrase"?y="ph":p==="websearch"&&(y="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${y}fts${b}.${h}`),this}match(u){return Object.entries(u).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(u,h,m){return this.url.searchParams.append(u,`not.${h}.${m}`),this}or(u,{foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,h,m){return this.url.searchParams.append(u,`${h}.${m}`),this}}return al.default=l,al}var hm;function Dp(){if(hm)return nl;hm=1,Object.defineProperty(nl,"__esModule",{value:!0});const a=Cr.__importDefault(Nu());class r{constructor(c,{headers:u={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(u),this.schema=h,this.fetch=m}select(c,u){const{head:h=!1,count:m}=u??{},p=h?"HEAD":"GET";let y=!1;const b=(c??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:h=!0}={}){var m;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(y.length>0){const b=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var y;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const _=c.reduce((S,w)=>S.concat(Object.keys(w)),[]);if(_.length>0){const S=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",S.join(","))}}return new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:u}={}){var h;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var u;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return nl.default=r,nl}var fm;function T1(){if(fm)return tl;fm=1,Object.defineProperty(tl,"__esModule",{value:!0});const s=Cr,a=s.__importDefault(Dp()),r=s.__importDefault(Nu());class l{constructor(u,{headers:h={},schema:m,fetch:p}={}){this.url=u,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:p=!1,count:y}={}){var b;let _;const S=new URL(`${this.url}/rpc/${u}`);let w;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([k,j])=>j!==void 0).map(([k,j])=>[k,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([k,j])=>{S.searchParams.append(k,j)})):(_="POST",w=h);const E=new Headers(this.headers);return y&&E.set("Prefer",`count=${y}`),new r.default({method:_,url:S,headers:E,schema:this.schemaName,body:w,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return tl.default=l,tl}var mm;function C1(){if(mm)return pt;mm=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const s=Cr,a=s.__importDefault(T1());pt.PostgrestClient=a.default;const r=s.__importDefault(Dp());pt.PostgrestQueryBuilder=r.default;const l=s.__importDefault(Nu());pt.PostgrestFilterBuilder=l.default;const c=s.__importDefault(zp());pt.PostgrestTransformBuilder=c.default;const u=s.__importDefault(Np());pt.PostgrestBuilder=u.default;const h=s.__importDefault(kp());return pt.PostgrestError=h.default,pt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},pt}var Up=C1();const Mp=Fm(Up),R1=Rv({__proto__:null,default:Mp},[Up]),{PostgrestClient:O1,PostgrestQueryBuilder:Dw,PostgrestFilterBuilder:Uw,PostgrestTransformBuilder:Mw,PostgrestBuilder:Lw,PostgrestError:Bw}=Mp||R1;class k1{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const N1="2.81.1",z1=`realtime-js/${N1}`,Lp="1.0.0",D1="2.0.0",pm=Lp,fu=1e4,U1=1e3,M1=100;var Ta;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ta||(Ta={}));var rt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(rt||(rt={}));var Gt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Gt||(Gt={}));var mu;(function(s){s.websocket="websocket"})(mu||(mu={}));var Ca;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Ca||(Ca={}));class L1{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(a,r){if(this._isArrayBuffer(a.payload))return r(this._binaryEncodePush(a));if(a.event===this.BROADCAST&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodePush(a){const{join_ref:r,ref:l,event:c,topic:u,payload:h}=a,m=this.META_LENGTH+r.length+l.length+u.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(p),b=0;y.setUint8(b++,this.KINDS.push),y.setUint8(b++,r.length),y.setUint8(b++,l.length),y.setUint8(b++,u.length),y.setUint8(b++,c.length),Array.from(r,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(l,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(u,S=>y.setUint8(b++,S.charCodeAt(0))),Array.from(c,S=>y.setUint8(b++,S.charCodeAt(0)));var _=new Uint8Array(p.byteLength+h.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(h),p.byteLength),_.buffer}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const{join_ref:c,ref:u,topic:h}=a,m=a.payload.event,p=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+h.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(b),S=0;_.setUint8(S++,this.KINDS.userBroadcastPush),_.setUint8(S++,c.length),_.setUint8(S++,u.length),_.setUint8(S++,h.length),_.setUint8(S++,m.length),_.setUint8(S++,this.BINARY_ENCODING),Array.from(c,E=>_.setUint8(S++,E.charCodeAt(0))),Array.from(u,E=>_.setUint8(S++,E.charCodeAt(0))),Array.from(h,E=>_.setUint8(S++,E.charCodeAt(0))),Array.from(m,E=>_.setUint8(S++,E.charCodeAt(0)));var w=new Uint8Array(b.byteLength+p.byteLength);return w.set(new Uint8Array(b),0),w.set(new Uint8Array(p),b.byteLength),w.buffer}_encodeJsonUserBroadcastPush(a){var r,l;const{join_ref:c,ref:u,topic:h}=a,m=a.payload.event,p=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},b=new TextEncoder().encode(JSON.stringify(p)).buffer,_=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+h.length+m.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let w=new DataView(S),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,c.length),w.setUint8(E++,u.length),w.setUint8(E++,h.length),w.setUint8(E++,m.length),w.setUint8(E++,this.JSON_ENCODING),Array.from(c,j=>w.setUint8(E++,j.charCodeAt(0))),Array.from(u,j=>w.setUint8(E++,j.charCodeAt(0))),Array.from(h,j=>w.setUint8(E++,j.charCodeAt(0))),Array.from(m,j=>w.setUint8(E++,j.charCodeAt(0)));var k=new Uint8Array(S.byteLength+b.byteLength);return k.set(new Uint8Array(S),0),k.set(new Uint8Array(b),S.byteLength),k.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,u,h,m,p]=l;return r({join_ref:c,ref:u,topic:h,event:m,payload:p})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.push:return this._decodePush(a,r,c);case this.KINDS.reply:return this._decodeReply(a,r,c);case this.KINDS.broadcast:return this._decodeBroadcast(a,r,c);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,c)}}_decodePush(a,r,l){const c=r.getUint8(1),u=r.getUint8(2),h=r.getUint8(3);let m=this.HEADER_LENGTH+this.META_LENGTH-1;const p=l.decode(a.slice(m,m+c));m=m+c;const y=l.decode(a.slice(m,m+u));m=m+u;const b=l.decode(a.slice(m,m+h));m=m+h;const _=JSON.parse(l.decode(a.slice(m,a.byteLength)));return{join_ref:p,ref:null,topic:y,event:b,payload:_}}_decodeReply(a,r,l){const c=r.getUint8(1),u=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+this.META_LENGTH;const y=l.decode(a.slice(p,p+c));p=p+c;const b=l.decode(a.slice(p,p+u));p=p+u;const _=l.decode(a.slice(p,p+h));p=p+h;const S=l.decode(a.slice(p,p+m));p=p+m;const w=JSON.parse(l.decode(a.slice(p,a.byteLength))),E={status:S,response:w};return{join_ref:y,ref:b,topic:_,event:Gt.reply,payload:E}}_decodeBroadcast(a,r,l){const c=r.getUint8(1),u=r.getUint8(2);let h=this.HEADER_LENGTH+2;const m=l.decode(a.slice(h,h+c));h=h+c;const p=l.decode(a.slice(h,h+u));h=h+u;const y=JSON.parse(l.decode(a.slice(h,a.byteLength)));return{join_ref:null,ref:null,topic:m,event:p,payload:y}}_decodeUserBroadcast(a,r,l){const c=r.getUint8(1),u=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(a.slice(p,p+c));p=p+c;const b=l.decode(a.slice(p,p+u));p=p+u;const _=l.decode(a.slice(p,p+h));p=p+h;const S=a.slice(p,a.byteLength),w=m===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,E={type:this.BROADCAST,event:b,payload:w};return h>0&&(E.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST,payload:E}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Bp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Pe||(Pe={}));const gm=(s,a,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((u,h)=>(u[h]=B1(h,s,a,c),u),{}):{}},B1=(s,a,r,l)=>{const c=a.find(m=>m.name===s),u=c?.type,h=r[s];return u&&!l.includes(u)?Hp(u,h):pu(h)},Hp=(s,a)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return P1(a,r)}switch(s){case Pe.bool:return H1(a);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return q1(a);case Pe.json:case Pe.jsonb:return F1(a);case Pe.timestamp:return I1(a);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return pu(a);default:return pu(a)}},pu=s=>s,H1=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},q1=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},F1=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(a){return console.log(`JSON parse error: ${a}`),s}return s},P1=(s,a)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let u;const h=s.slice(1,r);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>Hp(a,m))}return s},I1=s=>typeof s=="string"?s.replace(" ","T"):s,qp=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Xc{constructor(a,r,l={},c=fu){this.channel=a,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var ym;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ym||(ym={}));class ji{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,c,u,h),this.pendingDiffs.forEach(p=>{this.state=ji.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ji.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,c){const u=this.cloneDeep(a),h=this.transformState(r),m={},p={};return this.map(u,(y,b)=>{h[y]||(p[y]=b)}),this.map(h,(y,b)=>{const _=u[y];if(_){const S=b.map(j=>j.presence_ref),w=_.map(j=>j.presence_ref),E=b.filter(j=>w.indexOf(j.presence_ref)<0),k=_.filter(j=>S.indexOf(j.presence_ref)<0);E.length>0&&(m[y]=E),k.length>0&&(p[y]=k)}else m[y]=b}),this.syncDiff(u,{joins:m,leaves:p},l,c)}static syncDiff(a,r,l,c){const{joins:u,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var y;const b=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(p),b.length>0){const _=a[m].map(w=>w.presence_ref),S=b.filter(w=>_.indexOf(w.presence_ref)<0);a[m].unshift(...S)}l(m,b,p)}),this.map(h,(m,p)=>{let y=a[m];if(!y)return;const b=p.map(_=>_.presence_ref);y=y.filter(_=>b.indexOf(_.presence_ref)<0),a[m]=y,c(m,y,p),y.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const c=a[l];return"metas"in c?r[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[l]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(vm||(vm={}));var Ti;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ti||(Ti={}));var Tn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class zu{constructor(a,r={config:{}},l){var c,u;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xc(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Bp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new ji(this),this.broadcastEndpointURL=qp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[Ti.PRESENCE]&&this.bindings[Ti.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},S={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>a?.(Tn.CHANNEL_ERROR,w)),this._onClose(()=>a?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){a?.(Tn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(E=k?.length)!==null&&E!==void 0?E:0,q=[];for(let F=0;F<j;F++){const L=k[F],{filter:{event:K,schema:ne,table:te,filter:O}}=L,ae=w&&w[F];if(ae&&ae.event===K&&ae.schema===ne&&ae.table===te&&ae.filter===O)q.push(Object.assign(Object.assign({},L),{id:ae.id}));else{this.unsubscribe(),this.state=rt.errored,a?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,a&&a(Tn.SUBSCRIBED);return}}).receive("error",w=>{this.state=rt.errored,a?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===rt.joined&&a===Ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,r={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=a,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const y=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Xc(this,Gt.leave,{},a),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(u),h}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Xc(this,a,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>M1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var c,u;const h=a.toLocaleLowerCase(),{close:m,error:p,leave:y,join:b}=Gt;if(l&&[m,p,y,b].indexOf(h)>=0&&l!==this._joinRef())return;let S=this._onMessage(h,r,l);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var E,k,j;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((j=(k=w.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(w=>w.callback(S,l)):(u=this.bindings[h])===null||u===void 0||u.filter(w=>{var E,k,j,q,F,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in w){const K=w.id,ne=(E=w.filter)===null||E===void 0?void 0:E.event;return K&&((k=r.ids)===null||k===void 0?void 0:k.includes(K))&&(ne==="*"||ne?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const K=(F=(q=w?.filter)===null||q===void 0?void 0:q.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return K==="*"||K===((L=r?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===h}).map(w=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:k,table:j,commit_timestamp:q,type:F,errors:L}=E;S=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:q,eventType:F,new:{},old:{},errors:L}),this._getPayloadRecords(E))}w.callback(S,l)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const c=a.toLocaleLowerCase(),u={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&zu.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Gt.close,{},a)}_onError(a){this._on(Gt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=gm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=gm(a.columns,a.old_record)),r}}const Zc=()=>{},ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V1=[1e3,2e3,5e3,1e4],$1=1e4,G1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y1{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fu,this.transport=null,this.heartbeatIntervalMs=ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zc,this.ref=0,this.reconnectTimer=null,this.vsn=pm,this.logger=Zc,this.conn=null,this.sendBuffer=[],this.serializer=new L1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${mu.websocket}`,this.httpEndpoint=qp(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=k1.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return Ca.Connecting;case Ta.open:return Ca.Open;case Ta.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new zu(`realtime:${a}`,r,this);return this.channels.push(u),u}}push(a){const{topic:r,event:l,payload:c,ref:u}=a,h=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(U1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:h}=r,m=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${l} ${c} ${m}`.trim(),u),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,u,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Gt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${l}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([G1],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const c={access_token:r,version:z1};r&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Bp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,c,u,h,m,p,y,b,_,S,w;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:fu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:ll.HEARTBEAT_INTERVAL,this.worker=(u=a?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Zc,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:pm,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(E=>V1[E-1]||$1),this.vsn){case Lp:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((E,k)=>k(JSON.stringify(E))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((E,k)=>k(JSON.parse(E)));break;case D1:this.encode=(S=a?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(w=a?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Du extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ge(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class K1 extends Du{constructor(a,r,l){super(a),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gu extends Du{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const Uu=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),W1=()=>Response,yu=s=>{if(Array.isArray(s))return s.map(r=>yu(r));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));a[c]=yu(l)}),a},J1=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},eu=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},Q1=(s,a,r)=>se(void 0,void 0,void 0,function*(){const l=yield W1();s instanceof l&&!r?.noResolveJson?s.json().then(c=>{const u=s.status||500,h=c?.statusCode||u+"";a(new K1(eu(c),u,h))}).catch(c=>{a(new gu(eu(c),c))}):a(new gu(eu(s),s))}),X1=(s,a,r,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||!l?c:(J1(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),r))};function Ui(s,a,r,l,c,u){return se(this,void 0,void 0,function*(){return new Promise((h,m)=>{s(r,X1(a,l,c,u)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Q1(p,m,l))})})}function Ri(s,a,r,l){return se(this,void 0,void 0,function*(){return Ui(s,"GET",a,r,l)})}function Zt(s,a,r,l,c){return se(this,void 0,void 0,function*(){return Ui(s,"POST",a,l,c,r)})}function vu(s,a,r,l,c){return se(this,void 0,void 0,function*(){return Ui(s,"PUT",a,l,c,r)})}function Z1(s,a,r,l){return se(this,void 0,void 0,function*(){return Ui(s,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function Mu(s,a,r,l,c){return se(this,void 0,void 0,function*(){return Ui(s,"DELETE",a,l,c,r)})}class e_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}var Fp;class t_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new e_(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}Fp=Symbol.toStringTag;const n_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a_{constructor(a,r={},l,c){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=l,this.fetch=Uu(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,l,c){return se(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},bm),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(r),b=this._getFinalPath(y),_=yield(a=="PUT"?vu:Zt)(this.fetch,`${this.url}/object/${b}`,u,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}upload(a,r,l){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,l)})}uploadToSignedUrl(a,r,l,c){return se(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(a),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let p;const y=Object.assign({upsert:bm.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType);const _=yield vu(this.fetch,m.toString(),p,{headers:b});return{data:{path:u,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ge(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(a,r){return se(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const c=Object.assign({},this.headers);r?.upsert&&(c["x-upsert"]="true");const u=yield Zt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new Du("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}update(a,r,l){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,l)})}move(a,r,l){return se(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}copy(a,r,l){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrl(a,r,l){return se(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),u=yield Zt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:r},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrls(a,r,l){return se(this,void 0,void 0,function*(){try{const c=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}download(a,r){const c=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),h=u?`?${u}`:"",m=this._getFinalPath(a),p=()=>Ri(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new t_(p,this.shouldThrowOnError)}info(a){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const l=yield Ri(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yu(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}exists(a){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield Z1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l)&&l instanceof gu){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,r){const l=this._getFinalPath(a),c=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&c.push(u);const m=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&c.push(p);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${y}`)}}}remove(a){return se(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}list(a,r,l){return se(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},n_),r),{prefix:a||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}listV2(a,r){return se(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield Zt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const Pp="2.81.1",Ip={"X-Client-Info":`storage-js/${Pp}`};class r_{constructor(a,r={},l,c){this.shouldThrowOnError=!1;const u=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=Uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(a);return{data:yield Ri(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}getBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}createBucket(a){return se(this,arguments,void 0,function*(r,l={public:!1}){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}updateBucket(a,r){return se(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}emptyBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class i_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=Uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBuckets(a){return se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const l=r.toString(),c=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Ri(this.fetch,c,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}const Lu={"X-Client-Info":`storage-js/${Pp}`,"Content-Type":"application/json"};class Vp extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class tu extends Vp{constructor(a,r,l){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s_ extends Vp{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var _m;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_m||(_m={}));const Bu=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),l_=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},wm=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),o_=(s,a,r)=>se(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const c=s.status||500,u=s;if(typeof u.json=="function")u.json().then(h=>{const m=h?.statusCode||h?.code||c+"";a(new tu(wm(h),c,m))}).catch(()=>{const h=c+"",m=u.statusText||`HTTP ${c} error`;a(new tu(m,c,h))});else{const h=c+"",m=u.statusText||`HTTP ${c} error`;a(new tu(m,c,h))}}else a(new s_(wm(s),s))}),c_=(s,a,r,l)=>{const c={method:s,headers:a?.headers||{}};return l?(l_(l)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),r)):c};function u_(s,a,r,l,c,u){return se(this,void 0,void 0,function*(){return new Promise((h,m)=>{s(r,c_(a,l,c,u)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>o_(p,m,l))})})}function Ut(s,a,r,l,c){return se(this,void 0,void 0,function*(){return u_(s,"POST",a,l,c,r)})}class d_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lu),r),this.fetch=Bu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return se(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getIndex(a,r){return se(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dt(l))return{data:null,error:l};throw l}})}listIndexes(a){return se(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return se(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dt(l))return{data:null,error:l};throw l}})}}class h_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lu),r),this.fetch=Bu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return se(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ut(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getVectors(a){return se(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}listVectors(a){return se(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Ut(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}queryVectors(a){return se(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteVectors(a){return se(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ut(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}}class f_{constructor(a,r={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lu),r),this.fetch=Bu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return se(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getBucket(a){return se(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}listBuckets(){return se(this,arguments,void 0,function*(a={}){try{return{data:yield Ut(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(a){return se(this,void 0,void 0,function*(){try{return{data:(yield Ut(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}}class m_ extends f_{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new p_(this.url,this.headers,a,this.fetch)}}class p_ extends d_{constructor(a,r,l,c){super(a,r,c),this.vectorBucketName=l}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return se(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new g_(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class g_ extends h_{constructor(a,r,l,c,u){super(a,r,u),this.vectorBucketName=l,this.indexName=c}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return se(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class y_ extends r_{constructor(a,r={},l,c){super(a,r,l,c)}from(a){return new a_(this.url,this.headers,a,this.fetch)}get vectors(){return new m_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new i_(this.url+"/iceberg",this.headers,this.fetch)}}const v_="2.81.1";let Ei="";typeof Deno<"u"?Ei="deno":typeof document<"u"?Ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ei="react-native":Ei="node";const b_={"X-Client-Info":`supabase-js-${Ei}/${v_}`},__={headers:b_},w_={schema:"public"},S_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x_={},A_=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),E_=()=>Headers,j_=(s,a,r)=>{const l=A_(r),c=E_();return async(u,h)=>{var m;const p=(m=await a())!==null&&m!==void 0?m:s;let y=new c(h?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},h),{headers:y}))}};function T_(s){return s.endsWith("/")?s:s+"/"}function C_(s,a){var r,l;const{db:c,auth:u,realtime:h,global:m}=s,{db:p,auth:y,realtime:b,global:_}=a,S={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function R_(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $p="2.81.1",_r=30*1e3,bu=3,nu=bu*_r,O_="http://localhost:9999",k_="supabase.auth.token",N_={"X-Client-Info":`gotrue-js/${$p}`},_u="X-Supabase-Api-Version",Gp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D_=600*1e3;class Oi extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ce(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class U_ extends Oi{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function M_(s){return ce(s)&&s.name==="AuthApiError"}class Ra extends Oi{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class ia extends Oi{constructor(a,r,l,c){super(a,l,c),this.name=r,this.status=l}}class Qt extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L_(s){return ce(s)&&s.name==="AuthSessionMissingError"}class pr extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class cl extends ia{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B_(s){return ce(s)&&s.name==="AuthImplicitGrantRedirectError"}class Sm extends ia{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wu extends ia{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function au(s){return ce(s)&&s.name==="AuthRetryableFetchError"}class xm extends ia{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Su extends ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Am=` 	
\r=`.split(""),H_=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Am.length;a+=1)s[Am[a].charCodeAt(0)]=-2;for(let a=0;a<yl.length;a+=1)s[yl[a].charCodeAt(0)]=a;return s})();function Em(s,a,r){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(yl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(yl[l]),a.queuedBits-=6}}function Yp(s,a,r){const l=H_[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function jm(s){const a=[],r=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{P_(h,l,r)};for(let h=0;h<s.length;h+=1)Yp(s.charCodeAt(h),c,u);return a.join("")}function q_(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function F_(s,a){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}q_(l,a)}}function P_(s,a,r){if(a.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function xr(s){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)Yp(s.charCodeAt(c),r,l);return new Uint8Array(a)}function I_(s){const a=[];return F_(s,r=>a.push(r)),new Uint8Array(a)}function Oa(s){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};return s.forEach(c=>Em(c,r,l)),Em(null,r,l),a.join("")}function V_(s){return Math.round(Date.now()/1e3)+s}function $_(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",Aa={tested:!1,writable:!1},Kp=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Aa.tested)return Aa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Aa.tested=!0,Aa.writable=!0}catch{Aa.tested=!0,Aa.writable=!1}return Aa.writable};function G_(s){const a={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,u)=>{a[u]=c})}catch{}return r.searchParams.forEach((l,c)=>{a[c]=l}),a}const Wp=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Y_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",wr=async(s,a,r)=>{await s.setItem(a,JSON.stringify(r))},Ea=async(s,a)=>{const r=await s.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},aa=async(s,a)=>{await s.removeItem(a)};class El{constructor(){this.promise=new El.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}El.promiseConstructor=Promise;function ru(s){const a=s.split(".");if(a.length!==3)throw new Su("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!z_.test(a[l]))throw new Su("JWT not in base64url format");return{header:JSON.parse(jm(a[0])),payload:JSON.parse(jm(a[1])),signature:xr(a[2]),raw:{header:a[0],payload:a[1]}}}async function K_(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function W_(s,a){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!a(u,null,h)){l(h);return}}catch(h){if(!a(u,h)){c(h);return}}})()})}function J_(s){return("0"+s.toString(16)).substr(-2)}function Q_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let u=0;u<56;u++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,J_).join("")}async function X_(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Z_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await X_(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(s,a,r=!1){const l=Q_();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await wr(s,`${a}-code-verifier`,c);const u=await Z_(l);return[u,l===u?"plain":"s256"]}const e2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t2(s){const a=s.headers.get(_u);if(!a||!a.match(e2))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function n2(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function a2(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yr(s){if(!r2.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function iu(){const s={};return new Proxy(s,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i2(s,a){return new Proxy(s,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,c)}})}function Tm(s){return JSON.parse(JSON.stringify(s))}const ja=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),s2=[502,503,504];async function Cm(s){var a;if(!Y_(s))throw new wu(ja(s),0);if(s2.includes(s.status))throw new wu(ja(s),s.status);let r;try{r=await s.json()}catch(u){throw new Ra(ja(u),u)}let l;const c=t2(s);if(c&&c.getTime()>=Gp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new xm(ja(r),s.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new xm(ja(r),s.status,r.weak_password.reasons);throw new U_(ja(r),s.status||500,l)}const l2=(s,a,r,l)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function me(s,a,r,l){var c;const u=Object.assign({},l?.headers);u[_u]||(u[_u]=Gp["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await o2(s,a,r+m,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function o2(s,a,r,l,c,u){const h=l2(a,l,c,u);let m;try{m=await s(r,Object.assign({},h))}catch(p){throw console.error(p),new wu(ja(p),0)}if(m.ok||await Cm(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await Cm(p)}}function Xt(s){var a;let r=null;d2(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=V_(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:r,user:l},error:null}}function Rm(s){const a=Xt(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function ra(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function c2(s){return{data:s,error:null}}function u2(s){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:u}=s,h=Tr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Om(s){return s}function d2(s){return s.access_token&&s.refresh_token&&s.expires_in}const su=["global","local","others"];class h2{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=Wp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=su[0]){if(su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${su.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=Tr(a,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:u2,redirectTo:r?.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ra})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,c,u,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Om});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);y[`${j}Page`]=k}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){yr(a);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ra})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){yr(a);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:ra})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){yr(a);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(l){if(ce(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){yr(a.userId);try{const{data:r,error:l}=await me(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(a){yr(a.userId),yr(a.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,c,u,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Om});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);y[`${j}Page`]=k}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ce(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ce(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function km(s={}){return{getItem:a=>s[a]||null,setItem:(a,r)=>{s[a]=r},removeItem:a=>{delete s[a]}}}const vr={debug:!!(globalThis&&Kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class f2 extends Jp{}async function m2(s,a,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new f2(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(vr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function p2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function g2(s){return parseInt(s,16)}function y2(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function v2(s){var a;const{chainId:r,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:m,requestId:p,resources:y,scheme:b,uri:_,version:S}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const w=Qp(s.address),E=b?`${b}://${l}`:l,k=s.statement?`${s.statement}
`:"",j=`${E} wants you to sign in with your Ethereum account:
${w}

${k}`;let q=`URI: ${_}
Version: ${S}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(q+=`
Expiration Time: ${c.toISOString()}`),m&&(q+=`
Not Before: ${m.toISOString()}`),p&&(q+=`
Request ID: ${p}`),y){let F=`
Resources:`;for(const L of y){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);F+=`
- ${L}`}q+=F}return`${j}
${q}`}class nt extends Error{constructor({message:a,code:r,cause:l,name:c}){var u;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class vl extends nt{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function b2({error:s,options:a}){var r,l,c;const{publicKey:u}=a;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new nt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Xp(h)){if(u.rp.id!==h)return new nt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function _2({error:s,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new nt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Xp(l)){if(r.rpId!==l)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class w2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const S2=new w2;function x2(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:r,excludeCredentials:l}=s,c=Tr(s,["challenge","user","excludeCredentials"]),u=xr(a).buffer,h=Object.assign(Object.assign({},r),{id:xr(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:xr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function A2(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:r}=s,l=Tr(s,["challenge","allowCredentials"]),c=xr(a).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];u.allowCredentials[h]=Object.assign(Object.assign({},m),{id:xr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function E2(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Oa(new Uint8Array(s.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function j2(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Oa(new Uint8Array(c.authenticatorData)),clientDataJSON:Oa(new Uint8Array(c.clientDataJSON)),signature:Oa(new Uint8Array(c.signature)),userHandle:c.userHandle?Oa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Xp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Nm(){var s,a;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function T2(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",a)}:{data:null,error:new vl("Empty credential response",a)}}catch(a){return{data:null,error:b2({error:a,options:s})}}}async function C2(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",a)}:{data:null,error:new vl("Empty credential response",a)}}catch(a){return{data:null,error:_2({error:a,options:s})}}}const R2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},O2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bl(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(r(h))l[u]=h;else if(a(h)){const m=l[u];a(m)?l[u]=bl(m,h):l[u]=bl(h)}else l[u]=h}return l}function k2(s,a){return bl(R2,s,a||{})}function N2(s,a){return bl(O2,s,a||{})}class z2{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:c},u){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!h)return{data:null,error:m};const p=c??S2.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=k2(h.webauthn.credential_options.publicKey,u?.create),{data:b,error:_}=await T2({publicKey:y,signal:p});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=N2(h.webauthn.credential_options.publicKey,u?.request),{data:b,error:_}=await C2(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new Ra("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new Oi("rpId is required for WebAuthn authentication")};try{if(!Nm())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new Ra("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new Oi("rpId is required for WebAuthn registration")};try{if(!Nm())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:u});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new Ra("Unexpected error in register",h)}}}}p2();const D2={url:O_,storageKey:k_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zm(s,a,r){return await r()}const br={};class ki{get jwks(){var a,r;return(r=(a=br[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=br[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},D2),a);if(this.storageKey=u.storageKey,this.instanceID=(r=ki.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ki.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ht()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new h2({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Wp(u.fetch),this.lock=u.lock||zm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:ht()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=m2:this.lock=zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Kp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=km(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=km(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$p}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(ht()&&(r=G_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ht()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(r,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),B_(u)){const p=(a=u.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new Ra("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,c;try{const u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Xt}),{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(a){var r,l,c;try{let u;if("email"in a){const{email:b,password:_,options:S}=a;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await gr(this.storage,this.storageKey)),u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:b,password:_,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Xt})}else if("phone"in a){const{phone:b,password:_,options:S}=a;u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(c=S?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Xt})}else throw new ol("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(a){try{let r;if("email"in a){const{email:u,password:h,options:m}=a;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Rm})}else if("phone"in a){const{phone:u,password:h,options:m}=a;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Rm})}else throw new ol("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new pr;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,c,u;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=a.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,c,u,h,m,p,y,b,_,S;let w,E;if("message"in a)w=a.message,E=a.signature;else{const{chain:k,wallet:j,statement:q,options:F}=a;let L;if(ht())if(typeof j=="object")L=j;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")L=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=j}const K=new URL((r=F?.url)!==null&&r!==void 0?r:window.location.href),ne=await L.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=Qp(ne[0]);let O=(l=F?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!O){const Z=await L.request({method:"eth_chainId"});O=g2(Z)}const ae={domain:K.host,address:te,statement:q,uri:K.href,version:"1",chainId:O,nonce:(c=F?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=F?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=F?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=F?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=F?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=F?.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=v2(ae),E=await L.request({method:"personal_sign",params:[y2(w),te]})}try{const{data:k,error:j}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Xt});if(j)throw j;if(!k||!k.session||!k.user){const q=new pr;return this._returnResult({data:{user:null,session:null},error:q})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:j})}catch(k){if(ce(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(a){var r,l,c,u,h,m,p,y,b,_,S,w;let E,k;if("message"in a)E=a.message,k=a.signature;else{const{chain:j,wallet:q,statement:F,options:L}=a;let K;if(ht())if(typeof q=="object")K=q;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))K=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=q}const ne=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const te=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),F?{statement:F}:null));let O;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")O=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)O=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)E=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),k=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${ne.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(c=(l=L?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((y=L?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(b=L?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const te=await K.signMessage(new TextEncoder().encode(E),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=te}}try{const{data:j,error:q}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Oa(k)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Xt});if(q)throw q;if(!j||!j.session||!j.user){const F=new pr;return this._returnResult({data:{user:null,session:null},error:F})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:q})}catch(j){if(ce(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{const{data:u,error:h}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Xt});if(await aa(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const m=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(a){try{const{options:r,provider:l,token:c,access_token:u,nonce:h}=a,m=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xt}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new pr;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,c,u,h;try{if("email"in a){const{email:m,options:p}=a;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await gr(this.storage,this.storageKey));const{error:_}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:p}=a,{data:y,error:b}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new ol("You must provide either an email or phone number.")}catch(m){if(ce(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let c,u;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,u=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Xt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,l,c,u,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await gr(this.storage,this.storageKey));const y=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:c2});return!((u=y.data)===null||u===void 0)&&u.url&&ht()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(ce(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Qt;const{error:c}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:u}=a,{error:h}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:u}=a,{data:h,error:m}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new ol("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<nu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await Ea(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=iu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=i2(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ra}):await this._useSession(async r=>{var l,c,u;const{data:h,error:m}=r;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:ra})})}catch(r){if(ce(r))return L_(r)&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Qt;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await gr(this.storage,this.storageKey));const{data:y,error:b}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:ra});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(ce(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Qt;const r=Date.now()/1e3;let l=r,c=!0,u=null;const{payload:h}=ru(a.access_token);if(h.exp&&(l=h.exp,c=l<=r),c){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;u={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:h,error:m}=r;if(m)throw m;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Qt;const{data:c,error:u}=await this._callRefreshToken(a.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!ht())throw new cl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new cl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Sm("No code detected.");const{data:F,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:y}=a;if(!u||!m||!h||!y)throw new cl("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(m);let S=b+_;p&&(S=parseInt(p));const w=S-b;w*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const E=S-_;b-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,b):b-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,b);const{data:k,error:j}=await this._getUser(u);if(j)throw j;const q={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:_,expires_at:S,refresh_token:h,token_type:y,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:a.type},error:null})}catch(l){if(ce(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(M_(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=$_(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,c;try{const{data:{session:u},error:h}=r;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",a,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",u),console.error(u)}})}async resetPasswordForEmail(a,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await gr(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(ce(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:c}=await this._useSession(async u=>{var h,m,p,y,b;const{data:_,error:S}=u;if(S)throw S;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ht()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ce(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:u}}=r;if(c)throw c;const{options:h,provider:m,token:p,access_token:y,nonce:b}=a,_=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Xt}),{data:S,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new pr}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:w}))}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,c;const{data:u,error:h}=r;if(h)throw h;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await W_(async c=>(c>0&&await K_(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Xt})),(c,u)=>{const h=200*Math.pow(2,c);return u&&au(u)&&Date.now()+h-l<_r})}catch(l){if(this._debug(r,"error",l),ce(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),ht()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ea(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await wr(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:iu()}else if(c&&!c.user&&!c.user){const h=await Ea(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await aa(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,c)):c.user=iu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<nu;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${nu}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),au(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new El;const{data:u,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!u.session)throw new Qt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ce(u)){const h={data:null,error:u};return au(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await wr(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const u=Tm(c);await wr(this.storage,this.storageKey,u)}else{const c=Tm(r);await wr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await aa(this.storage,this.storageKey),await aa(this.storage,this.storageKey+"-code-verifier"),await aa(this.storage,this.storageKey+"-user"),this.userStorage&&await aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_r}ms, refresh threshold is ${bu} ticks`),c<=bu&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await gr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;return u?this._returnResult({data:null,error:u}):await me(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,c;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await me(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?E2(a.webauthn.credential_response):j2(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:x2(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:A2(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(a=r?.factors)!==null&&a!==void 0?a:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ru(l.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Qt})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Qt});const h=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Qt});const h=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+D_>c)return l;const{data:u,error:h}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});l=w.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:p}}=ru(l);r?.allowExpired||n2(u.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:u,header:c,signature:h},error:null}}const b=a2(c.alg),_=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,h,I_(`${m}.${p}`)))throw new Su("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(ce(l))return this._returnResult({data:null,error:l});throw l}}}ki.nextInstanceID={};const U2=ki;class M2 extends U2{constructor(a){super(a)}}class L2{constructor(a,r,l){var c,u,h;this.supabaseUrl=a,this.supabaseKey=r;const m=R_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:w_,realtime:x_,auth:Object.assign(Object.assign({},S_),{storageKey:p}),global:__},b=C_(l??{},y);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=j_(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new O1(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new y_(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new j1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,l)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(r=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:c,userStorage:u,storageKey:h,flowType:m,lock:p,debug:y,throwOnError:b},_,S){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M2({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),_),storageKey:h,autoRefreshToken:a,persistSession:r,detectSessionInUrl:l,storage:c,userStorage:u,flowType:m,lock:p,debug:y,throwOnError:b,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Y1(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l?.access_token)})}_handleTokenChanged(a,r,l){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B2=(s,a,r)=>new L2(s,a,r);function H2(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const a=s.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}H2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q2="https://nxibeiykcgxpbmkeadth.supabase.co",F2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54aWJlaXlrY2d4cGJta2VhZHRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MjA4MDcsImV4cCI6MjA4MTA5NjgwN30.0ViO1YkTQ2CEVjf1VoBun6cgVodu2u3DrcDipeWnr28",be=B2(q2,F2),P2=()=>`session_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,I2=async(s,a,r,l=null)=>{console.log(" Creating session for:",{email:s,name:a,userType:r,profilePicture:l});const c=P2(),u=new Date;u.setHours(u.getHours()+24);let h={session_id:c,user_email:s,user_name:a,user_type:r,profile_picture:l,expires_at:u.toISOString()},{error:m}=await be.from("user_sessions").insert([h]);if(m&&m.message?.includes("profile_picture")){console.log(" profile_picture column not found, retrying without it...");const{session_id:p,user_email:y,user_name:b,user_type:_,expires_at:S}=h,{error:w}=await be.from("user_sessions").insert([{session_id:p,user_email:y,user_name:b,user_type:_,expires_at:S}]);if(w)return console.error(" Error creating session (retry):",w),null}else if(m)return console.error(" Error creating session:",m),null;return sessionStorage.setItem("amma_session_id",c),console.log(" Session stored in sessionStorage:",c),c},Mi=async()=>{const s=sessionStorage.getItem("amma_session_id");if(console.log(" Getting session, ID from storage:",s),!s)return console.log(" No session ID in sessionStorage"),null;const{data:a,error:r}=await be.from("user_sessions").select("*").eq("session_id",s).single();return r||!a?(console.log(" No active session found in Supabase:",r),sessionStorage.removeItem("amma_session_id"),null):new Date(a.expires_at)<new Date?(console.log(" Session expired"),await V2(s),null):(console.log(" Valid session found:",{email:a.user_email,name:a.user_name,type:a.user_type}),{email:a.user_email,name:a.user_name,userType:a.user_type,profilePicture:a.profile_picture})},V2=async s=>{s||(s=sessionStorage.getItem("amma_session_id")),s&&(await be.from("user_sessions").delete().eq("session_id",s),sessionStorage.removeItem("amma_session_id"))},Hu=async()=>{const s=await Mi();s&&await be.from("user_sessions").delete().eq("user_email",s.email),sessionStorage.removeItem("amma_session_id")};function $2(){const s=en(),[a,r]=C.useState(!0),[l,c]=C.useState(""),[u,h]=C.useState(""),[m,p]=C.useState(""),[y,b]=C.useState(!1),_=async()=>{if(!u||!l){alert("Please enter your name and email");return}b(!0);try{const{error:w}=await be.from("demo_requests").insert([{name:l,email:u,organization:m,requested_at:new Date().toISOString()}]);w?(console.error("Error submitting demo request:",w),alert("Error submitting demo request. Please try again.")):(alert(" Demo request submitted! We'll be in touch soon."),r(!1))}catch(w){console.error("Error:",w),alert("Error submitting demo request.")}finally{b(!1)}},S=async(w,E,k,j=null)=>{try{console.log(" Creating user:",{email:w,name:E,userType:k,profilePicture:j});const q=E.split(" "),F=q[0]||E,L=q.slice(1).join(" ")||q[0],{data:K,error:ne}=await be.from("users").select("*").eq("email",w).single();if(ne&&ne.code!=="PGRST116"&&console.error("Error checking user:",ne),K){if(console.log(" User already exists"),j)try{const{error:O}=await be.from("users").update({profile_picture:j}).eq("email",w);O&&!O.message?.includes("profile_picture")?console.error(" Error updating profile picture:",O):O||console.log(" Profile picture updated")}catch{console.log(" Could not update profile picture (column may not exist)")}if(k==="patient"&&!K.patient_key){console.log(" Existing patient missing patient_key, generating one...");const O=Math.floor(1e8+Math.random()*9e8).toString(),{error:ae}=await be.from("users").update({patient_key:O}).eq("email",w);ae?console.error(" Error updating patient_key:",ae):console.log(" Patient key generated and saved:",O)}}else{console.log(" Creating new user...");let O=null;k==="patient"&&(O=Math.floor(1e8+Math.random()*9e8).toString(),console.log(" Generated patient key:",O));let ae={email:w,first_name:F,last_name:L,user_type:k,patient_key:O,profile_picture:j},{error:Z}=await be.from("users").insert([ae]);if(Z&&Z.message?.includes("profile_picture")){console.log(" profile_picture column not found, creating user without it...");const{email:_e,first_name:we,last_name:ke,user_type:Me,patient_key:Te}=ae,{error:Ce}=await be.from("users").insert([{email:_e,first_name:we,last_name:ke,user_type:Me,patient_key:Te}]);if(Ce)return console.error(" Error creating user (retry):",Ce),alert("Error creating account: "+Ce.message),!1}else if(Z)return console.error(" Error creating user:",Z),alert("Error creating account: "+Z.message),!1;console.log(" User created",j?"with profile picture":"")}console.log(" Creating session...");const te=await I2(w,E,k,j);return te?(console.log(" Session created:",te),!0):(console.error(" Session creation failed"),alert("Error creating session. Please try again."),!1)}catch(q){return console.error(" Login error:",q),alert("Login failed: "+q.message),!1}};return f.jsxs("div",{className:"login-page",children:[a&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(250, 250, 250, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"1.5rem",animation:"fadeIn 0.2s ease-out"},children:f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"16px",padding:"2.5rem 2rem",maxWidth:"400px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08), 0 4px 8px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.06)",animation:"slideUp 0.25s ease-out"},children:[f.jsx("div",{style:{width:"48px",height:"48px",margin:"0 auto 1.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("img",{src:"/images/Black Elephant Flat Illustrative Company Logo.png",alt:"Amma Logo",style:{width:"48px",height:"48px",objectFit:"contain"}})}),f.jsx("h2",{style:{fontSize:"1.375rem",fontWeight:"600",textAlign:"center",marginBottom:"0.5rem",letterSpacing:"-0.02em",color:"#0A0A0A"},children:"Beta Access"}),f.jsx("p",{style:{fontSize:"0.9375rem",color:"#525252",textAlign:"center",lineHeight:"1.6",marginBottom:"2rem",letterSpacing:"-0.01em"},children:"We're in private beta with select healthcare providers."}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2.5rem",marginBottom:"2rem",padding:"1.25rem 0",borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},children:[f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",letterSpacing:"-0.02em",color:"#0A0A0A"},children:"100+"}),f.jsx("div",{style:{fontSize:"0.75rem",color:"#A3A3A3",marginTop:"0.125rem",letterSpacing:"-0.01em"},children:"Clinicians"})]}),f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",letterSpacing:"-0.02em",color:"#0A0A0A"},children:"5K+"}),f.jsx("div",{style:{fontSize:"0.75rem",color:"#A3A3A3",marginTop:"0.125rem",letterSpacing:"-0.01em"},children:"Videos"})]}),f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"600",letterSpacing:"-0.02em",color:"#0A0A0A"},children:"50%"}),f.jsx("div",{style:{fontSize:"0.75rem",color:"#A3A3A3",marginTop:"0.125rem",letterSpacing:"-0.01em"},children:"Faster"})]})]}),f.jsxs("div",{style:{marginBottom:"1.25rem"},children:[f.jsx("input",{type:"text",placeholder:"Name",value:l,onChange:w=>c(w.target.value),style:{width:"100%",padding:"0.75rem 1rem",marginBottom:"0.625rem",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",fontSize:"0.9375rem",fontFamily:"inherit",letterSpacing:"-0.01em",transition:"all 0.15s ease-out",outline:"none",background:"#FAFAFA"},onFocus:w=>{w.target.style.borderColor="#0A0A0A",w.target.style.background="#FFFFFF"},onBlur:w=>{w.target.style.borderColor="rgba(0, 0, 0, 0.08)",w.target.style.background="#FAFAFA"}}),f.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:w=>h(w.target.value),style:{width:"100%",padding:"0.75rem 1rem",marginBottom:"0.625rem",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",fontSize:"0.9375rem",fontFamily:"inherit",letterSpacing:"-0.01em",transition:"all 0.15s ease-out",outline:"none",background:"#FAFAFA"},onFocus:w=>{w.target.style.borderColor="#0A0A0A",w.target.style.background="#FFFFFF"},onBlur:w=>{w.target.style.borderColor="rgba(0, 0, 0, 0.08)",w.target.style.background="#FAFAFA"}}),f.jsx("input",{type:"text",placeholder:"Organization (optional)",value:m,onChange:w=>p(w.target.value),style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",fontSize:"0.9375rem",fontFamily:"inherit",letterSpacing:"-0.01em",transition:"all 0.15s ease-out",outline:"none",background:"#FAFAFA"},onFocus:w=>{w.target.style.borderColor="#0A0A0A",w.target.style.background="#FFFFFF"},onBlur:w=>{w.target.style.borderColor="rgba(0, 0, 0, 0.08)",w.target.style.background="#FAFAFA"}})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.625rem"},children:[f.jsx("button",{onClick:_,disabled:y,style:{padding:"0.75rem 1.5rem",background:y?"#A3A3A3":"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontSize:"0.9375rem",fontWeight:"500",letterSpacing:"-0.01em",cursor:y?"not-allowed":"pointer",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:w=>!y&&(w.target.style.opacity="0.85"),onMouseLeave:w=>!y&&(w.target.style.opacity="1"),children:y?"Submitting...":"Request Access"}),f.jsx("button",{onClick:()=>s("/"),style:{padding:"0.75rem 1.5rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.9375rem",fontWeight:"500",letterSpacing:"-0.01em",cursor:"pointer",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:w=>{w.target.style.borderColor="#0A0A0A",w.target.style.color="#0A0A0A"},onMouseLeave:w=>{w.target.style.borderColor="rgba(0, 0, 0, 0.08)",w.target.style.color="#525252"},children:" Go Back to Home"})]})]})}),f.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `}),f.jsx("button",{className:"back-button",onClick:()=>s("/"),children:" Back to Home"}),f.jsxs("div",{className:"login-container",children:[f.jsx("h1",{className:"login-title",children:"Welcome to Amma"}),f.jsx("p",{className:"login-subtitle",children:"Sign in or create an account to get started"}),f.jsxs("div",{className:"login-options",children:[f.jsxs("div",{className:"login-section",children:[f.jsx("h2",{children:"I'm a Patient"}),f.jsx("p",{children:"Access your personalized health information"}),f.jsx("div",{className:"google-login-wrapper",style:{display:"flex",justifyContent:"center"},children:f.jsx(rm,{onSuccess:async w=>{const E=im(w.credential);console.log(" Patient login successful:",{email:E.email,name:E.name,picture:E.picture}),await S(E.email,E.name,"patient",E.picture)&&s("/patient")},onError:()=>{console.error(" Google login failed"),alert("Login failed. Please try again.")}})})]}),f.jsx("div",{className:"divider",children:f.jsx("span",{children:"OR"})}),f.jsxs("div",{className:"login-section",children:[f.jsx("h2",{children:"I'm a Doctor"}),f.jsx("p",{children:"Manage your practice and patients"}),f.jsx("div",{className:"google-login-wrapper",style:{display:"flex",justifyContent:"center"},children:f.jsx(rm,{onSuccess:async w=>{const E=im(w.credential);console.log(" Doctor login successful:",{email:E.email,name:E.name,picture:E.picture}),await S(E.email,E.name,"doctor",E.picture)&&s("/doctor")},onError:()=>{console.error(" Google login failed"),alert("Login failed. Please try again.")}})})]})]})]})]})}function G2(){const s=en(),a=on(),r=a.state?.name||"User",l=a.state?.email||"",[c,u]=C.useState(""),[h,m]=C.useState(!0);C.useEffect(()=>{if(console.log(" User Data:",{userName:r,userEmail:l}),!l){alert(" No email found! Please log in again."),s("/login");return}p()},[]);const p=async()=>{try{const{data:_,error:S}=await be.from("user_notes").select("*").eq("email",l).single();if(S){console.warn("Supabase error - using localStorage fallback:",S.message);const w=localStorage.getItem(`notes_${l}`);w&&u(w)}else _&&u(_.notes||"")}catch{console.log("Loading from localStorage");const S=localStorage.getItem(`notes_${l}`);S&&u(S)}m(!1)},y=async()=>{console.log("Saving for:",l);const{data:_,error:S}=await be.from("user_notes").upsert({email:l,name:r,notes:c});S?(console.error("Supabase save error:",S),localStorage.setItem(`notes_${l}`,c),alert(` Saved locally (Supabase blocked)

Fix Supabase RLS to save to cloud!
See YOU_MUST_DO_THIS.md`)):(console.log("Saved to Supabase!"),localStorage.setItem(`notes_${l}`,c),alert("Notes saved to cloud! "))},b=()=>{s("/login")};return h?f.jsx("div",{className:"profile-page",children:f.jsx("div",{className:"profile-container",children:"Loading..."})}):f.jsx("div",{className:"profile-page",children:f.jsxs("div",{className:"profile-container",children:[f.jsxs("h1",{className:"profile-welcome",children:["Welcome, ",r,"! "]}),f.jsx("p",{className:"profile-subtitle",children:"You're now logged in to Amma"}),f.jsxs("div",{style:{margin:"2rem 0"},children:[f.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:"Your Notes"}),f.jsx("textarea",{value:c,onChange:_=>u(_.target.value),placeholder:"Type your notes here...",style:{width:"100%",minHeight:"160px",padding:"0.875rem 1rem",fontSize:"0.875rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.1)",fontFamily:"inherit",letterSpacing:"-0.01em",background:"#FAFAFA",transition:"all 0.15s ease-out",resize:"vertical"},onFocus:_=>{_.currentTarget.style.borderColor="#0A0A0A",_.currentTarget.style.background="#FFFFFF",_.currentTarget.style.boxShadow="0 0 0 3px rgba(10, 10, 10, 0.05)"},onBlur:_=>{_.currentTarget.style.borderColor="rgba(0, 0, 0, 0.1)",_.currentTarget.style.background="#FAFAFA",_.currentTarget.style.boxShadow="none"}}),f.jsx("button",{onClick:y,style:{marginTop:"0.75rem",padding:"0.625rem 1.25rem",background:"#0A0A0A",color:"white",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",letterSpacing:"-0.01em",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:_=>_.currentTarget.style.opacity="0.85",onMouseLeave:_=>_.currentTarget.style.opacity="1",children:"Save Notes"})]}),f.jsxs("div",{className:"profile-actions",children:[f.jsx("button",{className:"btn-primary",onClick:()=>s("/"),children:"Go to Home"}),f.jsx("button",{className:"btn-secondary",onClick:b,children:"Logout"})]})]})})}function Y2(s){if(!s)return!1;const a=s.toString().trim();return/^\d{9}$/.test(a)}function Zp(s){if(!s)return"";const a=s.toString().trim();return a.length!==9?a:`${a.slice(0,3)}-${a.slice(3,6)}-${a.slice(6,9)}`}function K2(s){return s?s.toString().replace(/\D/g,""):""}async function W2(s){try{return await navigator.clipboard.writeText(s),!0}catch{const r=document.createElement("textarea");r.value=s,r.style.position="fixed",r.style.left="-999999px",document.body.appendChild(r),r.select();try{return document.execCommand("copy"),document.body.removeChild(r),!0}catch{return document.body.removeChild(r),!1}}}var eg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dm=Cn.createContext&&Cn.createContext(eg),J2=["attr","size","title"];function Q2(s,a){if(s==null)return{};var r=X2(s,a),l,c;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(c=0;c<u.length;c++)l=u[c],!(a.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(s,l)&&(r[l]=s[l])}return r}function X2(s,a){if(s==null)return{};var r={};for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)){if(a.indexOf(l)>=0)continue;r[l]=s[l]}return r}function _l(){return _l=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},_l.apply(this,arguments)}function Um(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function wl(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Um(Object(r),!0).forEach(function(l){Z2(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Um(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}function Z2(s,a,r){return a=ew(a),a in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function ew(s){var a=tw(s,"string");return typeof a=="symbol"?a:a+""}function tw(s,a){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function tg(s){return s&&s.map((a,r)=>Cn.createElement(a.tag,wl({key:r},a.attr),tg(a.child)))}function ze(s){return a=>Cn.createElement(nw,_l({attr:wl({},s.attr)},a),tg(s.child))}function nw(s){var a=r=>{var{attr:l,size:c,title:u}=s,h=Q2(s,J2),m=c||r.size||"1em",p;return r.className&&(p=r.className),s.className&&(p=(p?p+" ":"")+s.className),Cn.createElement("svg",_l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,l,h,{className:p,style:wl(wl({color:s.color||r.color},r.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Cn.createElement("title",null,u),s.children)};return Dm!==void 0?Cn.createElement(Dm.Consumer,null,r=>a(r)):a(eg)}function ng(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function aw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(s)}function Mm(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(s)}function rw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function iw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(s)}function sw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(s)}function lw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function Lm(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(s)}function ag(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function Bm(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(s)}function ow(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function cw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function uw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(s)}function qu(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function dw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function Hm(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(s)}function hw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(s)}function fw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(s)}function mw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function pw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function gw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(s)}function yw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function vw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(s)}function bw(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function rg(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function fl(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function xu(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function _w(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function Sr(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(s)}function ig(s){return ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}function ww(){const s=en(),[a,r]=C.useState("Patient"),[l,c]=C.useState(""),[u,h]=C.useState(""),[m,p]=C.useState(""),[y,b]=C.useState(!1),[_,S]=C.useState(""),[w,E]=C.useState(!0),[k,j]=C.useState("diagnosis"),[q,F]=C.useState([]),[L,K]=C.useState(""),[ne,te]=C.useState(!1),[O,ae]=C.useState(null),[Z,_e]=C.useState([]),[we,ke]=C.useState([]),[Me,Te]=C.useState(null);C.useEffect(()=>{Ce()},[]);const Ce=async()=>{try{const $=await Mi();if(!$||$.userType!=="patient"){alert(" No active session found! Please log in."),s("/login");return}r($.name),c($.email),h($.profilePicture||""),await M($.email),await W($.email),await D($.email),await X($.email),J()}catch($){console.error(" Error checking session:",$),alert("Error loading profile: "+$.message),s("/login")}},M=async $=>{try{const{data:oe,error:de}=await be.from("users").select("patient_key, first_name, last_name").eq("email",$).eq("user_type","patient").single();if(de)throw de;if(oe&&(oe.patient_key&&p(oe.patient_key),oe.first_name||oe.last_name)){const Y=`${oe.first_name||""} ${oe.last_name||""}`.trim();Y&&r(Y)}}catch(oe){console.log("Error loading patient data:",oe)}},W=async $=>{try{const{data:oe,error:de}=await be.from("patient_files").select("*").eq("patient_email",$).eq("file_type","video").order("uploaded_at",{ascending:!1});de?(console.error("Error loading files:",de),S("/images/diagnosis-video.mp4")):oe&&oe.length>0&&S(oe[0].file_url)}catch(oe){console.log("Error loading files:",oe),S("/images/diagnosis-video.mp4")}E(!1)},D=async $=>{try{const{data:oe,error:de}=await be.from("epic_patient_data").select("*").eq("patient_email",$).order("created_at",{ascending:!1}).limit(1).single();de&&de.code!=="PGRST116"&&console.error("Error loading Epic data:",de),ae(oe)}catch(oe){console.log("Error loading patient medical data:",oe)}},X=async $=>{try{const{data:oe,error:de}=await be.from("patient_files").select("extracted_text, file_name").eq("patient_email",$).eq("file_type","file").order("created_at",{ascending:!1});de?console.error("Error loading uploaded files:",de):_e(oe||[])}catch(oe){console.log("Error loading uploaded files:",oe)}},J=()=>{const oe=[1,3,5,7,10,14,17,21,24,30].map(de=>({day:de,title:`Day ${de} Recovery Checkpoint`,description:A(de),videoUrl:"/images/chatbot-diet-video.mp4",locked:de>I()}));ke(oe)},A=$=>({1:"Initial assessment and care instructions",3:"Early recovery progress check",5:"Wound healing and medication review",7:"First week milestone - mobility assessment",10:"Pain management and physical therapy",14:"Two-week checkup and activity guidance",17:"Mid-recovery wellness check",21:"Three-week progress and independence",24:"Advanced recovery exercises",30:"Final milestone and long-term care plan"})[$]||"Recovery progress checkpoint",I=()=>7,Q=async()=>{await W2(m)&&(b(!0),setTimeout(()=>b(!1),2e3))},ee=async()=>{await Hu(),s("/")},fe=async()=>{if(!L.trim())return;const $=L.trim();K(""),F(oe=>[...oe,{role:"user",content:$}]),te(!0);try{const oe=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:`You are a friendly AI health assistant helping Anish understand his health. ALWAYS use very simple words a 10-year-old could understand. Be warm and caring.

ABOUT ANISH:
- 32 years old
- Has a brain tumor called "glioblastoma" (GBM) in the right side of his brain
- Found in June 2024 when he had seizures
- Had brain surgery in June 2024 - the doctor removed the tumor
- Now taking medicine (chemotherapy) to make sure no bad cells come back
- On round 4 of 6 medicine rounds - more than halfway done!
- Doing really well!

HIS MEDICINES (explain what each does simply):
1. Temozolomide - The main cancer-fighting medicine. Takes it 5 days, then rests 23 days.
2. Dexamethasone - Keeps brain swelling down. Take with food, 2 times a day.
3. Keppra - Stops seizures. Very important to never miss a dose!
4. Omeprazole - Protects the tummy from other medicines. Take in morning.
5. Ondansetron - Helps when feeling sick to stomach. Take when needed.

ALLERGIC TO: A special dye used in some scans (causes itchy bumps)

COMING UP:
- January 8: Brain scan to check how things look
- January 12: Start round 5 of medicine

HOW HE FEELS: A bit tired sometimes, a little queasy - both normal and being managed well.

RULES FOR YOUR RESPONSES:
- Use VERY simple words, like talking to a child
- Be warm and encouraging  
- Keep answers short (2-4 sentences max)
- Use examples and comparisons to explain things
- Say "Would you like a video that explains this?" when helpful
- If emergency symptoms, say CALL 911 or doctor right away`},...q.map(qe=>({role:qe.role,content:qe.content})),{role:"user",content:$}],max_tokens:500,temperature:.7})});if(!oe.ok)throw new Error("API request failed");const Y=(await oe.json()).choices[0].message.content;F(qe=>[...qe,{role:"assistant",content:Y,timestamp:new Date().toISOString()}])}catch(oe){console.error("OpenAI API error:",oe);const de=pe($);F(Y=>[...Y,{role:"assistant",content:de,timestamp:new Date().toISOString()}])}te(!1)},B=async $=>{const oe="/images/chatbot-meds-video.mp4",de={role:"assistant",content:"Here's a video that explains this in simple terms:",videoUrl:oe,timestamp:new Date().toISOString()};F(Y=>[...Y,de]),S(oe);try{await be.from("patient_files").insert([{doctor_email:"system@amma.health",patient_email:l,file_type:"video",file_url:demoVideoPath,file_name:`ai_generated_video_${new Date().getTime()}.mp4`}])}catch(Y){console.error("Error saving video:",Y)}},le={condition:"glioblastoma multiforme (GBM)",conditionSimple:"a type of brain tumor",location:"right temporal lobe",diagnosisDate:"June 2024",medications:[{name:"Temozolomide",purpose:"chemotherapy medicine that fights cancer cells",dose:"140mg, days 1-5 every 28 days"},{name:"Dexamethasone",purpose:"reduces brain swelling",dose:"4mg twice daily"},{name:"Levetiracetam (Keppra)",purpose:"prevents seizures",dose:"500mg twice daily"},{name:"Omeprazole",purpose:"protects your stomach from other medications",dose:"20mg daily"},{name:"Ondansetron",purpose:"helps with nausea from chemo",dose:"8mg as needed"}]},pe=($,oe,de)=>{const Y=$.toLowerCase();a.toLowerCase().includes("anish")||l.toLowerCase().includes("anish");{if(Y.includes("diagnosis")||Y.includes("condition")||Y.includes("what do i have")||Y.includes("what is wrong"))return`You have been diagnosed with ${le.conditionSimple} called ${le.condition}, located in the ${le.location} of your brain. It was found in ${le.diagnosisDate} after you had seizures. The good news is your doctors caught it early and you've already had successful surgery to remove it. Now you're doing chemotherapy to make sure any remaining cancer cells are gone.`;if(Y.includes("brain")||Y.includes("tumor")||Y.includes("gbm")||Y.includes("glioblastoma")||Y.includes("cancer"))return"Your brain tumor is called glioblastoma (GBM). Think of it like unwanted cells that grew in your brain. Your surgeon, Dr. Martinez, removed the main tumor in June 2024. Now you're taking medicine (temozolomide) to catch any tiny cells that might still be there. Your latest scans show the treatment is working well!";if(Y.includes("medication")||Y.includes("medicine")||Y.includes("pill")||Y.includes("drug")||Y.includes("taking")){let qe=`You're taking 5 medications. Here's what each one does:

`;return le.medications.forEach(ft=>{qe+=` **${ft.name}**: ${ft.purpose}
`}),qe+=`
Take them exactly as your doctor prescribed. Would you like a video explaining more about any of these?`,qe}return Y.includes("temozolomide")||Y.includes("temodar")||Y.includes("chemo")?"Temozolomide is your chemotherapy medicine. It works by damaging the DNA of cancer cells so they can't grow. You take it for 5 days, then get 23 days off to let your body recover. You're on cycle 4 of 6, which means you're more than halfway done! Common side effects are tiredness and nausea - that's why you also have ondansetron for the nausea.":Y.includes("seizure")||Y.includes("keppra")||Y.includes("levetiracetam")?"You take Keppra (levetiracetam) to prevent seizures. Brain tumors can sometimes cause seizures, but this medicine helps control them. You've been seizure-free since starting it! It's very important to take this medicine at the same times every day and never skip a dose. If you ever have a seizure, call 911 right away.":Y.includes("side effect")||Y.includes("tired")||Y.includes("fatigue")||Y.includes("nausea")||Y.includes("sick")?`The tiredness and occasional nausea you're feeling are normal side effects of chemotherapy. Here's what helps:

 **For tiredness**: Rest when you need to, take short walks when you feel up to it, and don't push yourself too hard.

 **For nausea**: Take your ondansetron as soon as you feel queasy. Eat small, bland meals. Ginger tea can also help.

If side effects get worse, let Dr. Wilson know right away.`:Y.includes("recovery")||Y.includes("heal")||Y.includes("better")||Y.includes("prognosis")?`Your recovery is going well! Here's what's ahead:

 **Now**: You're in cycle 4 of chemotherapy
 **January 8**: MRI scan to check progress
 **January 12**: Start cycle 5
 **After cycle 6**: Your doctor will discuss next steps

Focus on rest, eating well, taking your meds on time, and going to all your appointments. Your body is healing every day!`:Y.includes("appointment")||Y.includes("next")||Y.includes("when")||Y.includes("schedule")?`Your upcoming appointments:

 **January 8, 2025**: MRI brain scan to see how treatment is working
 **January 12, 2025**: Start chemotherapy cycle 5

Make sure to get blood work done a few days before your next chemo cycle so your doctor can check your blood counts are safe for treatment.`:Y.includes("eat")||Y.includes("food")||Y.includes("diet")||Y.includes("nutrition")?`Good nutrition helps your body fight and recover. Here's what helps during chemo:

 **Eat protein**: chicken, fish, eggs, beans help repair your body
 **Stay hydrated**: drink 8+ glasses of water daily
 **Small meals**: eat 5-6 small meals instead of 3 big ones
 **Avoid**: raw fish, unwashed produce (your immune system is weaker right now)

If food tastes different or you have no appetite, that's normal. Try bland foods like crackers, toast, or soup.`:Y.includes("exercise")||Y.includes("activity")||Y.includes("walk")||Y.includes("workout")?`Light activity is good for you! But take it easy:

 **OK to do**: Short walks, gentle stretching, light housework
 **Avoid for now**: Heavy lifting, intense workouts, contact sports

Listen to your body - if you feel tired, rest. Start with 10-15 minute walks and increase slowly. Exercise can actually help reduce fatigue!`:Y.includes("allergy")||Y.includes("allergic")||Y.includes("contrast")?"You have a mild allergy to iodinated contrast dye (used in some CT scans). It causes hives. This is in your medical record, but always remind any doctor or technician before you have imaging done. For MRI scans, a different type of contrast is used that is safe for you.":Y.includes("emergency")||Y.includes("call")||Y.includes("help")||Y.includes("worried")?`Call your doctor or go to the ER if you have:

 **Call 911**: Seizure, sudden severe headache, confusion, trouble speaking or moving

 **Call Dr. Wilson**: Fever over 100.4F, severe nausea/vomiting, unusual bleeding or bruising, signs of infection

You can also message through the patient portal for non-urgent questions.`:`Hi! I'm here to help you understand your health. You can ask me about:

 Your brain tumor diagnosis
 Your medications and what they do
 Managing side effects like tiredness or nausea
 Your treatment schedule and next steps
 Diet and activity during treatment
 When to call your doctor

What would you like to know?`}};return w?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#FAFAFA"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E5E5",borderTopColor:"#0A0A0A",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 1rem"}}),f.jsx("p",{style:{color:"#525252",fontSize:"0.875rem"},children:"Loading your dashboard..."})]})}):f.jsxs("div",{style:{minHeight:"100vh",background:"#FAFAFA"},children:[f.jsxs("header",{style:{background:"#FFFFFF",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",position:"sticky",top:0,zIndex:100},children:[f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("img",{src:"/images/Black Elephant Flat Illustrative Company Logo.png",alt:"Amma",style:{height:"32px",width:"32px",objectFit:"contain"}}),f.jsxs("div",{children:[f.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:"Patient Portal"}),f.jsxs("p",{style:{margin:0,fontSize:"0.8125rem",color:"#A3A3A3"},children:["Welcome, ",a.split(" ")[0]]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[m&&f.jsxs("button",{onClick:Q,style:{background:"#F5F5F5",border:"1px solid rgba(0, 0, 0, 0.06)",borderRadius:"8px",padding:"0.5rem 0.875rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:$=>$.currentTarget.style.borderColor="#0A0A0A",onMouseLeave:$=>$.currentTarget.style.borderColor="rgba(0, 0, 0, 0.06)",children:[f.jsx("span",{style:{fontSize:"0.6875rem",color:"#A3A3A3",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.04em"},children:"ID"}),f.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",fontFamily:"monospace",color:"#0A0A0A"},children:Zp(m)}),y?f.jsx(rw,{size:14,color:"#059669"}):f.jsx(lw,{size:14,color:"#A3A3A3"})]}),f.jsxs("button",{onClick:()=>s("/"),style:{padding:"0.5rem 0.875rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:$=>{$.currentTarget.style.borderColor="#0A0A0A",$.currentTarget.style.color="#0A0A0A"},onMouseLeave:$=>{$.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",$.currentTarget.style.color="#525252"},children:[f.jsx(cw,{size:14}),"Home"]}),f.jsxs("button",{onClick:ee,style:{padding:"0.5rem 0.875rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:$=>$.currentTarget.style.opacity="0.85",onMouseLeave:$=>$.currentTarget.style.opacity="1",children:[f.jsx(qu,{size:14}),"Logout"]})]})]}),f.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 2rem",display:"flex",gap:"0.25rem",borderTop:"1px solid rgba(0, 0, 0, 0.04)"},children:[{id:"diagnosis",label:"Diagnosis Video",icon:Sr},{id:"chat",label:"AI Assistant",icon:dw},{id:"recovery",label:"Recovery Plan",icon:aw}].map($=>{const oe=$.icon,de=k===$.id;return f.jsxs("button",{onClick:()=>j($.id),style:{padding:"0.875rem 1.25rem",background:"transparent",border:"none",borderBottom:`2px solid ${de?"#0A0A0A":"transparent"}`,color:de?"#0A0A0A":"#A3A3A3",fontWeight:de?"600":"500",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.15s ease-out",display:"flex",alignItems:"center",gap:"0.5rem",fontFamily:"inherit",letterSpacing:"-0.01em"},onMouseEnter:Y=>{de||(Y.currentTarget.style.color="#525252")},onMouseLeave:Y=>{de||(Y.currentTarget.style.color="#A3A3A3")},children:[f.jsx(oe,{size:16}),$.label]},$.id)})})]}),f.jsxs("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[k==="diagnosis"&&f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"2rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",marginBottom:"0.25rem",letterSpacing:"-0.02em"},children:"Your Personalized Video"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",margin:0},children:"Watch to understand your diagnosis and treatment plan"})]}),_?f.jsx("div",{style:{borderRadius:"8px",overflow:"hidden",background:"#000"},children:f.jsx("video",{controls:!0,style:{width:"100%",maxHeight:"500px",display:"block"},src:_})}):f.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"#F9FAFB",borderRadius:"8px",border:"1px dashed rgba(0, 0, 0, 0.1)"},children:[f.jsx(Sr,{size:40,color:"#A3A3A3",style:{opacity:.5}}),f.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#525252",margin:"1rem 0 0.5rem"},children:"No Video Available Yet"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",maxWidth:"400px",margin:"0 auto"},children:"Your doctor will generate a personalized video explanation of your diagnosis."})]})]}),k==="chat"&&f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"2rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",marginBottom:"0.25rem",letterSpacing:"-0.02em"},children:"AI Health Assistant"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",margin:0},children:"Ask questions about your condition, medications, and recovery"})]}),f.jsx("div",{style:{minHeight:"350px",maxHeight:"450px",overflowY:"auto",marginBottom:"1rem",padding:"1.25rem",background:"#F9FAFB",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.04)"},children:q.length===0?f.jsxs("div",{style:{textAlign:"center",paddingTop:"2.5rem"},children:[f.jsx(ow,{size:36,color:"#A3A3A3",style:{opacity:.5}}),f.jsx("p",{style:{color:"#A3A3A3",marginTop:"0.75rem",fontSize:"0.875rem"},children:"Start by asking a question below"}),f.jsx("div",{style:{marginTop:"1.25rem",display:"flex",flexDirection:"column",gap:"0.5rem",maxWidth:"400px",margin:"1.25rem auto 0"},children:["What is my diagnosis?","Tell me about my medications","How long will recovery take?"].map(($,oe)=>f.jsx("button",{onClick:()=>K($),style:{padding:"0.625rem 0.875rem",background:"white",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"6px",color:"#525252",fontSize:"0.8125rem",cursor:"pointer",transition:"all 0.15s ease-out",textAlign:"left",fontFamily:"inherit"},onMouseEnter:de=>{de.currentTarget.style.borderColor="#0A0A0A",de.currentTarget.style.color="#0A0A0A"},onMouseLeave:de=>{de.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",de.currentTarget.style.color="#525252"},children:$},oe))})]}):f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[q.map(($,oe)=>f.jsxs("div",{children:[f.jsx("div",{style:{display:"flex",justifyContent:$.role==="user"?"flex-end":"flex-start"},children:f.jsx("div",{style:{maxWidth:"70%",padding:"0.75rem 1rem",borderRadius:$.role==="user"?"12px 12px 4px 12px":"12px 12px 12px 4px",background:$.role==="user"?"#0A0A0A":"white",color:$.role==="user"?"white":"#0A0A0A",border:$.role==="user"?"none":"1px solid rgba(0, 0, 0, 0.06)",fontSize:"0.875rem",lineHeight:"1.5"},children:$.content})}),$.videoUrl&&f.jsx("div",{style:{marginTop:"0.75rem",borderRadius:"8px",overflow:"hidden",maxWidth:"70%"},children:f.jsx("video",{controls:!0,style:{width:"100%",display:"block"},src:$.videoUrl})}),$.role==="assistant"&&!$.videoUrl&&f.jsx("div",{style:{marginTop:"0.375rem"},children:f.jsxs("button",{onClick:()=>B(),style:{padding:"0.375rem 0.75rem",background:"#0A0A0A",border:"none",borderRadius:"6px",color:"white",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",fontFamily:"inherit",transition:"opacity 0.15s ease-out"},onMouseEnter:de=>de.currentTarget.style.opacity="0.85",onMouseLeave:de=>de.currentTarget.style.opacity="1",children:[f.jsx(Sr,{size:12}),"Generate Video"]})})]},oe)),ne&&f.jsxs("div",{style:{display:"flex",gap:"0.375rem",alignItems:"center",color:"#A3A3A3"},children:[f.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#0A0A0A",animation:"pulse 1.5s ease-in-out infinite"}}),f.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#0A0A0A",animation:"pulse 1.5s ease-in-out 0.2s infinite"}}),f.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#0A0A0A",animation:"pulse 1.5s ease-in-out 0.4s infinite"}}),f.jsx("span",{style:{marginLeft:"0.375rem",fontSize:"0.8125rem"},children:"Thinking..."})]})]})}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("textarea",{value:L,onChange:$=>K($.target.value),onKeyPress:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),fe())},placeholder:"Ask a question about your health...",style:{flex:1,padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",fontSize:"0.875rem",fontFamily:"inherit",resize:"none",minHeight:"48px",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:$=>$.target.style.borderColor="#0A0A0A",onBlur:$=>$.target.style.borderColor="rgba(0, 0, 0, 0.08)"}),f.jsxs("button",{onClick:fe,disabled:!L.trim()||ne,style:{padding:"0.75rem 1.25rem",background:L.trim()&&!ne?"#0A0A0A":"#E5E5E5",border:"none",borderRadius:"8px",color:"white",fontWeight:"500",fontSize:"0.875rem",cursor:L.trim()&&!ne?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"0.375rem",fontFamily:"inherit",transition:"opacity 0.15s ease-out"},children:[f.jsx(vw,{size:14}),"Send"]})]})]}),k==="recovery"&&f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"2rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",marginBottom:"0.25rem",letterSpacing:"-0.02em"},children:"30-Day Recovery Plan"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",margin:0},children:"Your personalized recovery milestones and educational videos"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:we.map(($,oe)=>{const de=I(),Y=$.day<=de,qe=$.day===de;return f.jsxs("div",{onClick:()=>Y&&Te($),style:{background:qe?"#0A0A0A":Y?"white":"#F9FAFB",borderRadius:"10px",padding:"1.25rem",border:Y?"1px solid rgba(0, 0, 0, 0.06)":"1px dashed rgba(0, 0, 0, 0.1)",opacity:Y?1:.5,cursor:Y?"pointer":"not-allowed",transition:"all 0.15s ease-out",color:qe?"white":"#0A0A0A"},onMouseEnter:ft=>{Y&&!qe&&(ft.currentTarget.style.borderColor="#0A0A0A",ft.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:ft=>{Y&&!qe&&(ft.currentTarget.style.borderColor="rgba(0, 0, 0, 0.06)",ft.currentTarget.style.transform="translateY(0)")},children:[f.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem",color:qe?"white":"#0A0A0A"},children:["Day ",$.day]}),f.jsx("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",marginBottom:"0.375rem",color:qe?"white":"#0A0A0A"},children:$.title}),f.jsx("p",{style:{fontSize:"0.8125rem",color:qe?"rgba(255, 255, 255, 0.8)":"#A3A3A3",lineHeight:"1.4",marginBottom:"0.75rem"},children:$.description}),Y?f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"0.8125rem",fontWeight:"600",color:qe?"white":"#0A0A0A"},children:[f.jsx(Sr,{size:14}),qe?"Watch Now":"Available"]}):f.jsxs("div",{style:{fontSize:"0.75rem",color:"#A3A3A3",fontWeight:"500"},children:[" Unlocks Day ",$.day]})]},oe)})}),f.jsxs("div",{style:{marginTop:"2rem",padding:"1.25rem",background:"#F9FAFB",borderRadius:"10px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[f.jsx("span",{style:{fontSize:"0.8125rem",fontWeight:"600",color:"#0A0A0A"},children:"Recovery Progress"}),f.jsxs("span",{style:{fontSize:"0.8125rem",fontWeight:"600",color:"#0A0A0A"},children:["Day ",I()," of 30"]})]}),f.jsx("div",{style:{width:"100%",height:"8px",background:"#E5E5E5",borderRadius:"4px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${I()/30*100}%`,height:"100%",background:"#0A0A0A",transition:"width 0.3s ease"}})})]})]}),Me&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"2rem",animation:"fadeIn 0.15s ease-out"},onClick:()=>Te(null),children:f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"16px",width:"100%",maxWidth:"800px",overflow:"hidden",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.3)",animation:"slideUp 0.2s ease-out"},onClick:$=>$.stopPropagation(),children:[f.jsx("div",{style:{background:"#000"},children:f.jsx("video",{controls:!0,autoPlay:!0,style:{width:"100%",maxHeight:"450px",display:"block"},src:Me.videoUrl})}),f.jsxs("div",{style:{padding:"1.5rem"},children:[f.jsxs("div",{style:{display:"inline-block",padding:"0.25rem 0.75rem",background:"#0A0A0A",borderRadius:"20px",color:"white",fontSize:"0.75rem",fontWeight:"600",marginBottom:"0.75rem"},children:["Day ",Me.day]}),f.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 0.5rem 0",letterSpacing:"-0.02em"},children:Me.title}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#525252",margin:"0 0 1rem 0",lineHeight:"1.5"},children:Me.description}),f.jsx("button",{onClick:()=>Te(null),style:{padding:"0.625rem 1.25rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontWeight:"500",fontSize:"0.875rem",cursor:"pointer",fontFamily:"inherit",transition:"opacity 0.15s ease-out"},onMouseEnter:$=>$.currentTarget.style.opacity="0.85",onMouseLeave:$=>$.currentTarget.style.opacity="1",children:"Close"})]})]})})]}),f.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 1; }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}async function Sw(s,a){const r=sessionStorage.getItem("epic_oauth_state");if(a!==r)return console.error("State mismatch - possible CSRF attack"),{success:!1,error:"State mismatch"};try{return console.log("Processing Epic callback with code:",s),sessionStorage.removeItem("epic_oauth_state"),sessionStorage.setItem("epic_connected","true"),sessionStorage.setItem("epic_connected_at",new Date().toISOString()),{success:!0}}catch(l){return console.error("Epic callback error:",l),{success:!1,error:l.message}}}function xw(){return sessionStorage.getItem("epic_connected")==="true"}function Aw(){sessionStorage.removeItem("epic_connected"),sessionStorage.removeItem("epic_connected_at"),sessionStorage.removeItem("epic_oauth_state")}function Ew({doctorEmail:s}){const[a,r]=C.useState(!1),[l,c]=C.useState(!0),[u,h]=C.useState(!1),[m,p]=C.useState(!1);C.useEffect(()=>{y()},[s]);const y=async()=>{try{const S=await xw(s);r(S)}catch(S){console.error("Error checking Epic connection:",S)}c(!1)},b=async()=>{h(!0),setTimeout(()=>{sessionStorage.setItem("epic_connected","true"),sessionStorage.setItem("epic_connected_at",new Date().toISOString()),r(!0),h(!1)},800)},_=async()=>{if(confirm("Disconnect from FHIR? You will need to reconnect to access patient data.")){p(!0);try{await Aw(s),r(!1)}catch(S){console.error("Error disconnecting:",S),alert("Failed to disconnect: "+S.message)}p(!1)}};return l?f.jsx("div",{style:{padding:"0.5rem 0.75rem",fontSize:"0.8125rem",color:"#A3A3A3",letterSpacing:"-0.01em"},children:"Checking..."}):f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.625rem",background:a?"rgba(16, 185, 129, 0.08)":"transparent",borderRadius:"4px",border:a?"none":"1px solid rgba(0, 0, 0, 0.08)"},children:[f.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:a?"#10B981":"#A3A3A3"}}),f.jsx("span",{style:{fontSize:"0.8125rem",fontWeight:"500",color:a?"#059669":"#525252",letterSpacing:"-0.01em"},children:a?"FHIR Connected":"FHIR"})]}),a?f.jsx("button",{onClick:_,disabled:m,style:{padding:"0.375rem 0.625rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"4px",color:"#525252",fontSize:"0.75rem",fontWeight:"500",letterSpacing:"-0.01em",cursor:m?"not-allowed":"pointer",transition:"all 0.15s ease-out",fontFamily:"inherit",opacity:m?.5:1},onMouseOver:S=>{m||(S.target.style.borderColor="#0A0A0A",S.target.style.color="#0A0A0A")},onMouseOut:S=>{m||(S.target.style.borderColor="rgba(0, 0, 0, 0.08)",S.target.style.color="#525252")},children:m?"...":"Disconnect"}):f.jsx("button",{onClick:b,disabled:u,style:{padding:"0.375rem 0.625rem",background:"#0A0A0A",border:"none",borderRadius:"4px",color:"white",fontSize:"0.75rem",fontWeight:"500",letterSpacing:"-0.01em",cursor:u?"not-allowed":"pointer",transition:"all 0.15s ease-out",fontFamily:"inherit",opacity:u?.7:1},onMouseOver:S=>{u||(S.target.style.opacity="0.85")},onMouseOut:S=>{u||(S.target.style.opacity="1")},children:u?"Connecting...":"Connect"})]})}const ul=[{email:"anish.polakala@example.com",name:"Anish Polakala",patientKey:"630651557",profilePicture:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"},{email:"priya.venkatesh@example.com",name:"Priya Venkatesh",patientKey:"847291536",profilePicture:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face"},{email:"kwame.asante@example.com",name:"Kwame Asante",patientKey:"562839147",profilePicture:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face"},{email:"mei.tanaka@example.com",name:"Mei Tanaka",patientKey:"391847562",profilePicture:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"},{email:"adaeze.okonkwo@example.com",name:"Adaeze Okonkwo",patientKey:"725183946",profilePicture:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=150&h=150&fit=crop&crop=face"},{email:"raj.malhotra@example.com",name:"Raj Malhotra",patientKey:"483926175",profilePicture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"},{email:"hana.kim@example.com",name:"Hana Kim",patientKey:"619284753",profilePicture:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face"},{email:"chidi.eze@example.com",name:"Chidi Eze",patientKey:"258374916",profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"},{email:"sunita.sharma@example.com",name:"Sunita Sharma",patientKey:"847162935",profilePicture:"https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb?w=150&h=150&fit=crop&crop=face"},{email:"tunde.williams@example.com",name:"Tunde Williams",patientKey:"936582714",profilePicture:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150&h=150&fit=crop&crop=face"},{email:"yuki.nakamura@example.com",name:"Yuki Nakamura",patientKey:"174629385",profilePicture:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face"},{email:"amara.diallo@example.com",name:"Amara Diallo",patientKey:"593847261",profilePicture:"https://images.unsplash.com/photo-1507152832244-10d45c7eda57?w=150&h=150&fit=crop&crop=face"},{email:"vikram.patel@example.com",name:"Vikram Patel",patientKey:"628174953",profilePicture:"https://images.unsplash.com/photo-1542178243-bc20204b769f?w=150&h=150&fit=crop&crop=face"},{email:"nneka.uche@example.com",name:"Nneka Uche",patientKey:"481726395",profilePicture:"https://images.unsplash.com/photo-1523824921871-d6f1a15151f1?w=150&h=150&fit=crop&crop=face"}];function jw(){const s=en(),[a,r]=C.useState("Doctor"),[l,c]=C.useState(""),[u,h]=C.useState(""),[m,p]=C.useState([]),[y,b]=C.useState(!0),[_,S]=C.useState(!1),[w,E]=C.useState(""),[k,j]=C.useState("");C.useEffect(()=>{q()},[]);const q=async()=>{try{const O=await Mi();if(!O||O.userType!=="doctor"){alert(" No active session found! Please log in."),s("/login");return}c(O.email),h(O.profilePicture||""),await F(O.email,O.name),L(O.email)}catch(O){console.error(" Error checking session:",O),alert("Error loading profile: "+O.message),s("/login")}},F=async(O,ae)=>{try{const{data:Z,error:_e}=await be.from("users").select("first_name, last_name").eq("email",O).eq("user_type","doctor").single();if(_e)throw _e;if(Z&&(Z.first_name||Z.last_name)){const we=`${Z.first_name||""} ${Z.last_name||""}`.trim();r(we||ae)}else r(ae)}catch(Z){console.log("Error loading doctor name:",Z),r(ae)}},L=async O=>{try{const{data:ae,error:Z}=await be.from("doctor_patients").select("patient_email, patient_key").eq("doctor_email",O);if(Z){console.error("Error loading patient links:",Z),p(ul),b(!1);return}let _e=[];if(ae&&ae.length>0){const M=ae.map(D=>D.patient_email);let W=null;try{W=(await be.from("users").select("email, first_name, last_name, profile_picture").in("email",M).eq("user_type","patient")).data}catch{W=(await be.from("users").select("email, first_name, last_name").in("email",M).eq("user_type","patient")).data}_e=ae.map(D=>{const X=W?.find(ee=>ee.email===D.patient_email),J=X?.first_name||D.patient_email.split("@")[0],A=X?.last_name||"",I=`${J} ${A}`.trim(),Q=X?.profile_picture||null;return{email:D.patient_email,name:I||D.patient_email,patientKey:D.patient_key,profilePicture:Q}})}const we=new Set(_e.map(M=>M.email)),ke=ul.filter(M=>!we.has(M.email)),Me=ul.find(M=>M.name==="Anish Polakala"),Te=ke.filter(M=>M.name!=="Anish Polakala"),Ce=[...Me&&!we.has(Me.email)?[Me]:[],..._e.filter(M=>M.email!=="anish.polakala@example.com"),...Te];p(Ce)}catch(ae){console.error("Error in loadPatients:",ae),p(ul)}b(!1)},K=async()=>{if(!w.trim()){alert("Please enter a patient ID");return}const O=K2(w);if(!Y2(O)){alert(" Invalid Patient ID format. Please check and try again.");return}try{const{data:ae,error:Z}=await be.from("users").select("email, first_name, last_name, patient_key, profile_picture").eq("patient_key",O).eq("user_type","patient").single();if(Z||!ae){alert(" No patient found with this ID. Please check the ID and try again.");return}const{data:_e}=await be.from("doctor_patients").select("*").eq("doctor_email",l).eq("patient_email",ae.email).single();if(_e){alert(" This patient is already in your roster!"),S(!1),E("");return}const{error:we}=await be.from("doctor_patients").insert([{doctor_email:l,patient_email:ae.email,patient_key:O}]);if(we){console.error("Error linking patient:",we),alert(" Error adding patient: "+we.message);return}alert(" Patient added successfully!"),S(!1),E(""),L(l)}catch(ae){console.error("Error adding patient:",ae),alert(" Error adding patient: "+ae.message)}},ne=async()=>{await Hu(),s("/")},te=m.filter(O=>O.name.toLowerCase().includes(k.toLowerCase())||O.email.toLowerCase().includes(k.toLowerCase())||O.patientKey&&O.patientKey.includes(k));return y?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#FAFAFA"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E5E5",borderTopColor:"#0A0A0A",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 1rem"}}),f.jsx("p",{style:{color:"#525252",fontSize:"0.875rem"},children:"Loading dashboard..."})]})}):f.jsxs("div",{style:{minHeight:"100vh",background:"#FAFAFA"},children:[f.jsx("header",{style:{background:"#FFFFFF",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",position:"sticky",top:0,zIndex:100},children:f.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("img",{src:"/images/Black Elephant Flat Illustrative Company Logo.png",alt:"Amma",style:{height:"32px",width:"32px",objectFit:"contain"}}),f.jsxs("div",{children:[f.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:"Clinical Dashboard"}),f.jsxs("p",{style:{margin:0,fontSize:"0.8125rem",color:"#A3A3A3"},children:["Welcome, Dr. ",a.split(" ")[0]]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[f.jsx(Ew,{doctorEmail:l}),f.jsxs("button",{onClick:()=>s("/doctor/settings"),style:{padding:"0.5rem 0.875rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:O=>{O.currentTarget.style.borderColor="#0A0A0A",O.currentTarget.style.color="#0A0A0A"},onMouseLeave:O=>{O.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",O.currentTarget.style.color="#525252"},children:[f.jsx(bw,{size:14}),"Settings"]}),f.jsxs("button",{onClick:ne,style:{padding:"0.5rem 0.875rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"all 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:O=>O.currentTarget.style.opacity="0.85",onMouseLeave:O=>O.currentTarget.style.opacity="1",children:[f.jsx(qu,{size:14}),"Logout"]})]})]})}),f.jsxs("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[f.jsxs("div",{children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 0.25rem 0",letterSpacing:"-0.02em"},children:"Patient Roster"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",margin:0},children:"Manage your patients and access their medical records"})]}),f.jsxs("button",{onClick:()=>S(!0),style:{padding:"0.75rem 1.25rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontWeight:"600",fontSize:"0.9375rem",cursor:"pointer",transition:"all 0.15s ease-out",display:"flex",alignItems:"center",gap:"0.5rem",fontFamily:"inherit",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onMouseEnter:O=>{O.currentTarget.style.opacity="0.85",O.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:O=>{O.currentTarget.style.opacity="1",O.currentTarget.style.transform="translateY(0)"},children:[f.jsx(mw,{size:18}),"Sync Patient"]})]}),m.length>0&&f.jsx("div",{style:{marginBottom:"1.5rem"},children:f.jsxs("div",{style:{position:"relative",maxWidth:"400px"},children:[f.jsx(yw,{size:16,style:{position:"absolute",left:"0.875rem",top:"50%",transform:"translateY(-50%)",color:"#A3A3A3"}}),f.jsx("input",{type:"text",placeholder:"Search patients...",value:k,onChange:O=>j(O.target.value),style:{width:"100%",padding:"0.625rem 0.875rem 0.625rem 2.5rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",background:"white",fontSize:"0.875rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:O=>O.target.style.borderColor="#0A0A0A",onBlur:O=>O.target.style.borderColor="rgba(0, 0, 0, 0.08)"})]})}),f.jsx("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:te.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",background:"#F9FAFB",borderRadius:"8px",border:"1px dashed rgba(0, 0, 0, 0.08)"},children:[f.jsx(_w,{size:40,color:"#A3A3A3",style:{opacity:.5}}),f.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#525252",marginTop:"1rem",marginBottom:"0.5rem"},children:k?"No Patients Found":"No Patients Yet"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",maxWidth:"400px",margin:"0 auto 1rem"},children:k?`No patients match "${k}".`:'Start by clicking "Add Patient" to sync with a patient using their ID.'}),!k&&f.jsx("div",{style:{padding:"0.5rem 1rem",background:"#F0F0F0",borderRadius:"6px",display:"inline-block",fontSize:"0.75rem",fontWeight:"500",color:"#525252"},children:" Patients share their 9-digit ID with you"})]}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:te.map((O,ae)=>f.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"1rem 1.25rem",border:"1px solid rgba(0, 0, 0, 0.04)",transition:"all 0.15s ease-out",cursor:"pointer",display:"flex",alignItems:"center",gap:"1rem"},onMouseEnter:Z=>{Z.currentTarget.style.borderColor="rgba(0, 0, 0, 0.12)",Z.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)"},onMouseLeave:Z=>{Z.currentTarget.style.borderColor="rgba(0, 0, 0, 0.04)",Z.currentTarget.style.boxShadow="none"},onClick:()=>s("/patient-files",{state:{patientEmail:O.email,patientName:O.name}}),children:[f.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"50%",overflow:"hidden",border:"1px solid rgba(0, 0, 0, 0.06)",flexShrink:0},children:O.profilePicture?f.jsx("img",{src:O.profilePicture,alt:O.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",background:"#F5F5F5",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(xu,{size:20,color:"#A3A3A3"})})}),f.jsx("div",{style:{flex:1,minWidth:0},children:f.jsx("h3",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#0A0A0A",margin:0,letterSpacing:"-0.01em"},children:O.name})}),f.jsx("div",{style:{background:"#F5F5F5",padding:"0.375rem 0.75rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600",color:"#525252",fontFamily:"monospace",letterSpacing:"0.02em",flexShrink:0},children:O.patientKey?Zp(O.patientKey):"No ID"}),f.jsxs("button",{onClick:Z=>{Z.stopPropagation(),s("/patient-files",{state:{patientEmail:O.email,patientName:O.name}})},style:{padding:"0.5rem 0.875rem",background:"#0A0A0A",color:"white",border:"none",borderRadius:"6px",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",fontFamily:"inherit",transition:"opacity 0.15s ease-out",flexShrink:0},onMouseEnter:Z=>Z.currentTarget.style.opacity="0.85",onMouseLeave:Z=>Z.currentTarget.style.opacity="1",children:[f.jsx(ag,{size:14}),"Manage"]})]},ae))})})]}),_&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(250, 250, 250, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"1.5rem",animation:"fadeIn 0.15s ease-out"},onClick:()=>S(!1),children:f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"16px",padding:"2rem",width:"100%",maxWidth:"400px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.06)",animation:"slideUp 0.2s ease-out",position:"relative"},onClick:O=>O.stopPropagation(),children:[f.jsx("button",{onClick:()=>S(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",color:"#A3A3A3",transition:"color 0.15s ease-out"},onMouseEnter:O=>O.currentTarget.style.color="#0A0A0A",onMouseLeave:O=>O.currentTarget.style.color="#A3A3A3",children:f.jsx(ig,{size:20})}),f.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem",color:"#0A0A0A",letterSpacing:"-0.02em"},children:"Sync with Patient"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",marginBottom:"1.5rem"},children:"Enter the patient's 9-digit ID to connect"}),f.jsx("input",{type:"text",value:w,onChange:O=>E(O.target.value),placeholder:"123-456-789",maxLength:"11",style:{width:"100%",padding:"0.875rem 1rem",fontSize:"1.125rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",marginBottom:"0.75rem",fontFamily:"monospace",textAlign:"center",letterSpacing:"0.1em",fontWeight:"600",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:O=>O.target.style.borderColor="#0A0A0A",onBlur:O=>O.target.style.borderColor="rgba(0, 0, 0, 0.08)",onKeyPress:O=>O.key==="Enter"&&K(),autoFocus:!0}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",marginBottom:"1.5rem",textAlign:"center"},children:"Ask your patient for their ID from their profile"}),f.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[f.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"0.75rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontWeight:"500",cursor:"pointer",fontSize:"0.9375rem",fontFamily:"inherit",transition:"all 0.15s ease-out"},onMouseEnter:O=>{O.currentTarget.style.borderColor="#0A0A0A",O.currentTarget.style.color="#0A0A0A"},onMouseLeave:O=>{O.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",O.currentTarget.style.color="#525252"},children:"Cancel"}),f.jsx("button",{onClick:K,style:{flex:1,padding:"0.75rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontWeight:"500",cursor:"pointer",fontSize:"0.9375rem",fontFamily:"inherit",transition:"opacity 0.15s ease-out"},onMouseEnter:O=>O.currentTarget.style.opacity="0.85",onMouseLeave:O=>O.currentTarget.style.opacity="1",children:"Sync Patient"})]})]})}),f.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(8px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function Tw(){const s=en(),a=on(),{patientEmail:r,patientName:l}=a.state||{},[c,u]=C.useState(""),[h,m]=C.useState([]),[p,y]=C.useState(""),[b,_]=C.useState(!0),[S,w]=C.useState(!1),[E,k]=C.useState(!1),[j,q]=C.useState(null),[F,L]=C.useState(!1),[K,ne]=C.useState(null),[te,O]=C.useState(!0);C.useEffect(()=>{ae()},[]);const ae=async()=>{const D=await Mi();if(!D||D.userType!=="doctor"){alert(" No active session found! Please log in."),s("/login");return}if(!r){alert(" Missing patient information"),s("/doctor");return}u(D.email),await Promise.all([Z(D.email,r),_e(D.email,r)])},Z=async(D,X)=>{try{const{data:J,error:A}=await be.from("patient_files").select("*").eq("patient_email",X).order("uploaded_at",{ascending:!1});if(A)console.error("Error loading files:",A);else if(J){const I=J.filter(ee=>ee.file_type==="file"),Q=J.find(ee=>ee.file_type==="video");m(I),y(Q?.file_url||"")}}catch(J){console.log("Error loading files:",J)}_(!1)},_e=async(D,X)=>{try{const{data:J,error:A}=await be.from("epic_patient_data").select("*").eq("doctor_email",D).eq("epic_patient_id",X).single();J&&q({...J,conditions:J.diagnoses,date_of_birth:J.patient_dob})}catch(J){console.log("No patient data found:",J)}},we=(D,X)=>{const J=(D||"").toLowerCase(),A=(X||"").toLowerCase();return J.includes("anish")||A.includes("anish")?{patient_name:"Polakala, Anish R.",patient_dob:"03/14/1992",gender:"Male",epic_mrn:"MRN-2847591",insurance:"Blue Cross Blue Shield PPO",pcp:"Dr. Sarah Chen, MD",last_visit:"12/15/2024",clinical_notes:`CHIEF COMPLAINT: Follow-up for glioblastoma multiforme, adjuvant chemotherapy cycle 4.

HISTORY OF PRESENT ILLNESS: Mr. Polakala is a 32-year-old male with Grade IV GBM of the right temporal lobe diagnosed June 2024 after presenting with new-onset seizures and word-finding difficulty. Underwent craniotomy with gross total resection 06/18/2024 (Dr. Martinez). Pathology: GBM, IDH-wildtype, MGMT unmethylated. Completed concurrent chemoradiation per Stupp protocol. Now in cycle 4 of adjuvant temozolomide.

Current symptoms: Mild fatigue (grade 1), occasional nausea managed with ondansetron. No new neurological symptoms. Seizure-free on levetiracetam. ECOG PS 1.

PHYSICAL EXAM: A&Ox3, CN II-XII intact, no focal deficits, speech fluent, gait steady.

ASSESSMENT & PLAN:
1. GBM right temporal lobe - Continue TMZ cycle 5 starting 01/12/2025. MRI brain w/contrast 01/08/2025.
2. Seizure disorder - Well-controlled on Keppra. Continue current dose.
3. Cerebral edema - Dex taper in progress, reduce to 2mg daily next week.
4. Supportive care - Continue omeprazole, ondansetron PRN.

Return 4 weeks. Clinical trial discussion pending MRI results.`,diagnoses:[{name:"Malignant neoplasm of brain, unspecified",code:"C71.9",status:"Active",onset:"06/15/2024",priority:"Primary"},{name:"Cerebral edema",code:"G93.6",status:"Active",onset:"06/20/2024",priority:"Secondary"},{name:"Epilepsy, unspecified, not intractable",code:"G40.909",status:"Controlled",onset:"07/01/2024",priority:"Secondary"},{name:"Encounter for antineoplastic chemotherapy",code:"Z51.11",status:"Active",onset:"07/15/2024",priority:"Secondary"}],medications:[{name:"Temozolomide 140mg",sig:"Take 1 capsule by mouth daily on days 1-5 every 28 days",prescriber:"Dr. James Wilson",pharmacy:"CVS Specialty #4521",refills:2},{name:"Dexamethasone 4mg",sig:"Take 1 tablet by mouth twice daily with food",prescriber:"Dr. James Wilson",pharmacy:"CVS Specialty #4521",refills:3},{name:"Levetiracetam 500mg",sig:"Take 1 tablet by mouth twice daily",prescriber:"Dr. James Wilson",pharmacy:"CVS Specialty #4521",refills:5},{name:"Omeprazole 20mg",sig:"Take 1 capsule by mouth daily before breakfast",prescriber:"Dr. James Wilson",pharmacy:"CVS Specialty #4521",refills:5},{name:"Ondansetron 8mg ODT",sig:"Dissolve 1 tablet under tongue every 8 hours as needed for nausea",prescriber:"Dr. James Wilson",pharmacy:"CVS Specialty #4521",refills:2}],allergies:[{substance:"Iodinated contrast media",reaction:"Urticaria (hives)",severity:"Mild",verified:"06/14/2024"}],vitals:{date:"12/15/2024 09:32 AM",bp_systolic:"122",bp_diastolic:"78",pulse:"76",temp:"98.4",resp:"16",spo2:"98",weight:"175",height:"70",bmi:"25.1"},labs:[{name:"WBC",value:"5.2",unit:"K/uL",range:"4.5-11.0",date:"12/10/2024"},{name:"Hemoglobin",value:"13.8",unit:"g/dL",range:"13.5-17.5",date:"12/10/2024"},{name:"Platelets",value:"185",unit:"K/uL",range:"150-400",date:"12/10/2024"},{name:"ANC",value:"3.1",unit:"K/uL",range:">1.5",date:"12/10/2024"},{name:"Creatinine",value:"0.9",unit:"mg/dL",range:"0.7-1.3",date:"12/10/2024"},{name:"ALT",value:"28",unit:"U/L",range:"7-56",date:"12/10/2024"}]}:J.includes("keisha")||A.includes("keisha")||A.includes("washington")?{patient_name:"Washington, Keisha M.",patient_dob:"11/22/1988",gender:"Female",epic_mrn:"MRN-3847562",insurance:"Aetna HMO",pcp:"Dr. Michael Roberts, MD",last_visit:"12/12/2024",clinical_notes:`CHIEF COMPLAINT: Asthma follow-up, routine maintenance visit.

HISTORY OF PRESENT ILLNESS: Ms. Washington is a 36-year-old female with moderate persistent asthma since age 27, complicated by aspirin-exacerbated respiratory disease (AERD). Current control: well-controlled on ICS/LABA + LTRA. Last exacerbation 3 months ago triggered by viral URI, required 5-day prednisone burst, resolved completely. No ED visits or hospitalizations in past year.

Current symptoms: Occasional nighttime cough 1-2x/month, uses rescue inhaler 1-2x/week. Denies wheezing at rest, exercise-limited symptoms, or nocturnal awakening. Peak flow diary: 85-95% personal best consistently. Avoids known triggers (cats, NSAIDs, smoke).

PHYSICAL EXAM: Lungs clear to auscultation bilaterally, no wheezes/rhonchi. No nasal polyps visualized. Oropharynx clear.

ASSESSMENT & PLAN:
1. Moderate persistent asthma - Well controlled. Continue Advair 250/50 BID, albuterol PRN. Inhaler technique reviewed - good form.
2. AERD - Strict NSAID avoidance. Medical alert bracelet discussed.
3. Allergic rhinitis - Stable on montelukast.
4. Prevention - Influenza vaccine administered today. COVID booster discussed, patient to schedule.
5. Vitamin D deficiency - Stable on supplementation, recheck level in 6 months.

Return 3 months or PRN for exacerbation. Asthma action plan reviewed.`,diagnoses:[{name:"Moderate persistent asthma, uncomplicated",code:"J45.40",status:"Active",onset:"04/10/2015",priority:"Primary"},{name:"Allergic rhinitis, unspecified",code:"J30.9",status:"Active",onset:"04/10/2015",priority:"Secondary"},{name:"Aspirin-induced asthma",code:"J45.991",status:"Active",onset:"05/22/2018",priority:"Secondary"},{name:"Vitamin D deficiency, unspecified",code:"E55.9",status:"Active",onset:"01/15/2023",priority:"Secondary"}],medications:[{name:"Fluticasone-Salmeterol 250-50mcg",sig:"Inhale 1 puff by mouth twice daily. Rinse mouth after use.",prescriber:"Dr. Lisa Park",pharmacy:"Walgreens #1847",refills:3},{name:"Albuterol HFA 90mcg",sig:"Inhale 2 puffs by mouth every 4-6 hours as needed for shortness of breath",prescriber:"Dr. Lisa Park",pharmacy:"Walgreens #1847",refills:5},{name:"Montelukast 10mg",sig:"Take 1 tablet by mouth at bedtime",prescriber:"Dr. Lisa Park",pharmacy:"Walgreens #1847",refills:5},{name:"Vitamin D3 2000 IU",sig:"Take 1 softgel by mouth daily with food",prescriber:"Dr. Michael Roberts",pharmacy:"Walgreens #1847",refills:11}],allergies:[{substance:"Aspirin",reaction:"Bronchospasm, respiratory distress",severity:"Severe",verified:"05/22/2018"},{substance:"NSAIDs (class)",reaction:"Wheezing, chest tightness",severity:"Moderate",verified:"05/22/2018"},{substance:"Cat dander",reaction:"Asthma exacerbation, rhinitis",severity:"Moderate",verified:"04/10/2015"}],vitals:{date:"12/12/2024 02:15 PM",bp_systolic:"118",bp_diastolic:"74",pulse:"72",temp:"98.6",resp:"14",spo2:"99",weight:"145",height:"65",bmi:"24.1",peak_flow:"420"},labs:[{name:"Vitamin D, 25-OH",value:"42",unit:"ng/mL",range:"30-100",date:"11/15/2024"},{name:"IgE, Total",value:"285",unit:"IU/mL",range:"<100",flag:"H",date:"09/20/2024"}]}:J.includes("meilin")||J.includes("mei")||A.includes("mei")||A.includes("zhang")?{patient_name:"Zhang, Mei Lin",patient_dob:"07/08/1995",gender:"Female",epic_mrn:"MRN-4958271",insurance:"United Healthcare",pcp:"Dr. Jennifer Lee, MD",last_visit:"12/08/2024",clinical_notes:`CHIEF COMPLAINT: Psychiatric follow-up for anxiety disorders.

HISTORY OF PRESENT ILLNESS: Ms. Zhang is a 29-year-old female with generalized anxiety disorder and panic disorder, first diagnosed in 2021 during graduate school. Initially presented with persistent worry, muscle tension, and panic attacks occurring 3-4x/week with significant avoidance behaviors. Started sertraline 50mg, titrated to 100mg over 3 months with good response.

Current status: Significant improvement. Panic attacks reduced to ~1/month, less intense, shorter duration. Uses hydroxyzine PRN 2x/week (down from daily). Worry more manageable. Sleep improved with sleep hygiene measures - falling asleep within 30 min, sleeping 7 hours. Engaged in weekly CBT with Dr. Martinez - finds cognitive restructuring helpful.

MENTAL STATUS EXAM: Well-groomed, cooperative. Speech normal rate/volume. Mood "pretty good." Affect euthymic, full range. Thought process linear, goal-directed. No SI/HI. Insight/judgment good.

SCREENING: PHQ-9: 6 (mild), GAD-7: 8 (mild) - both improved from initial scores of 14 and 16.

ASSESSMENT & PLAN:
1. GAD - Stable on sertraline 100mg. Continue current dose.
2. Panic disorder - In partial remission. Continue PRN hydroxyzine for breakthrough symptoms.
3. Insomnia - Improved with sleep hygiene. Continue melatonin PRN.
4. Psychotherapy - Continue weekly CBT. Patient finds it beneficial.

Return 8 weeks. Call sooner if symptoms worsen or new concerns arise.`,diagnoses:[{name:"Generalized anxiety disorder",code:"F41.1",status:"Active",onset:"09/15/2021",priority:"Primary"},{name:"Panic disorder without agoraphobia",code:"F41.0",status:"In Remission",onset:"03/20/2022",priority:"Primary"},{name:"Insomnia, unspecified",code:"G47.00",status:"Improved",onset:"10/01/2021",priority:"Secondary"}],medications:[{name:"Sertraline 100mg",sig:"Take 1 tablet by mouth every morning",prescriber:"Dr. Amanda Foster",pharmacy:"CVS #2847",refills:3},{name:"Hydroxyzine 25mg",sig:"Take 1 tablet by mouth every 6 hours as needed for anxiety",prescriber:"Dr. Amanda Foster",pharmacy:"CVS #2847",refills:2},{name:"Melatonin 3mg",sig:"Take 1 tablet by mouth 30 minutes before bedtime as needed",prescriber:"Dr. Jennifer Lee",pharmacy:"CVS #2847",refills:"OTC"}],allergies:[{substance:"Sulfonamide antibiotics",reaction:"Maculopapular rash",severity:"Moderate",verified:"03/15/2019"}],vitals:{date:"12/08/2024 10:45 AM",bp_systolic:"110",bp_diastolic:"70",pulse:"68",temp:"98.2",resp:"14",spo2:"99",weight:"125",height:"63",bmi:"22.1"},labs:[{name:"TSH",value:"2.1",unit:"mIU/L",range:"0.4-4.0",date:"10/01/2024"}],screenings:[{name:"PHQ-9",score:"6",interpretation:"Mild depression",date:"12/08/2024"},{name:"GAD-7",score:"8",interpretation:"Mild anxiety",date:"12/08/2024"}]}:J.includes("jamal")||A.includes("jamal")||A.includes("thompson")?{patient_name:"Thompson, Jamal D.",patient_dob:"02/28/1968",gender:"Male",epic_mrn:"MRN-1847392",insurance:"Medicare Part B + Medigap",pcp:"Dr. Robert Kim, MD",last_visit:"12/10/2024",clinical_notes:`CHIEF COMPLAINT: Bilateral knee pain, worse on right, follow-up visit.

HISTORY OF PRESENT ILLNESS: Mr. Thompson is a 56-year-old male with primary osteoarthritis bilateral knees, right worse than left, diagnosed 2018. K-L Grade III right knee, Grade II left. Previous right knee arthroscopy (2020) with medial meniscectomy provided temporary relief (~18 months). Also manages HTN and obesity.

Current symptoms: Right knee pain 5/10 at rest, 7/10 with activity. Left knee 3/10. Morning stiffness ~30 minutes. Pain worse with stairs, prolonged standing. Improved with rest, ice, medications. Completed 6 weeks PT - reports 40% functional improvement. Using cane occasionally for long distances.

PHYSICAL EXAM: BMI 31.9. Bilateral knee exam: Mild effusions, R>L. Crepitus with ROM. ROM: R 5-115, L 0-125. Varus alignment R knee. Tenderness medial joint line bilaterally. No instability. Gait antalgic on right.

ASSESSMENT & PLAN:
1. Bilateral knee OA - Continue conservative management. Meloxicam + topical diclofenac providing adequate relief. Consider viscosupplementation (Synvisc) if symptoms plateau. Discussed TKR - patient prefers to delay surgical intervention.
2. Obesity - Contributing to knee symptoms. Counseled on weight loss goal 10% over 6 months. Referred to nutritionist.
3. HTN - Well-controlled on lisinopril. Continue current dose. Monitor renal function given NSAID use.

Ortho referral placed for surgical evaluation when ready. Return 3 months or PRN for worsening symptoms.`,diagnoses:[{name:"Primary osteoarthritis, bilateral knees",code:"M17.0",status:"Active",onset:"05/20/2018",priority:"Primary"},{name:"Obesity, unspecified",code:"E66.9",status:"Active",onset:"01/01/2015",priority:"Secondary"},{name:"Essential hypertension",code:"I10",status:"Controlled",onset:"08/15/2019",priority:"Secondary"}],medications:[{name:"Meloxicam 15mg",sig:"Take 1 tablet by mouth daily with food",prescriber:"Dr. Robert Kim",pharmacy:"Rite Aid #847",refills:2},{name:"Diclofenac gel 1%",sig:"Apply to affected knees 4 times daily. Do not exceed 32g/day.",prescriber:"Dr. Robert Kim",pharmacy:"Rite Aid #847",refills:3},{name:"Glucosamine-Chondroitin 1500-1200mg",sig:"Take 1 tablet by mouth daily",prescriber:"Dr. Robert Kim",pharmacy:"Rite Aid #847",refills:"OTC"},{name:"Lisinopril 20mg",sig:"Take 1 tablet by mouth every morning",prescriber:"Dr. Robert Kim",pharmacy:"Rite Aid #847",refills:5}],allergies:[{substance:"Codeine",reaction:"Severe nausea, vomiting",severity:"Moderate",verified:"03/12/2010"}],vitals:{date:"12/10/2024 11:20 AM",bp_systolic:"134",bp_diastolic:"84",pulse:"78",temp:"98.6",resp:"16",spo2:"97",weight:"235",height:"72",bmi:"31.9",pain_r:"5",pain_l:"3"},labs:[{name:"Creatinine",value:"1.0",unit:"mg/dL",range:"0.7-1.3",date:"11/05/2024"},{name:"Potassium",value:"4.2",unit:"mEq/L",range:"3.5-5.0",date:"11/05/2024"},{name:"Uric Acid",value:"6.8",unit:"mg/dL",range:"3.5-7.2",date:"11/05/2024"}],imaging:[{name:"XR Knee Bilateral",result:"Moderate OA changes R knee, mild L knee. Joint space narrowing, osteophytes.",date:"10/15/2024"}]}:J.includes("priya")||A.includes("priya")||A.includes("sharma")?{patient_name:"Sharma, Priya K.",patient_dob:"12/05/1975",gender:"Female",epic_mrn:"MRN-5739281",insurance:"Cigna PPO",pcp:"Dr. David Chen, MD",last_visit:"12/14/2024",clinical_notes:`CHIEF COMPLAINT: Cardiology follow-up, 8 months post-STEMI.

HISTORY OF PRESENT ILLNESS: Mrs. Sharma is a 49-year-old female with history of anterior STEMI in April 2024, treated with emergent PCI to LAD with drug-eluting stent. Initial EF 35% with anterior wall hypokinesis. Completed 12-week cardiac rehabilitation program with excellent progress. Also manages T2DM and hyperlipidemia.

Current status: No angina, dyspnea, palpitations, or edema. Exercise tolerance excellent - walking 2 miles daily, climbing stairs without difficulty. Adherent to all medications (uses pill organizer). Following heart-healthy diet. Recent TTE shows improved EF 48% with only mild anterior hypokinesis.

REVIEW OF SYSTEMS: Denies chest pain, SOB, orthopnea, PND, palpitations, syncope, leg swelling.

PHYSICAL EXAM: BP 126/76, HR 62 regular. JVP not elevated. Lungs clear. Heart RRR, S1/S2 normal, no murmurs/gallops. No peripheral edema. Radial pulses 2+ bilaterally.

LABS REVIEW: A1c 6.8% (down from 8.2%), LDL 68 mg/dL (at goal), BNP 125 (mildly elevated, improved from 450).

ASSESSMENT & PLAN:
1. CAD s/p STEMI, s/p LAD PCI - Continue DAPT (ASA + clopidogrel) through April 2025 (12 months), then reassess for de-escalation. Guideline-directed medical therapy optimized.
2. HFrEF, improving - EF improved to 48%. Continue beta-blocker, ACEi. Repeat TTE in 6 months.
3. T2DM - Well-controlled, A1c at goal. Continue metformin.
4. Hyperlipidemia - At goal on high-intensity statin. Continue atorvastatin 80mg.
5. Lifestyle - Reinforce medication adherence, diet, exercise. Patient doing well.

Return 3 months. Call for any chest pain, SOB, or concerning symptoms.`,diagnoses:[{name:"STEMI involving LAD, status post PCI",code:"I21.02",status:"Resolved",onset:"04/15/2024",priority:"Primary"},{name:"Coronary artery disease of native vessel",code:"I25.10",status:"Active",onset:"04/15/2024",priority:"Primary"},{name:"Heart failure with reduced EF (HFrEF)",code:"I50.22",status:"Improved",onset:"04/15/2024",priority:"Secondary"},{name:"Type 2 diabetes mellitus without complications",code:"E11.9",status:"Controlled",onset:"03/10/2020",priority:"Secondary"},{name:"Hyperlipidemia, unspecified",code:"E78.5",status:"Controlled",onset:"06/01/2019",priority:"Secondary"}],medications:[{name:"Aspirin 81mg EC",sig:"Take 1 tablet by mouth daily",prescriber:"Dr. Mark Stevens",pharmacy:"CVS Caremark",refills:5},{name:"Clopidogrel 75mg",sig:"Take 1 tablet by mouth daily",prescriber:"Dr. Mark Stevens",pharmacy:"CVS Caremark",refills:2},{name:"Metoprolol succinate ER 50mg",sig:"Take 1 tablet by mouth every morning",prescriber:"Dr. Mark Stevens",pharmacy:"CVS Caremark",refills:5},{name:"Atorvastatin 80mg",sig:"Take 1 tablet by mouth at bedtime",prescriber:"Dr. Mark Stevens",pharmacy:"CVS Caremark",refills:5},{name:"Lisinopril 10mg",sig:"Take 1 tablet by mouth daily",prescriber:"Dr. Mark Stevens",pharmacy:"CVS Caremark",refills:5},{name:"Metformin 1000mg",sig:"Take 1 tablet by mouth twice daily with meals",prescriber:"Dr. David Chen",pharmacy:"CVS Caremark",refills:5}],allergies:[{substance:"Captopril",reaction:"Angioedema (facial swelling)",severity:"Severe",verified:"02/20/2019"},{substance:"Shellfish",reaction:"Urticaria",severity:"Mild",verified:"01/15/2010"}],vitals:{date:"12/14/2024 03:30 PM",bp_systolic:"126",bp_diastolic:"76",pulse:"62",temp:"98.4",resp:"14",spo2:"98",weight:"158",height:"64",bmi:"27.1"},labs:[{name:"HbA1c",value:"6.8",unit:"%",range:"<7.0",date:"12/01/2024"},{name:"LDL-C",value:"68",unit:"mg/dL",range:"<70",date:"12/01/2024"},{name:"HDL-C",value:"52",unit:"mg/dL",range:">40",date:"12/01/2024"},{name:"Triglycerides",value:"138",unit:"mg/dL",range:"<150",date:"12/01/2024"},{name:"BNP",value:"125",unit:"pg/mL",range:"<100",flag:"H",date:"12/01/2024"},{name:"Creatinine",value:"0.8",unit:"mg/dL",range:"0.6-1.1",date:"12/01/2024"}],imaging:[{name:"TTE (Echocardiogram)",result:"LVEF 48% (improved from 35%). Mild hypokinesis anterior wall. No significant valvular disease.",date:"11/15/2024"}]}:{patient_name:X||"Patient, Unknown",patient_dob:"Unknown",gender:"Unknown",epic_mrn:"MRN-"+Date.now().toString().slice(-7),insurance:"Unknown",pcp:"Not assigned",last_visit:new Date().toLocaleDateString(),clinical_notes:"New patient record. No clinical documentation available. Please sync with EMR to retrieve patient data.",diagnoses:[],medications:[],allergies:[{substance:"NKDA (No Known Drug Allergies)",reaction:"N/A",severity:"None",verified:"Unverified"}],vitals:null,labs:[]}},ke=async()=>{L(!0);try{const D=we(r,l),{data:X}=await be.from("epic_patient_data").select("id").eq("doctor_email",c).eq("epic_patient_id",r).single(),J={doctor_email:c,epic_patient_id:r,epic_mrn:D.epic_mrn,patient_name:D.patient_name,patient_dob:D.patient_dob,clinical_notes:D.clinical_notes,diagnoses:D.diagnoses,medications:D.medications,last_synced:new Date().toISOString()};if(X){const{error:A}=await be.from("epic_patient_data").update(J).eq("id",X.id);if(A)throw A}else{const{error:A}=await be.from("epic_patient_data").insert([J]);if(A)throw A}q({...D,last_synced:new Date().toISOString()}),alert(" Patient data synced from EMR!")}catch(D){console.error("Error syncing patient data:",D);const X=we(r,l);q({...X,last_synced:new Date().toISOString()}),console.log("Showing demo data (database save failed)")}L(!1)},Me=async D=>{const X=D.target.files[0];if(X){if(X.size>10*1024*1024){alert("File size must be under 10MB");return}w(!0);try{let J="",A="storage";const I=Date.now(),ee=`${r.replace(/[^a-zA-Z0-9]/g,"_")}/${I}_${X.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,{data:fe,error:B}=await be.storage.from("patient-files").upload(ee,X,{cacheControl:"3600",upsert:!1});if(!B&&fe){const{data:de}=be.storage.from("patient-files").getPublicUrl(ee);J=de.publicUrl,console.log(" Uploaded to Supabase Storage:",J)}else{if(console.log(" Storage failed, using base64:",B?.message),A="base64",X.size>5*1024*1024){alert(`Storage bucket not configured. Files over 5MB require storage setup.

See console for setup instructions.`),console.log(`

           SUPABASE STORAGE BUCKET SETUP                      

                                                              
  1. Go to: https://supabase.com/dashboard                    
  2. Select your project                                      
  3. Click "Storage" in the left sidebar                      
  4. Click "New bucket"                                       
  5. Name: patient-files                                      
  6. Check "Public bucket"                                   
  7. Click "Create bucket"                                    
                                                              
  Then add this policy (click bucket  Policies  New):       
     
  Policy name: Allow all operations                           
  Allowed operations: SELECT, INSERT, UPDATE, DELETE          
  Target roles: anon, authenticated                           
  Policy: true                                                
                                                              

          `),w(!1);return}J=await new Promise((de,Y)=>{const qe=new FileReader;qe.onloadend=()=>de(qe.result),qe.onerror=Y,qe.readAsDataURL(X)})}const le=X.name.toLowerCase().split(".").pop(),pe=["jpg","jpeg","png","gif","webp","bmp"].includes(le),$=le==="pdf",{error:oe}=await be.from("patient_files").insert([{patient_email:r,file_type:"file",file_url:J,file_name:X.name,file_size:X.size}]);if(oe){console.error(" Database error:",oe),alert(" Database error: "+oe.message),w(!1);return}await Z(c,r),alert(` File uploaded successfully! (${A==="storage"?"Cloud Storage":"Embedded"})`)}catch(J){console.error(" Upload failed:",J),alert(" Upload failed: "+J.message)}w(!1),D.target.value=""}},Te=async(D,X)=>{if(confirm(`Delete "${X}"?`))try{const{error:J}=await be.from("patient_files").delete().eq("id",D);if(J){alert(" Error deleting file: "+J.message);return}await Z(c,r),alert(" File deleted!")}catch(J){console.error(" Delete failed:",J),alert(" Delete failed: "+J.message)}},Ce=async()=>{k(!0),setTimeout(async()=>{const D="/images/diagnosis-video.mp4";try{const{data:X}=await be.from("patient_files").select("id").eq("patient_email",r).eq("file_type","video").single();if(X){const{error:J}=await be.from("patient_files").update({file_url:D,file_name:`diagnosis_video_${Date.now()}.mp4`}).eq("id",X.id);J&&console.error("Error updating video:",J)}else{const{error:J}=await be.from("patient_files").insert([{patient_email:r,file_type:"video",file_url:D,file_name:`diagnosis_video_${Date.now()}.mp4`}]);J&&console.error("Error saving video:",J)}y(D),alert(" Video generated and sent to patient!")}catch(X){console.error("Error generating video:",X),y(D)}k(!1)},2e3)},M=async()=>{await Hu(),s("/login")},W=D=>{const X=D?.toLowerCase().split(".").pop();return["jpg","jpeg","png","gif","webp","bmp"].includes(X)};return b?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#FAFAFA"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E5E5",borderTopColor:"#0A0A0A",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 1rem"}}),f.jsx("p",{style:{color:"#525252",fontSize:"0.875rem"},children:"Loading patient files..."})]})}):f.jsxs("div",{style:{minHeight:"100vh",background:"#FAFAFA"},children:[f.jsx("header",{style:{background:"#FFFFFF",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",position:"sticky",top:0,zIndex:100},children:f.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("button",{onClick:()=>s("/doctor"),style:{padding:"0.5rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease-out"},onMouseEnter:D=>{D.currentTarget.style.borderColor="#0A0A0A",D.currentTarget.style.color="#0A0A0A"},onMouseLeave:D=>{D.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",D.currentTarget.style.color="#525252"},children:f.jsx(ng,{size:18})}),f.jsxs("div",{children:[f.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:l||"Patient Files"}),f.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#A3A3A3"},children:r})]})]}),f.jsxs("button",{onClick:M,style:{padding:"0.5rem 0.875rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontSize:"0.8125rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"opacity 0.15s ease-out",fontFamily:"inherit"},onMouseEnter:D=>D.currentTarget.style.opacity="0.85",onMouseLeave:D=>D.currentTarget.style.opacity="1",children:[f.jsx(qu,{size:14}),"Logout"]})]})}),f.jsxs("main",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem"},children:[f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem",overflow:"hidden"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",background:j?"#FAFAFA":"transparent",borderBottom:te&&j?"1px solid rgba(0,0,0,0.06)":"none",cursor:j?"pointer":"default"},onClick:()=>j&&O(!te),children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[j&&f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},children:te?f.jsx(sw,{size:18,color:"#A3A3A3"}):f.jsx(iw,{size:18,color:"#A3A3A3"})}),f.jsx(Lm,{size:18,color:"#0A0A0A"}),f.jsxs("div",{children:[f.jsx("h2",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#0A0A0A",margin:0,letterSpacing:"-0.02em"},children:"Patient Health Data"}),j&&!te&&f.jsxs("p",{style:{margin:"0.125rem 0 0 0",fontSize:"0.75rem",color:"#A3A3A3"},children:[j.patient_name,"  ",j.epic_mrn]})]})]}),f.jsxs("button",{onClick:D=>{D.stopPropagation(),ke()},disabled:F,style:{padding:"0.5rem 1rem",background:"#0A0A0A",color:"white",border:"none",borderRadius:"8px",fontSize:"0.8125rem",fontWeight:"500",cursor:F?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"opacity 0.15s ease-out",fontFamily:"inherit",opacity:F?.6:1},onMouseEnter:D=>{F||(D.currentTarget.style.opacity="0.85")},onMouseLeave:D=>{F||(D.currentTarget.style.opacity="1")},children:[f.jsx(pw,{size:14,className:F?"spin":""}),F?"Syncing...":"Sync Data"]})]}),f.jsx("div",{style:{maxHeight:te?"2000px":"0",overflow:"hidden",transition:"max-height 0.3s ease-out",padding:te?"1.5rem":"0 1.5rem"},children:j?f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:"1rem",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[f.jsxs("div",{children:[f.jsx("h3",{style:{margin:"0 0 0.375rem 0",fontSize:"1.125rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:j.patient_name}),f.jsxs("div",{style:{display:"flex",gap:"1.25rem",fontSize:"0.8125rem",color:"#525252"},children:[f.jsxs("span",{children:["DOB: ",f.jsx("strong",{children:j.patient_dob})]}),f.jsxs("span",{children:["Sex: ",f.jsx("strong",{children:j.gender})]}),f.jsxs("span",{children:["MRN: ",f.jsx("strong",{style:{fontFamily:"monospace"},children:j.epic_mrn})]})]})]}),f.jsxs("div",{style:{textAlign:"right",fontSize:"0.75rem",color:"#A3A3A3"},children:[f.jsx("div",{children:j.insurance}),f.jsxs("div",{children:["PCP: ",j.pcp]})]})]}),j.clinical_notes&&f.jsxs("div",{style:{background:"#FAFAFA",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(0,0,0,0.04)"},children:[f.jsx("h4",{style:{margin:"0 0 0.625rem 0",fontSize:"0.6875rem",fontWeight:"600",color:"#A3A3A3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Clinical Notes"}),f.jsx("div",{style:{fontSize:"0.8125rem",color:"#0A0A0A",lineHeight:"1.7",whiteSpace:"pre-wrap"},children:j.clinical_notes})]}),j.vitals&&f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",padding:"0.75rem 1rem",background:"#F9FAFB",borderRadius:"6px",flexWrap:"wrap"},children:[f.jsx("span",{style:{fontSize:"0.6875rem",fontWeight:"600",color:"#A3A3A3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Vitals"}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["BP ",f.jsxs("strong",{children:[j.vitals.bp_systolic,"/",j.vitals.bp_diastolic]})]}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["HR ",f.jsx("strong",{children:j.vitals.pulse})]}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["Temp ",f.jsxs("strong",{children:[j.vitals.temp,"F"]})]}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["SpO2 ",f.jsxs("strong",{children:[j.vitals.spo2,"%"]})]}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["Wt ",f.jsx("strong",{children:j.vitals.weight})," lbs"]}),f.jsxs("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:["BMI ",f.jsx("strong",{children:j.vitals.bmi})]}),f.jsx("span",{style:{fontSize:"0.6875rem",color:"#A3A3A3",marginLeft:"auto"},children:j.vitals.date})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[f.jsxs("div",{children:[f.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"0.6875rem",fontWeight:"600",color:"#A3A3A3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Active Problems"}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:(j.diagnoses||[]).map((D,X)=>f.jsxs("div",{style:{padding:"0.5rem 0.625rem",background:"#FAFAFA",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("span",{style:{fontSize:"0.8125rem",color:"#0A0A0A"},children:D.name}),f.jsx("span",{style:{fontSize:"0.6875rem",color:"#A3A3A3",fontFamily:"monospace"},children:D.code})]},X))})]}),f.jsxs("div",{children:[f.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"0.6875rem",fontWeight:"600",color:"#A3A3A3",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Medications"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(j.medications||[]).map((D,X)=>f.jsxs("div",{style:{padding:"0.5rem 0.625rem",background:"#FAFAFA",borderRadius:"4px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("span",{style:{fontSize:"0.8125rem",fontWeight:"500",color:"#0A0A0A"},children:D.name}),f.jsxs("span",{style:{fontSize:"0.625rem",color:"#A3A3A3"},children:["Refills: ",D.refills]})]}),f.jsx("div",{style:{fontSize:"0.6875rem",color:"#525252",marginTop:"0.125rem"},children:D.sig})]},X)),(!j.medications||j.medications.length===0)&&f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:0},children:"No active medications"})]})]})]}),j.labs&&j.labs.length>0&&f.jsxs("div",{children:[f.jsx("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.75rem",fontWeight:"600",color:"#0A0A0A",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Recent Lab Results"}),f.jsx("div",{style:{background:"#FAFAFA",borderRadius:"8px",overflow:"hidden"},children:f.jsxs("table",{style:{width:"100%",fontSize:"0.8125rem",borderCollapse:"collapse"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[f.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:"500",color:"#A3A3A3",fontSize:"0.6875rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Test"}),f.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"right",fontWeight:"500",color:"#A3A3A3",fontSize:"0.6875rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Result"}),f.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"right",fontWeight:"500",color:"#A3A3A3",fontSize:"0.6875rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Reference"}),f.jsx("th",{style:{padding:"0.75rem 1rem",textAlign:"right",fontWeight:"500",color:"#A3A3A3",fontSize:"0.6875rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Date"})]})}),f.jsx("tbody",{children:j.labs.map((D,X)=>f.jsxs("tr",{style:{borderBottom:X<j.labs.length-1?"1px solid rgba(0,0,0,0.04)":"none"},children:[f.jsx("td",{style:{padding:"0.625rem 1rem",color:"#0A0A0A"},children:D.name}),f.jsxs("td",{style:{padding:"0.625rem 1rem",textAlign:"right",fontWeight:"600",color:D.flag==="H"?"#DC2626":D.flag==="L"?"#2563EB":"#0A0A0A"},children:[D.value," ",f.jsx("span",{style:{fontWeight:"400",color:"#A3A3A3"},children:D.unit})]}),f.jsx("td",{style:{padding:"0.625rem 1rem",textAlign:"right",color:"#A3A3A3"},children:D.range}),f.jsx("td",{style:{padding:"0.625rem 1rem",textAlign:"right",color:"#A3A3A3"},children:D.date})]},X))})]})})]}),j.screenings&&j.screenings.length>0&&f.jsxs("div",{children:[f.jsx("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.75rem",fontWeight:"600",color:"#0A0A0A",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Screenings"}),f.jsx("div",{style:{display:"flex",gap:"1rem"},children:j.screenings.map((D,X)=>f.jsxs("div",{style:{flex:1,padding:"1rem",background:"#FAFAFA",borderRadius:"8px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"0.6875rem",color:"#A3A3A3",marginBottom:"0.25rem"},children:D.name}),f.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#0A0A0A"},children:D.score}),f.jsx("div",{style:{fontSize:"0.6875rem",color:"#525252"},children:D.interpretation})]},X))})]}),j.imaging&&j.imaging.length>0&&f.jsxs("div",{children:[f.jsx("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.75rem",fontWeight:"600",color:"#0A0A0A",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Imaging"}),j.imaging.map((D,X)=>f.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#FAFAFA",borderRadius:"6px",marginBottom:"0.5rem"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.375rem"},children:[f.jsx("span",{style:{fontSize:"0.8125rem",fontWeight:"500",color:"#0A0A0A"},children:D.name}),f.jsx("span",{style:{fontSize:"0.6875rem",color:"#A3A3A3"},children:D.date})]}),f.jsx("div",{style:{fontSize:"0.8125rem",color:"#525252",lineHeight:"1.5"},children:D.result})]},X))]})]}):f.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px dashed rgba(0, 0, 0, 0.08)"},children:[f.jsx(Lm,{size:28,color:"#A3A3A3",style:{opacity:.5}}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#525252",margin:"0.75rem 0 0.25rem 0",fontWeight:"500"},children:"No patient data synced"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:0},children:'Click "Sync Data" to load patient health information'})]})})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[f.jsxs("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:0,letterSpacing:"-0.02em"},children:["Medical Files (",h.length,")"]}),f.jsxs("label",{htmlFor:"file-upload",style:{padding:"0.5rem 1rem",background:"#0A0A0A",color:"white",borderRadius:"8px",fontSize:"0.8125rem",fontWeight:"500",cursor:S?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"opacity 0.15s ease-out",opacity:S?.6:1},children:[f.jsx(fl,{size:14}),S?"Uploading...":"Upload File"]}),f.jsx("input",{id:"file-upload",type:"file",onChange:Me,style:{display:"none"},disabled:S,accept:"image/*,.pdf,.doc,.docx,.txt"})]}),h.length===0?f.jsxs("div",{style:{padding:"3rem 2rem",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px dashed rgba(0, 0, 0, 0.08)"},children:[f.jsx(ag,{size:32,color:"#A3A3A3",style:{opacity:.5}}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#525252",margin:"0.75rem 0 0.25rem 0",fontWeight:"500"},children:"No files uploaded yet"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:0},children:"Upload medical documents, lab results, or images"})]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"1rem"},children:h.map((D,X)=>f.jsxs("div",{style:{background:"#F9FAFB",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.04)",overflow:"hidden",transition:"all 0.15s ease-out",cursor:"pointer"},onClick:()=>ne(D),onMouseEnter:J=>J.currentTarget.style.borderColor="rgba(0, 0, 0, 0.12)",onMouseLeave:J=>J.currentTarget.style.borderColor="rgba(0, 0, 0, 0.04)",children:[f.jsx("div",{style:{height:"100px",background:"#E5E5E5",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:W(D.file_name)&&D.file_url?.startsWith("data:")?f.jsx("img",{src:D.file_url,alt:D.file_name,style:{width:"100%",height:"100%",objectFit:"cover"}}):W(D.file_name)?f.jsx(uw,{size:28,color:"#A3A3A3"}):f.jsx(Bm,{size:28,color:"#A3A3A3"})}),f.jsxs("div",{style:{padding:"0.75rem"},children:[f.jsx("p",{style:{fontWeight:"500",fontSize:"0.8125rem",color:"#0A0A0A",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:D.file_name}),f.jsx("p",{style:{fontSize:"0.6875rem",color:"#A3A3A3",margin:"0.25rem 0 0 0"},children:new Date(D.created_at).toLocaleDateString()})]}),f.jsxs("div",{style:{padding:"0 0.75rem 0.75rem",display:"flex",gap:"0.5rem"},children:[f.jsx("button",{onClick:J=>{J.stopPropagation(),ne(D)},style:{flex:1,padding:"0.375rem",background:"#0A0A0A",color:"white",border:"none",borderRadius:"4px",fontSize:"0.6875rem",fontWeight:"500",cursor:"pointer",fontFamily:"inherit"},children:"View"}),f.jsx("button",{onClick:J=>{J.stopPropagation(),Te(D.id,D.file_name)},style:{padding:"0.375rem 0.5rem",background:"transparent",color:"#EF4444",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",fontSize:"0.6875rem",cursor:"pointer",display:"flex",alignItems:"center",fontFamily:"inherit"},children:f.jsx(rg,{size:12})})]})]},X))})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:0,letterSpacing:"-0.02em"},children:"Diagnosis Video"}),f.jsxs("button",{onClick:Ce,disabled:E,style:{padding:"0.625rem 1rem",background:"#0A0A0A",color:"white",border:"none",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500",cursor:E?"not-allowed":"pointer",transition:"opacity 0.15s ease-out",fontFamily:"inherit",display:"flex",alignItems:"center",gap:"0.5rem",opacity:E?.6:1},onMouseEnter:D=>{E||(D.currentTarget.style.opacity="0.85")},onMouseLeave:D=>{E||(D.currentTarget.style.opacity="1")},children:[f.jsx(Sr,{size:16}),E?"Generating...":"Generate Video"]})]}),f.jsx("div",{style:{background:"#F9FAFB",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.04)",overflow:"hidden"},children:p?f.jsx("video",{controls:!0,style:{width:"100%",display:"block",maxHeight:"500px"},src:p}):f.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[f.jsx(Sr,{size:40,color:"#A3A3A3",style:{opacity:.4}}),f.jsx("p",{style:{fontSize:"0.95rem",color:"#A3A3A3",margin:"1rem 0 0.25rem 0"},children:"No video generated yet"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#D4D4D4",margin:0},children:'Click "Generate Video" to create a personalized diagnosis video'})]})})]})]}),K&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"2rem"},onClick:()=>ne(null),children:f.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:D=>D.stopPropagation(),children:[f.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,background:"white"},children:[f.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#0A0A0A"},children:K.file_name}),f.jsx("button",{onClick:()=>ne(null),style:{padding:"0.375rem",background:"transparent",border:"none",cursor:"pointer",color:"#525252"},children:f.jsx(ig,{size:20})})]}),f.jsx("div",{style:{padding:"1.5rem"},children:W(K.file_name)?f.jsx("img",{src:K.file_url,alt:K.file_name,style:{maxWidth:"100%",maxHeight:"70vh",display:"block",margin:"0 auto"}}):K.file_url?.startsWith("data:application/pdf")?f.jsx("iframe",{src:K.file_url,style:{width:"100%",height:"70vh",border:"none"},title:K.file_name}):f.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[f.jsx(Bm,{size:48,color:"#A3A3A3"}),f.jsx("p",{style:{margin:"1rem 0",color:"#525252"},children:"Preview not available for this file type"}),f.jsx("a",{href:K.file_url,download:K.file_name,style:{padding:"0.5rem 1rem",background:"#0A0A0A",color:"white",borderRadius:"8px",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},children:"Download File"})]})})]})}),f.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .spin {
          animation: spin 1s linear infinite;
        }
      `})]})}function Cw(){const s=en(),[a,r]=C.useState(!0),[l,c]=C.useState(!1),[u,h]=C.useState(""),[m,p]=C.useState(""),[y,b]=C.useState(""),[_,S]=C.useState(""),[w,E]=C.useState(""),[k,j]=C.useState(""),[q,F]=C.useState(""),[L,K]=C.useState(""),[ne,te]=C.useState(""),[O,ae]=C.useState(""),[Z,_e]=C.useState(""),[we,ke]=C.useState(""),[Me,Te]=C.useState(""),[Ce,M]=C.useState(!1),W=C.useRef(null);C.useEffect(()=>{D()},[]);const D=async()=>{try{const B=await Mi();if(!B||B.userType!=="doctor"){alert(" No active session found! Please log in."),s("/login");return}h(B.email),p(B.name||""),b(B.profilePicture||"");const le=(B.name||"").trim().split(" "),pe=le[0]||"",$=le.slice(1).join(" ")||"",oe=`doctor_settings_${B.email}`,de=localStorage.getItem(oe);if(de){const Y=JSON.parse(de);S(Y.first_name||pe),E(Y.last_name||$),j(Y.clinic_name||""),F(Y.profile_picture||B.profilePicture||""),K(Y.doctor_photo||""),te(Y.clinic_logo||""),ae(Y.voice_clip||""),_e(Y.profile_picture||B.profilePicture||""),ke(Y.doctor_photo||""),Te(Y.clinic_logo||"")}else try{const{data:Y,error:qe}=await be.from("users").select("first_name, last_name, clinic_name, profile_picture, doctor_photo, clinic_logo, voice_clip").eq("email",B.email).eq("user_type","doctor").single();Y?(S(Y.first_name||pe),E(Y.last_name||$),j(Y.clinic_name||""),F(Y.profile_picture||B.profilePicture||""),K(Y.doctor_photo||""),te(Y.clinic_logo||""),ae(Y.voice_clip||""),_e(Y.profile_picture||B.profilePicture||""),ke(Y.doctor_photo||""),Te(Y.clinic_logo||"")):(S(pe),E($),F(B.profilePicture||""),_e(B.profilePicture||""))}catch{console.log("Database not available, using defaults"),S(pe),E($),F(B.profilePicture||""),_e(B.profilePicture||"")}}catch(B){console.error("Error loading doctor data:",B)}r(!1)},X=B=>{const le=B.target.files[0];if(le){const pe=new FileReader;pe.onloadend=()=>{_e(pe.result),F(pe.result)},pe.readAsDataURL(le)}},J=B=>{const le=B.target.files[0];if(le){const pe=new FileReader;pe.onloadend=()=>{ke(pe.result),K(pe.result)},pe.readAsDataURL(le)}},A=B=>{const le=B.target.files[0];if(le){const pe=new FileReader;pe.onloadend=()=>{Te(pe.result),te(pe.result)},pe.readAsDataURL(le)}},I=B=>{const le=B.target.files[0];if(le){if(!le.type.startsWith("audio/")){alert("Please upload an audio file (MP3, WAV, M4A, etc.)");return}const pe=new FileReader;pe.onloadend=()=>{ae(pe.result)},pe.readAsDataURL(le)}},Q=()=>{W.current&&(Ce?(W.current.pause(),M(!1)):(W.current.play(),M(!0)))},ee=()=>{ae(""),M(!1),W.current&&W.current.pause()},fe=async()=>{c(!0);try{const B=`doctor_settings_${u}`,le={email:u,user_type:"doctor",first_name:_,last_name:w,clinic_name:k,profile_picture:q,doctor_photo:L,clinic_logo:ne,voice_clip:O,updated_at:new Date().toISOString()};localStorage.setItem(B,JSON.stringify(le));try{const{data:pe}=await be.from("users").select("email").eq("email",u).eq("user_type","doctor").single();pe?await be.from("users").update({first_name:_,last_name:w,clinic_name:k,profile_picture:q,doctor_photo:L,clinic_logo:ne,voice_clip:O}).eq("email",u).eq("user_type","doctor"):await be.from("users").insert([le])}catch(pe){console.log("Database save skipped (running locally):",pe)}alert(" Profile saved successfully!")}catch(B){console.error("Error saving:",B),alert(" Error saving profile: "+B.message)}c(!1)};return a?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#FAFAFA"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E5E5",borderTopColor:"#0A0A0A",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto 1rem"}}),f.jsx("p",{style:{color:"#525252",fontSize:"0.875rem"},children:"Loading settings..."})]})}):f.jsxs("div",{style:{minHeight:"100vh",background:"#FAFAFA"},children:[f.jsx("header",{style:{background:"#FFFFFF",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",position:"sticky",top:0,zIndex:100},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("button",{onClick:()=>s("/doctor"),style:{padding:"0.5rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:f.jsx(ng,{size:18})}),f.jsxs("div",{children:[f.jsx("h1",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#0A0A0A",letterSpacing:"-0.02em"},children:"Profile Settings"}),f.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#A3A3A3"},children:"Manage your doctor profile"})]})]}),f.jsxs("button",{onClick:fe,disabled:l,style:{padding:"0.5rem 1rem",background:"#0A0A0A",border:"none",borderRadius:"8px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.375rem",transition:"opacity 0.15s ease-out",fontFamily:"inherit",opacity:l?.6:1},onMouseEnter:B=>{l||(B.currentTarget.style.opacity="0.85")},onMouseLeave:B=>{l||(B.currentTarget.style.opacity="1")},children:[f.jsx(gw,{size:14}),l?"Saving...":"Save Changes"]})]})}),f.jsxs("main",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem"},children:[f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 0.5rem 0",letterSpacing:"-0.02em"},children:"Account Picture"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:"0 0 1.25rem 0"},children:"Your profile picture shown in the dashboard header"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[f.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",border:"2px solid rgba(0, 0, 0, 0.06)",background:"#F5F5F5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:Z?f.jsx("img",{src:Z,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx(xu,{size:28,color:"#A3A3A3"})}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"profile-upload",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:[f.jsx(Mm,{size:14}),"Upload"]}),f.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",onChange:X,style:{display:"none"}}),y&&Z!==y&&f.jsx("button",{onClick:()=>{_e(y),F(y)},style:{marginLeft:"0.5rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:"Use Google Photo"})]})]})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 0.5rem 0",letterSpacing:"-0.02em"},children:"Doctor Photo for AI Videos"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:"0 0 1.25rem 0"},children:"Professional photo used in AI-generated patient video explanations"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[f.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"12px",overflow:"hidden",border:"2px solid rgba(0, 0, 0, 0.06)",background:"#F5F5F5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:we?f.jsx("img",{src:we,alt:"Doctor Photo",style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx(xu,{size:40,color:"#A3A3A3"})}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"doctor-photo-upload",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:[f.jsx(Mm,{size:14}),"Upload Doctor Photo"]}),f.jsx("input",{id:"doctor-photo-upload",type:"file",accept:"image/*",onChange:J,style:{display:"none"}}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",margin:"0.5rem 0 0 0"},children:"Use a high-quality, well-lit photo. This will be used for AI video generation."}),we&&f.jsx("button",{onClick:()=>{ke(""),K("")},style:{marginTop:"0.5rem",padding:"0.25rem 0.5rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"4px",color:"#525252",fontSize:"0.75rem",cursor:"pointer",fontFamily:"inherit"},children:"Remove Photo"})]})]})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 1.25rem 0",letterSpacing:"-0.02em"},children:"Doctor Information"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:"#525252",marginBottom:"0.375rem"},children:"First Name"}),f.jsx("input",{type:"text",value:_,onChange:B=>S(B.target.value),placeholder:"John",style:{width:"100%",padding:"0.625rem 0.875rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",fontSize:"0.875rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:B=>B.target.style.borderColor="#0A0A0A",onBlur:B=>B.target.style.borderColor="rgba(0, 0, 0, 0.08)"})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:"#525252",marginBottom:"0.375rem"},children:"Last Name"}),f.jsx("input",{type:"text",value:w,onChange:B=>E(B.target.value),placeholder:"Smith",style:{width:"100%",padding:"0.625rem 0.875rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",fontSize:"0.875rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:B=>B.target.style.borderColor="#0A0A0A",onBlur:B=>B.target.style.borderColor="rgba(0, 0, 0, 0.08)"})]})]}),f.jsxs("div",{style:{marginTop:"1rem"},children:[f.jsx("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:"#525252",marginBottom:"0.375rem"},children:"Email"}),f.jsx("input",{type:"email",value:u,disabled:!0,style:{width:"100%",padding:"0.625rem 0.875rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.04)",fontSize:"0.875rem",fontFamily:"inherit",background:"#F9FAFB",color:"#A3A3A3"}}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",margin:"0.25rem 0 0 0"},children:"Email cannot be changed"})]})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)",marginBottom:"1.5rem"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 1.25rem 0",letterSpacing:"-0.02em"},children:"Clinic Information"}),f.jsxs("div",{style:{marginBottom:"1.5rem"},children:[f.jsx("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:"#525252",marginBottom:"0.375rem"},children:"Clinic Name"}),f.jsx("input",{type:"text",value:k,onChange:B=>j(B.target.value),placeholder:"Valley Medical Center",style:{width:"100%",padding:"0.625rem 0.875rem",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.08)",fontSize:"0.875rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.15s ease-out"},onFocus:B=>B.target.style.borderColor="#0A0A0A",onBlur:B=>B.target.style.borderColor="rgba(0, 0, 0, 0.08)"})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:"#525252",marginBottom:"0.75rem"},children:"Clinic Logo"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[f.jsx("div",{style:{width:"120px",height:"80px",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 0, 0, 0.06)",background:"#F5F5F5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:Me?f.jsx("img",{src:Me,alt:"Clinic Logo",style:{width:"100%",height:"100%",objectFit:"contain",padding:"0.5rem"}}):f.jsx(fl,{size:24,color:"#A3A3A3"})}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"logo-upload",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:[f.jsx(fl,{size:14}),"Upload Logo"]}),f.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:A,style:{display:"none"}}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",margin:"0.5rem 0 0 0"},children:"Recommended: 200x100px or larger"})]})]})]})]}),f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.04)"},children:[f.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600",color:"#0A0A0A",margin:"0 0 0.5rem 0",letterSpacing:"-0.02em"},children:"Voice Sample"}),f.jsx("p",{style:{fontSize:"0.8125rem",color:"#A3A3A3",margin:"0 0 1.25rem 0"},children:"Upload a voice sample to personalize AI-generated video explanations"}),O?f.jsxs("div",{style:{background:"#F9FAFB",borderRadius:"10px",padding:"1rem",border:"1px solid rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[f.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#0A0A0A",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsx(Hm,{size:20,color:"white"})}),f.jsxs("div",{style:{flex:1},children:[f.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#0A0A0A",margin:0},children:"Voice Sample Uploaded"}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",margin:"0.125rem 0 0 0"},children:"Ready for voice cloning"})]}),f.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[f.jsx("button",{onClick:Q,style:{width:"36px",height:"36px",borderRadius:"50%",background:"#0A0A0A",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.15s ease-out"},onMouseEnter:B=>B.currentTarget.style.opacity="0.85",onMouseLeave:B=>B.currentTarget.style.opacity="1",children:Ce?f.jsx(hw,{size:14}):f.jsx(fw,{size:14,style:{marginLeft:"2px"}})}),f.jsx("button",{onClick:ee,style:{width:"36px",height:"36px",borderRadius:"50%",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",color:"#525252",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.background="#F5F5F5",B.currentTarget.style.borderColor="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.background="transparent",B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)"},children:f.jsx(rg,{size:14})})]})]}),f.jsx("audio",{ref:W,src:O,onEnded:()=>M(!1),style:{display:"none"}})]}):f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[f.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",border:"2px solid rgba(0, 0, 0, 0.06)",background:"#F5F5F5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsx(Hm,{size:28,color:"#A3A3A3"})}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"voice-upload",style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 1rem",background:"transparent",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"8px",color:"#525252",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.15s ease-out"},onMouseEnter:B=>{B.currentTarget.style.borderColor="#0A0A0A",B.currentTarget.style.color="#0A0A0A"},onMouseLeave:B=>{B.currentTarget.style.borderColor="rgba(0, 0, 0, 0.08)",B.currentTarget.style.color="#525252"},children:[f.jsx(fl,{size:14}),"Upload Voice Sample"]}),f.jsx("input",{id:"voice-upload",type:"file",accept:"audio/*",onChange:I,style:{display:"none"}}),f.jsx("p",{style:{fontSize:"0.75rem",color:"#A3A3A3",margin:"0.5rem 0 0 0"},children:"MP3, WAV, M4A, or OGG. 30-60 seconds recommended."})]})]}),f.jsx("div",{style:{marginTop:"1.25rem",padding:"0.75rem",background:"#F9FAFB",borderRadius:"8px",border:"1px solid rgba(0, 0, 0, 0.04)"},children:f.jsxs("p",{style:{fontSize:"0.75rem",color:"#525252",margin:0,lineHeight:"1.5"},children:[f.jsx("strong",{style:{color:"#0A0A0A"},children:"Tips:"})," Record in a quiet environment. Speak naturally at your normal pace. Avoid background noise."]})})]})]}),f.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function Rw(){const s=en(),[a]=s1(),[r,l]=C.useState("processing"),[c,u]=C.useState("Connecting to Epic...");C.useEffect(()=>{h()},[]);const h=async()=>{try{const m=a.get("code"),p=a.get("state"),y=a.get("error"),b=a.get("error_description");if(y){l("error"),u(`Epic authorization failed: ${b||y}`),console.error("Epic OAuth error:",y,b),setTimeout(()=>s("/doctor"),3e3);return}if(!m){l("error"),u("No authorization code received from Epic"),setTimeout(()=>s("/doctor"),3e3);return}if(!p){l("error"),u("No state parameter received - possible security issue"),setTimeout(()=>s("/doctor"),3e3);return}if(u("Exchanging authorization code for access token..."),(await Sw(m,p)).success)l("success"),u("Successfully connected to Epic! Redirecting..."),console.log(" Epic connection successful"),setTimeout(()=>s("/doctor"),2e3);else throw new Error("Callback processing failed")}catch(m){console.error(" Epic callback error:",m),l("error"),u(`Connection failed: ${m.message}`),setTimeout(()=>s("/doctor"),4e3)}};return f.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#FAFAFA",padding:"2rem"},children:[f.jsxs("div",{style:{background:"#FFFFFF",borderRadius:"12px",padding:"2.5rem 2rem",maxWidth:"400px",width:"100%",textAlign:"center",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.06)"},children:[f.jsxs("div",{style:{width:"56px",height:"56px",margin:"0 auto 1.5rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",background:r==="processing"?"#0A0A0A":r==="success"?"#059669":"#DC2626",color:"white",animation:r==="processing"?"spin 2s linear infinite":"none"},children:[r==="processing"&&"",r==="success"&&"",r==="error"&&""]}),f.jsxs("h1",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem",color:"#0A0A0A",letterSpacing:"-0.02em"},children:[r==="processing"&&"Connecting...",r==="success"&&"Connected",r==="error"&&"Connection Failed"]}),f.jsx("p",{style:{fontSize:"0.875rem",color:"#A3A3A3",lineHeight:"1.6",marginBottom:"1.5rem",letterSpacing:"-0.01em"},children:c}),r==="processing"&&f.jsx("div",{style:{width:"100%",height:"3px",background:"rgba(0, 0, 0, 0.06)",borderRadius:"2px",overflow:"hidden",marginBottom:"1rem"},children:f.jsx("div",{style:{width:"50%",height:"100%",background:"#0A0A0A",animation:"progress 1.5s ease-in-out infinite"}})}),r==="error"&&f.jsx("button",{onClick:()=>s("/doctor"),style:{padding:"0.75rem 1.5rem",background:"#0A0A0A",border:"none",borderRadius:"6px",color:"white",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",marginTop:"0.5rem",fontFamily:"inherit",letterSpacing:"-0.01em",transition:"all 0.15s ease-out"},onMouseEnter:m=>m.currentTarget.style.opacity="0.85",onMouseLeave:m=>m.currentTarget.style.opacity="1",children:"Return to Dashboard"}),r==="success"&&f.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"rgba(5, 150, 105, 0.06)",borderRadius:"6px",border:"1px solid rgba(5, 150, 105, 0.1)"},children:f.jsx("p",{style:{fontSize:"0.8125rem",color:"#059669",margin:0,letterSpacing:"-0.01em"},children:"Epic EHR data is now accessible"})})]}),f.jsx("style",{children:`
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        @keyframes progress {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(200%);
          }
        }
      `})]})}function Ow(){const[s,a]=C.useState(!1);return C.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)");a(r.matches);const l=c=>a(c.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[]),f.jsxs("div",{className:"water-splash-container","aria-hidden":"true",children:[f.jsx("svg",{className:"svg-filters",children:f.jsx("defs",{children:f.jsxs("filter",{id:"goo-water",children:[f.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),f.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:`1 0 0 0 0  
                      0 1 0 0 0  
                      0 0 1 0 0  
                      0 0 0 25 -10`})]})})}),f.jsxs("div",{className:"liquid-layer",style:{filter:"url(#goo-water)",animationPlayState:s?"paused":"running"},children:[f.jsx("div",{className:"main-bubble",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-1",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-2",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-3",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-4",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-5",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-6",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-7",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"droplet drop-8",style:{animationPlayState:s?"paused":"running"}})]}),f.jsxs("div",{className:"highlight-overlay",children:[f.jsx("div",{className:"shine shine-1",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"shine shine-2",style:{animationPlayState:s?"paused":"running"}}),f.jsx("div",{className:"shine shine-3",style:{animationPlayState:s?"paused":"running"}})]}),f.jsx("style",{children:`
        .water-splash-container {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          overflow: hidden;
          pointer-events: none;
          z-index: 1;
        }

        .svg-filters {
          position: absolute;
          width: 0;
          height: 0;
        }

        .liquid-layer {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 500px;
          height: 500px;
        }

        /* ========================================
           Main Water Bubble - Centered
           Purple/Lavender tones matching the lotus logo
           ======================================== */
        .main-bubble {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 180px;
          height: 180px;
          transform: translate(-50%, -50%);
          border-radius: 50%;
          background: 
            /* Primary specular - intense white hotspot like real water */
            radial-gradient(ellipse 22% 16% at 28% 25%, 
              rgba(255,255,255,1) 0%, 
              rgba(255,255,255,0.97) 15%,
              rgba(255,255,255,0.7) 35%,
              rgba(255,255,255,0.2) 55%,
              transparent 70%
            ),
            /* Secondary specular - softer catchlight */
            radial-gradient(ellipse 12% 8% at 40% 30%, 
              rgba(255,255,255,0.9) 0%, 
              rgba(255,255,255,0.4) 50%,
              transparent 70%
            ),
            /* Tertiary micro-highlight */
            radial-gradient(ellipse 6% 4% at 55% 38%, 
              rgba(255,255,255,0.7) 0%, 
              transparent 80%
            ),
            /* Fresnel rim - edges appear brighter (real water physics) */
            radial-gradient(ellipse 100% 100% at 50% 50%,
              transparent 55%,
              rgba(240,235,255,0.15) 65%,
              rgba(230,220,250,0.35) 75%,
              rgba(220,200,245,0.5) 82%,
              rgba(210,185,240,0.35) 90%,
              rgba(200,170,235,0.15) 96%,
              transparent 100%
            ),
            /* Subsurface scattering - light passing through */
            radial-gradient(ellipse 75% 75% at 42% 42%,
              rgba(250,248,255,0.85) 0%,
              rgba(245,240,255,0.6) 15%,
              rgba(238,230,252,0.35) 30%,
              rgba(230,218,248,0.15) 45%,
              transparent 60%
            ),
            /* Caustic refraction pattern */
            radial-gradient(ellipse 25% 35% at 62% 58%,
              rgba(255,255,255,0.2) 0%,
              rgba(255,255,255,0.08) 40%,
              transparent 60%
            ),
            /* Deep base - purple tones matching lotus logo */
            radial-gradient(ellipse 100% 100% at 50% 50%, 
              #F5F0FF 0%, 
              #EDE5FF 8%,
              #E5DBFF 16%,
              #DDD0FF 25%,
              #D4C4FF 35%,
              #CBB8FF 45%,
              #C2ACFF 55%,
              #B8A0F9 65%,
              #AE94F3 75%,
              #A488ED 85%,
              #9A7CE7 92%,
              #9070E1 100%
            );
          box-shadow: 
            /* Inner light transmission - top-left bright zone */
            inset 18px 18px 50px rgba(255,255,255,0.65),
            inset 8px 8px 25px rgba(255,255,255,0.45),
            /* Inner shadow - bottom-right depth */
            inset -22px -22px 45px rgba(154,112,225,0.2),
            inset -10px -10px 20px rgba(174,148,243,0.12),
            /* Contact shadow */
            0 20px 40px rgba(154,112,225,0.18),
            0 8px 16px rgba(174,148,243,0.12),
            /* Ambient light bleed */
            0 0 50px rgba(200,176,255,0.3),
            0 0 90px rgba(220,200,255,0.18),
            0 0 130px rgba(235,225,255,0.08);
          animation: bubble-wobble 4s ease-in-out infinite;
        }

        /* ========================================
           Splash Droplets - Hyper-realistic
           Same rendering principles as main bubble
           ======================================== */
        .droplet {
          position: absolute;
          top: 50%;
          left: 50%;
          border-radius: 50%;
          background: 
            /* Intense specular hotspot */
            radial-gradient(ellipse 30% 22% at 28% 26%, 
              rgba(255,255,255,1) 0%, 
              rgba(255,255,255,0.85) 25%,
              rgba(255,255,255,0.3) 50%,
              transparent 65%
            ),
            /* Secondary catchlight */
            radial-gradient(ellipse 15% 10% at 42% 32%, 
              rgba(255,255,255,0.7) 0%, 
              transparent 60%
            ),
            /* Fresnel rim glow */
            radial-gradient(ellipse 100% 100% at 50% 50%,
              transparent 50%,
              rgba(240,235,255,0.3) 70%,
              rgba(225,215,250,0.4) 85%,
              transparent 100%
            ),
            /* Subsurface scatter */
            radial-gradient(ellipse 65% 65% at 40% 40%,
              rgba(250,248,255,0.75) 0%,
              rgba(240,235,255,0.4) 30%,
              transparent 55%
            ),
            /* Base body - purple tones */
            radial-gradient(ellipse at 50% 50%, 
              #F5F0FF 0%, 
              #E5DBFF 20%,
              #D4C4FF 45%,
              #C2ACFF 70%,
              #B0A0F9 100%
            );
          box-shadow: 
            inset 6px 6px 18px rgba(255,255,255,0.55),
            inset -6px -6px 12px rgba(176,160,249,0.18),
            0 6px 15px rgba(174,148,243,0.15),
            0 0 22px rgba(200,176,255,0.22),
            0 0 35px rgba(220,200,255,0.12);
        }

        .drop-1 {
          width: 35px;
          height: 35px;
          animation: splash-1 3s ease-in-out infinite;
        }

        .drop-2 {
          width: 28px;
          height: 28px;
          animation: splash-2 3.2s ease-in-out infinite 0.2s;
        }

        .drop-3 {
          width: 22px;
          height: 22px;
          animation: splash-3 2.8s ease-in-out infinite 0.4s;
        }

        .drop-4 {
          width: 18px;
          height: 18px;
          animation: splash-4 3.5s ease-in-out infinite 0.1s;
        }

        .drop-5 {
          width: 30px;
          height: 30px;
          animation: splash-5 3.3s ease-in-out infinite 0.3s;
        }

        .drop-6 {
          width: 15px;
          height: 15px;
          animation: splash-6 2.9s ease-in-out infinite 0.5s;
        }

        .drop-7 {
          width: 25px;
          height: 25px;
          animation: splash-7 3.1s ease-in-out infinite 0.15s;
        }

        .drop-8 {
          width: 20px;
          height: 20px;
          animation: splash-8 3.4s ease-in-out infinite 0.35s;
        }

        /* ========================================
           Highlight Overlay
           ======================================== */
        .highlight-overlay {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 200px;
          height: 200px;
          pointer-events: none;
        }

        .shine {
          position: absolute;
          border-radius: 50%;
        }

        /* Primary specular highlight - crisp white reflection */
        .shine-1 {
          width: 52px;
          height: 22px;
          top: 22%;
          left: 17%;
          background: linear-gradient(
            140deg,
            rgba(255,255,255,1) 0%,
            rgba(255,255,255,0.95) 15%,
            rgba(255,255,255,0.7) 35%,
            rgba(255,255,255,0.3) 55%,
            rgba(255,255,255,0.05) 75%,
            transparent 100%
          );
          filter: blur(0.5px);
          opacity: 0.92;
          animation: shine-move 4s ease-in-out infinite;
        }

        /* Secondary highlight - softer diffused */
        .shine-2 {
          width: 26px;
          height: 13px;
          top: 36%;
          left: 15%;
          background: linear-gradient(
            125deg,
            rgba(255,255,255,0.85) 0%,
            rgba(255,255,255,0.5) 35%,
            rgba(255,255,255,0.15) 65%,
            transparent 90%
          );
          filter: blur(0.3px);
          opacity: 0.7;
          animation: shine-move 4s ease-in-out infinite 0.5s;
        }

        /* Tertiary micro-highlight - tiny accent */
        .shine-3 {
          width: 10px;
          height: 6px;
          top: 28%;
          left: 42%;
          background: rgba(255,255,255,0.75);
          filter: blur(0.2px);
          opacity: 0.6;
          animation: shine-move 4s ease-in-out infinite 0.8s;
        }

        /* ========================================
           Animations
           ======================================== */
        @keyframes bubble-wobble {
          0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            border-radius: 50%;
          }
          25% {
            transform: translate(-50%, -50%) scale(1.03);
            border-radius: 48% 52% 50% 50% / 52% 48% 52% 48%;
          }
          50% {
            transform: translate(-50%, -50%) scale(0.98);
            border-radius: 52% 48% 48% 52% / 48% 52% 48% 52%;
          }
          75% {
            transform: translate(-50%, -50%) scale(1.02);
            border-radius: 50% 50% 52% 48% / 50% 50% 50% 50%;
          }
        }

        /* Splash animations - droplets fly out and return */
        @keyframes splash-1 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% + 100px), calc(-50% - 80px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% + 110px), calc(-50% - 60px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% + 60px), calc(-50% - 20px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-2 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% - 90px), calc(-50% - 70px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% - 100px), calc(-50% - 50px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% - 50px), calc(-50% - 15px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-3 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% + 60px), calc(-50% - 110px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% + 65px), calc(-50% - 90px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% + 35px), calc(-50% - 30px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-4 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% - 70px), calc(-50% - 100px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% - 75px), calc(-50% - 80px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% - 40px), calc(-50% - 25px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-5 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% + 120px), calc(-50% - 40px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% + 125px), calc(-50% - 25px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% + 70px), calc(-50% - 10px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-6 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% - 110px), calc(-50% - 30px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% - 115px), calc(-50% - 15px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% - 60px), calc(-50% - 5px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-7 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% + 80px), calc(-50% + 90px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% + 85px), calc(-50% + 100px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% + 45px), calc(-50% + 40px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes splash-8 {
          0%, 100% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
          10% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.9; }
          30% { transform: translate(calc(-50% - 85px), calc(-50% + 80px)) scale(1); opacity: 1; }
          50% { transform: translate(calc(-50% - 90px), calc(-50% + 90px)) scale(0.9); opacity: 0.9; }
          70% { transform: translate(calc(-50% - 45px), calc(-50% + 35px)) scale(0.7); opacity: 0.6; }
          90% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.3; }
        }

        @keyframes shine-move {
          0%, 100% { transform: translate(0, 0); opacity: 0.7; }
          50% { transform: translate(10px, 8px); opacity: 0.5; }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .main-bubble, .droplet, .shine {
            animation: none !important;
          }
          .droplet {
            opacity: 0 !important;
          }
        }
      `})]})}const qm="/images/Black Elephant Flat Illustrative Company Logo.png";function kw(){const s=en(),[a,r]=C.useState({name:"",email:"",organization:""}),[l,c]=C.useState(null),[u,h]=C.useState(!1),m=b=>{b.preventDefault(),console.log("Demo requested:",a),alert("Thank you! We'll be in touch shortly to schedule your demo."),r({name:"",email:"",organization:""})},p=b=>{c(l===b?null:b)},y=()=>{h(!0),setTimeout(()=>{document.querySelector(".demo-toggle-btn")?.scrollIntoView({behavior:"smooth",block:"center"})},100)};return f.jsxs("div",{className:"app",children:[f.jsxs("nav",{className:"navbar",children:[f.jsxs("div",{className:"logo",children:[f.jsx("img",{src:qm,alt:"Amma",className:"logo-image"}),f.jsx("span",{className:"logo-text",children:"Amma"})]}),f.jsxs("div",{className:"nav-links",children:[f.jsx("button",{className:"nav-link",onClick:()=>s("/contact"),children:"Contact"}),f.jsx("button",{className:"nav-cta",onClick:()=>s("/login"),children:"Get Started"})]})]}),f.jsxs("section",{className:"hero",children:[f.jsx(Ow,{}),f.jsx("div",{className:"section-label",children:"HERO"}),f.jsxs("div",{className:"hero-content",children:[f.jsxs("div",{className:"announcement-badge",children:[f.jsx("span",{className:"pulse-dot"}),"Selected for Sam Altman's The Residency"]}),f.jsxs("h1",{className:"hero-title",children:["AI Video Generation",f.jsx("br",{}),f.jsx("span",{className:"gradient-text",children:"for Modern Healthcare"})]}),f.jsx("p",{className:"hero-description",children:"Automatically turn each diagnosis into a personalized animated video for every patient."}),f.jsxs("div",{className:"hero-stats",children:[f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-number",children:"50%"}),f.jsx("div",{className:"stat-label",children:"shorter appointments"})]}),f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-number",children:"100+"}),f.jsx("div",{className:"stat-label",children:"clinicians inside"})]}),f.jsxs("div",{className:"stat",children:[f.jsx("div",{className:"stat-number",children:"5000+"}),f.jsx("div",{className:"stat-label",children:"videos generated"})]})]}),f.jsx("button",{className:"demo-toggle-btn",onClick:()=>h(!u),children:u?"Close Form ":"Book a Demo "}),u&&f.jsxs("form",{onSubmit:m,className:"demo-form",children:[f.jsx("input",{type:"text",placeholder:"Full Name",value:a.name,onChange:b=>r({...a,name:b.target.value}),required:!0,className:"form-input"}),f.jsx("input",{type:"email",placeholder:"Work Email",value:a.email,onChange:b=>r({...a,email:b.target.value}),required:!0,className:"form-input"}),f.jsx("input",{type:"text",placeholder:"Organization",value:a.organization,onChange:b=>r({...a,organization:b.target.value}),required:!0,className:"form-input"}),f.jsx("button",{type:"submit",className:"submit-btn",children:"Submit Demo Request "})]})]}),f.jsx("div",{className:"gradient-blur"})]}),f.jsxs("section",{className:"problem-section",children:[f.jsx("div",{className:"section-label",children:"PROBLEM"}),f.jsxs("div",{className:"problem-content",children:[f.jsxs("h2",{className:"problem-title",children:["Patient confusion is ",f.jsx("span",{className:"gradient-text",children:"costing you time"})]}),f.jsx("p",{className:"problem-description",children:"Repeated explanations. Endless follow-up calls. Poor treatment adherence. Your patients leave confused, and your staff spends hours answering the same questions."})]})]}),f.jsxs("section",{className:"features-section",children:[f.jsxs("h2",{className:"section-heading",children:["How ",f.jsx("span",{className:"gradient-text",children:"Amma works"})]}),f.jsx("p",{className:"section-subheading",children:"From diagnosis to recovery, Amma transforms complex medical information into personalized animated videos that patients actually understand and follow."}),f.jsxs("div",{className:"feature-showcase",children:[f.jsxs("div",{className:"feature-large",children:[f.jsx("div",{className:"feature-visual",children:f.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"feature-video",children:[f.jsx("source",{src:"/images/20251121_0810_01kakjqdsse5jb6f3mdz9p3j0t.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})}),f.jsxs("div",{className:"feature-text",children:[f.jsx("h3",{children:"Instant Personalized Videos"}),f.jsx("p",{children:"Upload clinical notes or select a diagnosis, and Amma instantly generates hyper-personalized animated videos. Each video explains the condition and treatment in plain language tailored to your patient's specific situation."})]})]}),f.jsxs("div",{className:"feature-large reverse",children:[f.jsx("div",{className:"feature-visual",children:f.jsx("img",{src:"/images/Screenshot 2025-11-21 at 5.50.24 PM.png",alt:"Daily Follow-Up Animations",className:"feature-image"})}),f.jsxs("div",{className:"feature-text",children:[f.jsx("h3",{children:"Daily Follow-Up Animations"}),f.jsx("p",{children:"After the visit, patients receive daily bite-sized animations through the paired mobile app. Each animation guides medications, exercises, and follow-ups step-by-step, ensuring patients actually stick to their recovery plan."})]})]}),f.jsxs("div",{className:"feature-large",children:[f.jsx("div",{className:"feature-visual",children:f.jsx("img",{src:"/images/Screenshot 2025-11-21 at 5.50.39 PM.png",alt:"Real-Time AI Q&A",className:"feature-image"})}),f.jsxs("div",{className:"feature-text",children:[f.jsx("h3",{children:"Real-Time AI Q&A"}),f.jsx("p",{children:"Patients can ask questions anytimeAmma's AI answers instantly in chat or generates a new video on the spot. Clinicians stay in the loop through the shared app, so they're always aware without fielding every call."})]})]})]})]}),f.jsxs("section",{className:"testimonial-section",children:[f.jsx("div",{className:"section-label",children:"TESTIMONIAL"}),f.jsxs("div",{className:"testimonial-content",children:[f.jsx("h2",{className:"testimonial-quote",children:`"We've cut follow-up calls in half. Patients finally understand their treatment, and my staff has time to focus on actual care instead of answering the same questions."`}),f.jsxs("div",{className:"testimonial-author",children:[f.jsx("div",{className:"author-name",children:"Dr. Vani Velkuru"}),f.jsx("div",{className:"author-title",children:"Head Rheumotologist, Washington Hospital"})]})]}),f.jsxs("div",{className:"trusted-by",children:[f.jsx("p",{children:"Trusted by clinics and practices including:"}),f.jsxs("div",{className:"logo-strip",children:[f.jsx("div",{className:"company-logo",children:"Valley Ortho"}),f.jsx("div",{className:"company-logo",children:"Bay Area PT"}),f.jsx("div",{className:"company-logo",children:"Summit Cardiology"}),f.jsx("div",{className:"company-logo",children:"Westside Family Med"})]})]})]}),f.jsxs("section",{className:"benefits-section",children:[f.jsx("div",{className:"section-label",children:"BENEFITS"}),f.jsx("h2",{className:"section-heading",children:"What we actually change"}),f.jsx("p",{className:"section-subheading",children:"Cut confusion, reduce callbacks, and boost adherencewithout adding to your staff's workload."}),f.jsxs("div",{className:"benefits-grid",children:[f.jsxs("div",{className:"benefit-card",children:[f.jsx("h3",{children:"80% Less Follow-Up Calls"}),f.jsx("p",{children:"When patients actually understand their treatment through personalized videos, they stop calling with the same questions. Your staff reclaims hours every week."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("h3",{children:"Better Treatment Adherence"}),f.jsx("p",{children:"Daily bite-sized animations keep patients on track with medications, exercises, and follow-ups. No more guessing if they're following the plan."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("h3",{children:"50% Shorter Appointments"}),f.jsx("p",{children:"Stop repeating the same explanations every visit. Amma handles patient education automatically, freeing you to focus on diagnosis and treatment."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("h3",{children:"HIPAA-Compliant & Secure"}),f.jsx("p",{children:"Everything runs in a fully secure, HIPAA-compliant environment. You get peace of mind while delivering better patient care."})]})]})]}),f.jsxs("section",{className:"faq-section",children:[f.jsx("div",{className:"section-label",children:"FAQ"}),f.jsx("h2",{className:"section-heading",children:"Frequently asked questions"}),f.jsx("p",{className:"section-subheading",children:"Here are some of our most frequently asked questions."}),f.jsxs("div",{className:"faq-container",children:[f.jsxs("div",{className:`faq-item ${l===0?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>p(0),children:[f.jsx("span",{children:"What types of conditions and specialties does Amma support?"}),f.jsx("span",{className:"faq-icon",children:l===0?"":"+"})]}),l===0&&f.jsx("div",{className:"faq-answer",children:"Amma works across specialtiesorthopedics, cardiology, physical therapy, primary care, and more. Whether it's post-op instructions, chronic disease management, or medication adherence, our AI generates personalized videos for any diagnosis or treatment plan."})]}),f.jsxs("div",{className:`faq-item ${l===1?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>p(1),children:[f.jsx("span",{children:"How does pricing work?"}),f.jsx("span",{className:"faq-icon",children:l===1?"":"+"})]}),l===1&&f.jsx("div",{className:"faq-answer",children:"We offer flexible per-clinician or per-patient pricing based on your practice size. Most clinics start with a pilot and scale up as they see results. Book a demo to discuss what works best for your workflow."})]}),f.jsxs("div",{className:`faq-item ${l===2?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>p(2),children:[f.jsx("span",{children:"Is Amma HIPAA compliant?"}),f.jsx("span",{className:"faq-icon",children:l===2?"":"+"})]}),l===2&&f.jsx("div",{className:"faq-answer",children:"Yes, absolutely. Amma runs in a fully HIPAA-compliant environment with enterprise-grade encryption, secure data storage, and comprehensive Business Associate Agreements (BAAs). Patient privacy and security are our top priority."})]}),f.jsxs("div",{className:`faq-item ${l===3?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>p(3),children:[f.jsx("span",{children:"How long does setup take?"}),f.jsx("span",{className:"faq-icon",children:l===3?"":"+"})]}),l===3&&f.jsx("div",{className:"faq-answer",children:"Most clinics are up and running within a few days. We provide simple onboarding, staff training, and support to get you started. No complex EHR integration required just upload notes or select a diagnosis and you're ready to go."})]}),f.jsxs("div",{className:`faq-item ${l===4?"open":""}`,children:[f.jsxs("button",{className:"faq-question",onClick:()=>p(4),children:[f.jsx("span",{children:"Do patients need to download an app?"}),f.jsx("span",{className:"faq-icon",children:l===4?"":"+"})]}),l===4&&f.jsx("div",{className:"faq-answer",children:"Yes, patients receive their personalized videos via the Amma mobile app, which also delivers daily follow-up animations and allows them to ask questions anytime. The app is available on iOS and Android and takes seconds to set up."})]})]})]}),f.jsxs("section",{className:"final-cta",children:[f.jsx("div",{className:"section-label",children:"GET STARTED"}),f.jsxs("div",{className:"cta-content",children:[f.jsx("h2",{className:"cta-title",children:"Stop repeating yourself. Start healing better."}),f.jsx("p",{className:"cta-description",children:"Join 100+ clinicians using Amma to save time, reduce callbacks, and help patients actually follow through on their care."}),f.jsx("button",{className:"cta-button",onClick:y,children:"Book Your Demo "})]})]}),f.jsx("footer",{className:"footer",children:f.jsxs("div",{className:"footer-content",children:[f.jsxs("div",{className:"footer-brand",children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[f.jsx("img",{src:qm,alt:"Amma",style:{height:"35px",width:"auto"}}),f.jsx("span",{className:"logo-text",children:"Amma"})]}),f.jsx("p",{className:"footer-tagline",children:"AI copilot for patient understanding and follow-through."})]}),f.jsxs("div",{className:"footer-links",children:[f.jsx("a",{href:"#privacy",children:"Privacy Policy"}),f.jsx("span",{children:""}),f.jsx("a",{href:"#terms",children:"Terms of Service"}),f.jsx("span",{children:""}),f.jsx("a",{href:"#contact",children:"Contact"})]})]})})]})}function Nw(){return f.jsxs(kb,{children:[f.jsx(sn,{path:"/",element:f.jsx(kw,{})}),f.jsx(sn,{path:"/contact",element:f.jsx(h1,{})}),f.jsx(sn,{path:"/login",element:f.jsx($2,{})}),f.jsx(sn,{path:"/profile",element:f.jsx(G2,{})}),f.jsx(sn,{path:"/patient",element:f.jsx(ww,{})}),f.jsx(sn,{path:"/doctor",element:f.jsx(jw,{})}),f.jsx(sn,{path:"/patient-files",element:f.jsx(Tw,{})}),f.jsx(sn,{path:"/doctor/settings",element:f.jsx(Cw,{})}),f.jsx(sn,{path:"/epic-callback",element:f.jsx(Rw,{})})]})}const zw="158294585814-rjagi60pklm8f2g5b3pertvlsqei53ca.apps.googleusercontent.com";qv.createRoot(document.getElementById("root")).render(f.jsx(C.StrictMode,{children:f.jsx(t1,{children:f.jsx(m1,{clientId:zw,children:f.jsx(Nw,{})})})}));
